# Logfile created on Wed Jul 29 13:18:32 -0700 2009 by logger.rb/22285
[Wed, 29 Jul 2009 20:19:16 +0000] DEBUG: SQL (0.000175)  SET SQL_AUTO_IS_NULL=0
[Wed, 29 Jul 2009 20:19:16 +0000] DEBUG: SQL (0.000000)  Mysql::Error: MySQL server has gone away: SHOW TABLES
[Wed, 29 Jul 2009 20:19:16 +0000] DEBUG: Transitioning state from booting to decommissioning
[Wed, 29 Jul 2009 20:19:16 +0000] DEBUG: Transitioning state from decommissioning to decommissioning
[Wed, 29 Jul 2009 20:19:26 +0000] ERROR: *ERROR> ERROR

[Wed, 29 Jul 2009 20:19:26 +0000] INFO: *RS> STATUS

[Wed, 29 Jul 2009 20:19:26 +0000] INFO: OUTPUT

[Wed, 29 Jul 2009 20:19:26 +0000] INFO: RAW OUTPUT
[Wed, 29 Jul 2009 20:19:26 +0000] INFO: ********************************************************************************
*RS>                                SECTION                                 ****

[Wed, 29 Jul 2009 20:19:26 +0000] INFO: *RS> INFO

[Wed, 29 Jul 2009 20:21:53 +0000] DEBUG: SQL (0.000250)  SET SQL_AUTO_IS_NULL=0
[Wed, 29 Jul 2009 20:21:53 +0000] DEBUG: SQL (0.000000)  Mysql::Error: MySQL server has gone away: SHOW TABLES
[Wed, 29 Jul 2009 20:21:53 +0000] DEBUG: Transitioning state from booting to decommissioning
[Wed, 29 Jul 2009 20:21:53 +0000] DEBUG: Transitioning state from decommissioning to decommissioning
[Wed, 29 Jul 2009 20:22:03 +0000] ERROR: *ERROR> ERROR

[Wed, 29 Jul 2009 20:22:03 +0000] INFO: *RS> STATUS

[Wed, 29 Jul 2009 20:22:03 +0000] INFO: OUTPUT

[Wed, 29 Jul 2009 20:22:03 +0000] INFO: RAW OUTPUT
[Wed, 29 Jul 2009 20:22:03 +0000] INFO: ********************************************************************************
*RS>                                SECTION                                 ****

[Wed, 29 Jul 2009 20:22:03 +0000] INFO: *RS> INFO

[Wed, 29 Jul 2009 20:22:51 +0000] DEBUG: SQL (0.000104)  SET SQL_AUTO_IS_NULL=0
[Wed, 29 Jul 2009 20:22:51 +0000] DEBUG: SQL (0.001146)  SHOW TABLES
[Wed, 29 Jul 2009 20:22:52 +0000] DEBUG: ServerTemplate Columns (0.001949)  SHOW FIELDS FROM `server_templates`
[Wed, 29 Jul 2009 20:22:52 +0000] DEBUG: RightScript Columns (0.001985)  SHOW FIELDS FROM `right_scripts`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Columns (0.002270)  SHOW FIELDS FROM `accounts`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Load (0.000374)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Deployment Columns (0.001630)  SHOW FIELDS FROM `deployments`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Deployment Load (0.000661)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplate Load (0.003449)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Server Columns (0.001917)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Server Load (0.002398)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Load (0.007502)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000120)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SharingGroupPublishable Load (0.000327)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3742 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerArray Load (0.000328)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3742) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000214)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3742 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AlertSpec Load (0.007312)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3742 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Load (0.000399)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3742) ORDER BY position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Columns (0.001472)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Columns (0.001354)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Update (0.000264)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3742 AND position > 1) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Update (0.000210)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45812
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000197)   DELETE FROM `server_template_executables`
 WHERE `id` = 45812

[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Update (0.000250)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3742 AND position > 1) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Update (0.000175)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45813
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000178)   DELETE FROM `server_template_executables`
 WHERE `id` = 45813

[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Update (0.000204)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3742 AND position > 1) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Update (0.000173)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45814
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000171)   DELETE FROM `server_template_executables`
 WHERE `id` = 45814

[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Load (0.000345)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3742) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateChefRecipe Columns (0.001491)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000340)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3742) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplate Update (0.000237)  UPDATE `server_templates` SET deleted_at = '2009-07-29 20:22:56' WHERE (id = 3742) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000568)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Component Columns (0.001785)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AlertSpec Load (0.007415)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623121 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000261)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623121 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ElasticLoadBalancer Load (0.000240)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623121)) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Component Update (0.000254)  UPDATE `servers` SET deleted_at = '2009-07-29 20:22:56' WHERE (id = 623121) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000699)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SharingGroupPublishable Load (0.000268)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5250 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScriptAttachment Load (0.000363)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5250) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 20:22:56') ORDER BY position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Load (0.000237)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5250) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Update (0.000206)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 20:22:56' WHERE (id = 5250) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000676)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000126)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SharingGroupPublishable Columns (0.001538)  SHOW FIELDS FROM `sharing_group_publishables`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.001083)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 20:22:56')) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplate Create (0.000343)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 20:22:56', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplate Update (0.000516)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 20:22:56', `parameters` = '--- {}\n\n', `head_version_id` = 3743, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3743
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000688)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000181)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.001807)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:56')) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Create (0.000321)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 20:22:56', NULL, '--- {}\n\n', '2009-07-29 20:22:56', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Update (0.000317)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 20:22:56', `name` = 'RightNet Test Script', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `head_version_id` = 5251, `created_at` = '2009-07-29 20:22:56', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5251
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000732)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000312)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5251 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3743) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000429)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3743 AND apply = 'boot' AND right_scripts.head_version_id = 5251) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Load (0.000365)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3743) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Create (0.000215)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5251, 3743, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000641)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000280)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5251 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3743) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000398)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3743 AND apply = 'operational' AND right_scripts.head_version_id = 5251) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Load (0.000331)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3743) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Create (0.000206)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5251, 3743, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000575)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000393)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5251 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3743) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000450)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3743 AND apply = 'decommission' AND right_scripts.head_version_id = 5251) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Load (0.000324)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3743) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateRightScript Create (0.000200)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5251, 3743, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000580)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Columns (0.001839)  SHOW FIELDS FROM `ec2_settings`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: CloudAccount Load (0.000306)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: CloudAccount Columns (0.001428)  SHOW FIELDS FROM `cloud_accounts`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2SecurityGroup Columns (0.001538)  SHOW FIELDS FROM `ec2_security_groups`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2SecurityGroup Load (0.000446)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 20:22:56')) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Cloud Load (0.000280)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Cloud Columns (0.001811)  SHOW FIELDS FROM `clouds`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000116)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Deployment Load (0.000305)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Create (0.000268)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 20:22:56', NULL, NULL, '--- {}\n\n', '2009-07-29 20:22:56', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Update (0.000263)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14345
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Component Create (0.000281)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 20:22:56', 1, 'RightNet Test Server', 394, '2009-07-29 20:22:56', NULL, 14345, 71, 3743, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000604)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Create (0.000228)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 20:22:56', NULL, NULL, '--- {}\n\n', '2009-07-29 20:22:56', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000731)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Columns (0.002217)  SHOW FIELDS FROM `ec2_instances`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000132)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000331)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'e85ba1b3b446f17c50c253f329589c7c' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Update (0.000201)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14346
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Create (0.000279)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '2005f161af1f2feaa3b3640ba80222f7', '2009-07-29 20:22:56', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 20:22:56', NULL, 'af9635023118c88e09342a6fd1233ce0', 14346, 71, NULL, 3743, 'sketchy1-1', NULL, 2, 'e85ba1b3b446f17c50c253f329589c7c', '090a73e6b1de5481055d34789345f428', 'd6fae423c006e42cee2a074ffb1c8625', 1, '8bc1bf3d0c5630887201414c0e613ecd', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000675)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Load (0.000560)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3743) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:56') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerIncarnation Columns (0.001624)  SHOW FIELDS FROM `server_incarnations`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Load (0.000325)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000267)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623122 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerIncarnation Create (0.000225)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 20:22:56', NULL, NULL, 394, 339634, 71, 623122, '2009-07-29 20:22:56', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Update (0.000251)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14345
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Component Update (0.000216)  UPDATE `servers` SET `updated_at` = '2009-07-29 20:22:56', `active_server_incarnation_id` = 108207, `disabled_scripts` = NULL WHERE `id` = 623122
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000693)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Component Load (0.000279)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623122) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000339)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'e85ba1b3b446f17c50c253f329589c7c' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339634) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Update (0.000225)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14346
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Update (0.000167)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339634
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000113)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplate Load (0.000249)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3743) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000220)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3743 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Deployment Load (0.000206)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000212)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000205)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623122 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Load (0.000273)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerIncarnation Load (0.000386)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339634 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: InstanceApiToken Columns (0.001524)  SHOW FIELDS FROM `instance_api_tokens`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000128)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: InstanceApiToken Create (0.000252)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 20:22:56', 108207, 'af9635023118c88e09342a6fd1233ce0', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjAyMjU1WhcNMTkwNzI3MjAy\nMjU1WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCfMPlgUunkMxpjRI/oa+cisqCoAjzh\npx6yoBRi4UPh2m8A1eTspZB/el3nzCKeYpYvU5LkW0B1isLPvhUSyixnInUbpo5+\n8Po1Fi63DfgUW9HltWyj8LnQ5lPgrvf5Phr3plCAgQ/FbedRLrHPGUvRz7Hb4xxQ\n75icPDTgQlI/uLNOyXjUKfI35v0VdKRCFfPt579UpJfG3fxvgfY6tI3B3lwKF7NN\nONViDjjPrzK61OuGK5D7jYHEZrPs/q+gVg5DBfxXfPZCqa1NTGeFS+sEPZHaBr3e\nJy1E7nwFLjjOqnYNWP8cG0uzKQXnXLQ504ABBjpGsnsee8CAPwYFNfoRAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBABmUpRQGezk1Ut3+m/+cx9JHYeaoYRaqAQSebDW6\nLI+kX/EpeZG2uhXBALW9zjf7pmD2kDNmgijw3LjIH/Yx0ZDRIHAoKIEg9eUC/YSH\nZLQnIYlUS/qk1SKNgIqifOI7r8kujNfd/WwXFOkL6IOBMyK/F3WQ2KrZCWzhCU14\nSwQVC2CThhnIxztf0cbAiOozIKwUhzVPItDA7MqK0290n2FvSUnXPtonfPov8Cm3\nji6oBHpzSuYcHD6xotnzrhW8ie3GAGvkAXGC0ALFPGWFN5txJPnklmb1BiTjDApz\nWMj6CLHs2vV0cVwIryYQCAVWaMvkMUU70ctrJ81TX/bobOI=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000690)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: InstanceApiToken Load (0.000455)  SELECT * FROM `instance_api_tokens` WHERE (`instance_api_tokens`.`id` = 23) AND (instance_api_tokens.deleted_at IS NULL OR instance_api_tokens.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerIncarnation Load (0.000225)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.`id` = 108207) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Load (0.000397)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339634) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000117)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Load (0.000269)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14346) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000344)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'e85ba1b3b446f17c50c253f329589c7c' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339634) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Setting Update (0.000297)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14346
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Update (0.000234)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339634
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000115)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Load (0.000322)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339634) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Load (0.000315)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Columns (0.001640)  SHOW FIELDS FROM `audit_entries`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntryDetail Columns (0.001287)  SHOW FIELDS FROM `audit_entry_details`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000124)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntryDetail Create (0.000241)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Create (0.000392)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339634, 16, '2009-07-29 20:22:56', 71, NULL, '', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000367)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000241)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000623)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Repository Load (0.000286)  SELECT * FROM `repositories` WHERE (repositories.deleted_at IS NULL OR repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Repository Columns (0.001468)  SHOW FIELDS FROM `repositories`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Cloud Load (0.000356)  SELECT * FROM `clouds` WHERE (`clouds`.`id` = 1) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000204)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 1) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Columns (0.002259)  SHOW FIELDS FROM `repository_configurations`
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000866)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 2) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000371)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 3) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000240)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 4) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000249)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 5) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000315)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 6) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000201)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 7) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RepositoryConfiguration Load (0.000194)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 8) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000486)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339634 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000279)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000124)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntryDetail Create (0.000235)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Create (0.000188)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339634, 17, '2009-07-29 20:22:56', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000307)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000223)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000689)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerIncarnation Load (0.000395)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339634 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Server Load (0.000232)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623122) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplate Load (0.000226)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3743) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Load (0.000382)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3743) AND (apply = 'boot') ORDER BY position, position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Load (0.000222)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5251) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScriptAttachment Load (0.000331)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5251) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 20:22:56') ORDER BY position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Load (0.000301)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000186)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3743) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000212)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000158)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntryDetail Create (0.000175)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Create (0.000185)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339634, 18, '2009-07-29 20:22:56', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000280)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Load (0.000238)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000622)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerIncarnation Load (0.001415)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339634 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Server Load (0.000872)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623122) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerTemplateExecutable Load (0.000673)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3743) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScript Load (0.000365)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5251) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: RightScriptAttachment Load (0.000405)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5251) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 20:22:56') ORDER BY position
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Account Load (0.000292)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 20:22:56') LIMIT 1
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000083)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: InstanceApiToken Update (0.000260)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 20:22:56' WHERE (id = 23) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000598)  COMMIT
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000151)  BEGIN
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: FrozenRepository Load (0.000273)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339634 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AuditEntry Delete all (0.000243)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339634) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: WorkUnit Delete all (0.000167)  DELETE FROM `work_units` WHERE ((instance_id = 339634) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: AlertSpec Load (0.007186)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339634 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: ServerAlert Load (0.000349)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339634 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 20:22:56') 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000258)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339634)) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: Ec2Instance Update (0.000205)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 20:22:56' WHERE (id = 339634) 
[Wed, 29 Jul 2009 20:22:56 +0000] DEBUG: SQL (0.000624)  COMMIT
[Wed, 29 Jul 2009 20:22:58 +0000] DEBUG: Account Load (0.000420)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:58 +0000] DEBUG: Account Load (0.000000)  Errno::EBADF: Bad file descriptor - /var/log/install: SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Account Load (0.000463)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Deployment Load (0.000702)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 20:22:59') LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Load (0.002860)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 20:22:59') LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Server Load (0.002299)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 20:22:59') LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScript Load (0.007565)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:59') LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000121)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SharingGroupPublishable Load (0.000299)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3743 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerArray Load (0.000328)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3743) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: FrozenRepository Load (0.000234)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3743 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: AlertSpec Load (0.007316)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3743 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000394)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3743) ORDER BY position
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Update (0.000222)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3743 AND position > 1) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Update (0.000255)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45815
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000177)   DELETE FROM `server_template_executables`
 WHERE `id` = 45815

[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Update (0.000219)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3743 AND position > 1) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Update (0.000172)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45816
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000192)   DELETE FROM `server_template_executables`
 WHERE `id` = 45816

[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Update (0.000220)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3743 AND position > 1) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Update (0.000179)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45817
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000177)   DELETE FROM `server_template_executables`
 WHERE `id` = 45817

[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Load (0.000338)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3743) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000284)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3743) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Update (0.000225)  UPDATE `server_templates` SET deleted_at = '2009-07-29 20:22:59' WHERE (id = 3743) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000591)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: AlertSpec Load (0.007148)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623122 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: FrozenRepository Load (0.000282)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623122 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ElasticLoadBalancer Load (0.000227)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623122)) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Component Update (0.000222)  UPDATE `servers` SET deleted_at = '2009-07-29 20:22:59' WHERE (id = 623122) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000663)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SharingGroupPublishable Load (0.000263)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5251 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScriptAttachment Load (0.000336)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5251) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 20:22:59') ORDER BY position
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Load (0.000228)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5251) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScript Update (0.000198)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 20:22:59' WHERE (id = 5251) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000602)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.001137)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 20:22:59')) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Create (0.000252)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 20:22:59', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Update (0.000290)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 20:22:59', `parameters` = '--- {}\n\n', `head_version_id` = 3744, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3744
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000676)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.001718)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:59')) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScript Create (0.000303)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 20:22:59', NULL, '--- {}\n\n', '2009-07-29 20:22:59', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScript Update (0.000370)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 20:22:59', `name` = 'RightNet Test Script', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `head_version_id` = 5252, `created_at` = '2009-07-29 20:22:59', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5252
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000566)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000314)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5252 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3744) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000389)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3744 AND apply = 'boot' AND right_scripts.head_version_id = 5252) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000307)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3744) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000212)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5252, 3744, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000580)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000289)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5252 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3744) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000395)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3744 AND apply = 'operational' AND right_scripts.head_version_id = 5252) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000318)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3744) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000227)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5252, 3744, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000575)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000400)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5252 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3744) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000463)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3744 AND apply = 'decommission' AND right_scripts.head_version_id = 5252) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000332)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3744) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000204)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5252, 3744, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000593)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: CloudAccount Load (0.000272)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2SecurityGroup Load (0.000434)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 20:22:59')) LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Cloud Load (0.000263)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 20:22:59') LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Deployment Load (0.000219)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Setting Create (0.000226)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 20:22:59', NULL, NULL, '--- {}\n\n', '2009-07-29 20:22:59', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Setting Update (0.000217)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14347
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Component Create (0.000246)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 20:22:59', 1, 'RightNet Test Server', 394, '2009-07-29 20:22:59', NULL, 14347, 71, 3744, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000593)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Setting Create (0.000209)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 20:22:59', NULL, NULL, '--- {}\n\n', '2009-07-29 20:22:59', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000633)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000298)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '5a0e91014ffb93e2b5cd6e6c12840587' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Setting Update (0.000204)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14348
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Instance Create (0.000270)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'd371cf2eb705a7f94f9830b95c885245', '2009-07-29 20:22:59', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 20:22:59', NULL, '5c6f85515f6b907a716f837ddd852a64', 14348, 71, NULL, 3744, 'sketchy1-1', NULL, 2, '5a0e91014ffb93e2b5cd6e6c12840587', '7de36fb5d8c12f42774bf407fbb3cd00', '83e3cb53531ff6fe11af371513915bfb', 1, 'fa4797888b8e7a10c6c76ab2f395bbb0', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000583)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScript Load (0.000572)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3744) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:59') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Account Load (0.000291)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000253)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623123 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerIncarnation Create (0.000243)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 20:22:59', NULL, NULL, 394, 339635, 71, 623123, '2009-07-29 20:22:59', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Setting Update (0.000231)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14347
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Component Update (0.000228)  UPDATE `servers` SET `updated_at` = '2009-07-29 20:22:59', `active_server_incarnation_id` = 108208, `disabled_scripts` = NULL WHERE `id` = 623123
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000633)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Component Load (0.000278)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623123) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000316)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '5a0e91014ffb93e2b5cd6e6c12840587' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339635) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Setting Update (0.000227)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14348
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Instance Update (0.000162)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339635
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000108)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Load (0.000249)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3744) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: FrozenRepository Load (0.000223)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3744 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Deployment Load (0.000208)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: FrozenRepository Load (0.000202)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: FrozenRepository Load (0.000212)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623123 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Account Load (0.000251)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerIncarnation Load (0.000408)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339635 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000112)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: InstanceApiToken Create (0.000233)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 20:22:59', 108208, '5c6f85515f6b907a716f837ddd852a64', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjAyMjU5WhcNMTkwNzI3MjAy\nMjU5WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCmv6gzU5KtnxdC+WWOTq9820tWv7ZT\nTd7f7v4+BzHIIBls5c/KBwfKkqmlitqXhh/yLLFKr/7OHDyT4QTNo77Tpg3jAnLe\nupv2A2gsT8V+kd1UJgBBcFAZcmRMjQALk6IO8HExF5JiQS5X8FocnHa1LhYd4K1v\nf9Xx4vQlHbydpI1t1QPmw8bwxNUFQK5xXj/1+MjI0iPnbCopS2qPwkrKYV84B4hn\nQZPQZtph84N5s3z1LkJQeOH28cmU7e+ERlWhD+JD2Iu15iGrzn8cEdfiQuGkR6w4\nYBQQ5hHtjR6IwA//UOWc4+CWiExEo8LYWDV4m4qkaBROL2y8wP5tYilrAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAC6qIS9kgm74ybICGhc33FGcdEaXuouzPrm2yY4A\n3SrGXR6Q1JPtVFsPcMyi+KXD2jTdlF/O1NSP4SPTjBHWlQvpHb4gMLeqlobTK8cv\n592+Y9RaYhTVh0Aj5lyl/e06925q/7HR8jNhiHO60ZblIpgnryT//yHzX2WYyrYp\nCUbzvwNJzv4zrXBriRZExxTJZRu2wdJISqihEeRItczDhA0xaLXM+YorKeUNX5s3\n0uqEOaNzpSAQliMs45pDGQdNI+UOf11TSMqAx9MEhC0/fbrnjY0jyfImLmZJGeP0\nvneP5990F3uJ6zQkVV9Cguj/L4mTd10ewvY+eNPpg6WsiBM=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000591)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerIncarnation Load (0.000440)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339635 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Server Load (0.000234)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623123) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Load (0.000222)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3744) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: RightScript Load (0.000455)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3744) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:22:59') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Instance Load (0.000377)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339635) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplate Load (0.000238)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3744) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Account Load (0.000254)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Account Load (0.000373)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 20:22:59') LIMIT 1
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000185)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3744) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: InstanceApiToken Update (0.000220)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 20:22:59' WHERE (id = 24) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000605)  COMMIT
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: FrozenRepository Load (0.000249)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339635 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: AuditEntry Delete all (0.000172)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339635) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: WorkUnit Delete all (0.000161)  DELETE FROM `work_units` WHERE ((instance_id = 339635) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: AlertSpec Load (0.007144)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339635 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: ServerAlert Load (0.000316)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339635 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 20:22:59') 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000225)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339635)) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: Ec2Instance Update (0.000199)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 20:22:59' WHERE (id = 339635) 
[Wed, 29 Jul 2009 20:22:59 +0000] DEBUG: SQL (0.000709)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Account Load (0.000428)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Account Load (0.000000)  Errno::EBADF: Bad file descriptor - /var/log/install: SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Account Load (0.000432)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Deployment Load (0.000606)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 20:23:01') LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplate Load (0.002857)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 20:23:01') LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Server Load (0.002282)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 20:23:01') LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: RightScript Load (0.007364)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:23:01') LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000121)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SharingGroupPublishable Load (0.000294)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3744 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerArray Load (0.000332)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3744) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 20:23:01') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: FrozenRepository Load (0.000220)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3744 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:23:01') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: AlertSpec Load (0.007177)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3744 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:23:01') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Load (0.000462)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3744) ORDER BY position
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Update (0.000251)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3744 AND position > 1) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Update (0.000180)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45818
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000185)   DELETE FROM `server_template_executables`
 WHERE `id` = 45818

[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Update (0.000211)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3744 AND position > 1) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Update (0.000219)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45819
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000175)   DELETE FROM `server_template_executables`
 WHERE `id` = 45819

[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Update (0.000204)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3744 AND position > 1) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Update (0.000177)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45820
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000170)   DELETE FROM `server_template_executables`
 WHERE `id` = 45820

[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Load (0.000338)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3744) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000279)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3744) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplate Update (0.000228)  UPDATE `server_templates` SET deleted_at = '2009-07-29 20:23:01' WHERE (id = 3744) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000570)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000080)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: AlertSpec Load (0.007475)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623123 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:23:01') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: FrozenRepository Load (0.000249)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623123 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:23:01') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ElasticLoadBalancer Load (0.000225)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623123)) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Component Update (0.000223)  UPDATE `servers` SET deleted_at = '2009-07-29 20:23:01' WHERE (id = 623123) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000671)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SharingGroupPublishable Load (0.000268)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5252 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: RightScriptAttachment Load (0.000333)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5252) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 20:23:01') ORDER BY position
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Load (0.000415)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5252) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: RightScript Update (0.000224)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 20:23:01' WHERE (id = 5252) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000615)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.001106)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 20:23:01')) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplate Create (0.000277)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 20:23:01', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplate Update (0.000293)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 20:23:01', `parameters` = '--- {}\n\n', `head_version_id` = 3745, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3745
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000484)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000085)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.001845)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:23:01')) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: RightScript Create (0.000305)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 20:23:01', NULL, '--- {}\n\n', '2009-07-29 20:23:01', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: RightScript Update (0.000348)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 20:23:01', `name` = 'RightNet Test Script', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `head_version_id` = 5253, `created_at` = '2009-07-29 20:23:01', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5253
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000674)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000282)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5253 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3745) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000457)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3745 AND apply = 'boot' AND right_scripts.head_version_id = 5253) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Load (0.000332)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3745) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Create (0.000236)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5253, 3745, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000614)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000331)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5253 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3745) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000396)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3745 AND apply = 'operational' AND right_scripts.head_version_id = 5253) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Load (0.000328)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3745) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Create (0.000198)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5253, 3745, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000645)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000112)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000368)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5253 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3745) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000442)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3745 AND apply = 'decommission' AND right_scripts.head_version_id = 5253) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateExecutable Load (0.000342)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3745) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerTemplateRightScript Create (0.000200)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5253, 3745, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000585)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: CloudAccount Load (0.000277)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 20:23:01') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Ec2SecurityGroup Load (0.000372)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 20:23:01')) LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Cloud Load (0.000249)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 20:23:01') LIMIT 1
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Deployment Load (0.000225)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Ec2Setting Create (0.000236)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 20:23:01', NULL, NULL, '--- {}\n\n', '2009-07-29 20:23:01', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Ec2Setting Update (0.000204)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14349
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Component Create (0.000219)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 20:23:01', 1, 'RightNet Test Server', 394, '2009-07-29 20:23:01', NULL, 14349, 71, 3745, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000584)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Ec2Setting Create (0.000212)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 20:23:01', NULL, NULL, '--- {}\n\n', '2009-07-29 20:23:01', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000630)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000305)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'b126fb1dfefef544204c89025a6603a1' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Ec2Setting Update (0.000201)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14350
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Ec2Instance Create (0.000328)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '8fa45bc06dde348a109fc7bab0947359', '2009-07-29 20:23:01', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 20:23:01', NULL, 'eeb69e5f8c0bcc42306650565add43eb', 14350, 71, NULL, 3745, 'sketchy1-1', NULL, 2, 'b126fb1dfefef544204c89025a6603a1', 'e68fc9a947fc8ba3eb31c5560602af2c', '71ebd1c7c02aea29ab7276e9e0079323', 1, '3b7271aac19f38e774bf6cd7dd2a9d57', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000656)  COMMIT
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: RightScript Load (0.000553)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3745) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:23:01') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: Account Load (0.000295)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: SQL (0.000235)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623124 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 20:23:01 +0000] DEBUG: ServerIncarnation Create (0.000199)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 20:23:01', NULL, NULL, 394, 339636, 71, 623124, '2009-07-29 20:23:01', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Ec2Setting Update (0.000229)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14349
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Component Update (0.000228)  UPDATE `servers` SET `updated_at` = '2009-07-29 20:23:02', `active_server_incarnation_id` = 108209, `disabled_scripts` = NULL WHERE `id` = 623124
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000596)  COMMIT
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Component Load (0.000271)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623124) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000316)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'b126fb1dfefef544204c89025a6603a1' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339636) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Ec2Setting Update (0.000191)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14350
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Ec2Instance Update (0.000171)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339636
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000108)  COMMIT
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: ServerTemplate Load (0.000292)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3745) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: FrozenRepository Load (0.000229)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3745 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:23:02') 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Deployment Load (0.000211)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: FrozenRepository Load (0.000211)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:23:02') 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: FrozenRepository Load (0.000209)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623124 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:23:02') 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Account Load (0.000251)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: ServerIncarnation Load (0.000363)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339636 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: InstanceApiToken Create (0.000260)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 20:23:02', 108209, 'eeb69e5f8c0bcc42306650565add43eb', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjAyMzAxWhcNMTkwNzI3MjAy\nMzAxWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCpyZSF8rgmswJnm0DHIFfzsvpL5N4E\n0gu0f6fGESJiDANB6FMsMWIsInC9vTFRHVbufQZjgRinvpwQeAH1kMeWM3zhVZak\nbj4a5zyb4suwHyRR3HNh3XeK/7cMw3HwfEi1ghr7ixG/mhg5JxcDCHA3C+dWhbBx\nCwFuAUTJvzCEPOLC+nh9xHuXIW6aIwctGO8SofTrj122x0Z2XIP6nqOLS/zsXD0A\ndyA6GxpJ0BFcGIVlJTpIhm0sdqKQR5ozHL9ZvARmQkRbximm1miopDtRbPQl5SJA\nl51RoMRQ+GrbI+zM1qM+gwIojSyyR+r4Hraytsl8OrRu1jLhdU04PggfAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAGcAW/pbppQqZjMlU/ckVt2/T+P+fMcsdo9mUqi2\nqiTsZPQ42rTjehzFRTo8xHRD9qjDDqpaLTxcG+xDHXs4MaKawA9GlDuhXozBT+5U\nrDyBjPwv4rQtWE6XqnXYClukSvOd6VFk4FQPjg0WUIu2JFVfCuJg0TqD1MlfWjg1\n70qlZZMFS9lUwu7iEOCl4Ww6+wpDQO8mPReLm5CqTNxv/6P5TnLcOxOaJxIxPSLM\nzsLD5T+nRDn7WpfAr0DyGIPASMg2aD8r1R5Zej36Xj8qBc7eIRY/wF1LHA8NRJNw\neA/WxRikLAAsnW2bf0Jw4CH97r/WrJMlTDVZ4H0jwVvHoXE=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000658)  COMMIT
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: ServerIncarnation Load (0.000457)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339636 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Server Load (0.000228)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623124) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: ServerTemplate Load (0.000222)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3745) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: RightScript Load (0.000460)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3745) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 20:23:02') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Ec2Instance Load (0.000298)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339636) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Account Load (0.000254)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: RightScriptAttachment Load (0.000350)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5253) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 20:23:02') ORDER BY position
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000115)  BEGIN
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: InstanceApiToken Update (0.000253)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 20:23:02' WHERE (id = 25) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000614)  COMMIT
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: FrozenRepository Load (0.000250)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339636 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 20:23:02') 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: AuditEntry Delete all (0.000171)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339636) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: WorkUnit Delete all (0.000159)  DELETE FROM `work_units` WHERE ((instance_id = 339636) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: AlertSpec Load (0.007180)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339636 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 20:23:02') 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: ServerAlert Load (0.000312)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339636 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 20:23:02') 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000223)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339636)) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: Ec2Instance Update (0.000195)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 20:23:02' WHERE (id = 339636) 
[Wed, 29 Jul 2009 20:23:02 +0000] DEBUG: SQL (0.000590)  COMMIT
[Wed, 29 Jul 2009 20:23:04 +0000] DEBUG: Account Load (0.000494)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:04 +0000] DEBUG: Account Load (0.000000)  Errno::EBADF: Bad file descriptor - /var/log/install: SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:08 +0000] DEBUG: Account Load (0.000459)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 20:23:08 +0000] DEBUG: Account Load (0.000000)  Errno::EBADF: Bad file descriptor - /var/log/install: SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:05:56 +0000] DEBUG: SQL (0.000230)  SET SQL_AUTO_IS_NULL=0
[Wed, 29 Jul 2009 21:05:56 +0000] DEBUG: SQL (0.001225)  SHOW TABLES
[Wed, 29 Jul 2009 21:05:58 +0000] DEBUG: ServerTemplate Columns (0.021296)  SHOW FIELDS FROM `server_templates`
[Wed, 29 Jul 2009 21:05:58 +0000] DEBUG: RightScript Columns (0.020422)  SHOW FIELDS FROM `right_scripts`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Account Columns (0.004066)  SHOW FIELDS FROM `accounts`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Account Load (0.000782)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Deployment Columns (0.023290)  SHOW FIELDS FROM `deployments`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Deployment Load (0.005134)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:05:59') LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplate Load (0.011731)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:05:59') LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Server Columns (0.024904)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Server Load (0.004107)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:05:59') LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: RightScript Load (0.021033)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:05:59') LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SharingGroupPublishable Load (0.002140)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3746 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerArray Load (0.001216)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3746) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: FrozenRepository Load (0.012181)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3746 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: AlertSpec Load (0.027545)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3746 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Load (0.044146)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3746) ORDER BY position
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Columns (0.001942)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Columns (0.002499)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Update (0.001012)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3746 AND position > 1) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Update (0.000301)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45770
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000226)   DELETE FROM `server_template_executables`
 WHERE `id` = 45770

[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Update (0.000259)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3746 AND position > 1) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Update (0.000204)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45771
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000194)   DELETE FROM `server_template_executables`
 WHERE `id` = 45771

[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Update (0.000290)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3746 AND position > 1) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Update (0.000202)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45772
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000681)   DELETE FROM `server_template_executables`
 WHERE `id` = 45772

[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Load (0.000366)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3746) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateChefRecipe Columns (0.001503)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000331)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3746) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplate Update (0.000280)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:05:59' WHERE (id = 3746) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000439)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000082)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Component Columns (0.001653)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: AlertSpec Load (0.007426)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623125 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: FrozenRepository Load (0.000260)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623125 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ElasticLoadBalancer Load (0.028887)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623125)) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Component Update (0.000488)  UPDATE `servers` SET deleted_at = '2009-07-29 21:05:59' WHERE (id = 623125) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000828)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000161)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SharingGroupPublishable Load (0.000443)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5254 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: RightScriptAttachment Load (0.005058)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5254) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:05:59') ORDER BY position
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Load (0.000373)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5254) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: RightScript Update (0.000482)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:05:59' WHERE (id = 5254) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000869)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000160)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SharingGroupPublishable Columns (0.002337)  SHOW FIELDS FROM `sharing_group_publishables`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.002193)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:05:59')) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplate Create (0.000456)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:05:59', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplate Update (0.000460)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:05:59', `parameters` = '--- {}\n\n', `head_version_id` = 3747, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3747
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000702)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000161)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.002580)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:05:59')) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: RightScript Create (0.000380)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:05:59', NULL, '--- {}\n\n', '2009-07-29 21:05:59', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: RightScript Update (0.000344)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:05:59', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5255, `created_at` = '2009-07-29 21:05:59', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5255
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000673)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000123)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000325)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5255 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3747) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000613)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3747 AND apply = 'boot' AND right_scripts.head_version_id = 5255) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000329)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3747) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000250)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5255, 3747, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000594)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000276)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5255 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3747) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000437)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3747 AND apply = 'operational' AND right_scripts.head_version_id = 5255) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000348)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3747) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000226)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5255, 3747, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000590)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000368)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5255 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3747) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000434)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3747 AND apply = 'decommission' AND right_scripts.head_version_id = 5255) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000383)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3747) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000233)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5255, 3747, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000587)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Columns (0.021596)  SHOW FIELDS FROM `ec2_settings`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: CloudAccount Load (0.002657)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: CloudAccount Columns (0.002359)  SHOW FIELDS FROM `cloud_accounts`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2SecurityGroup Columns (0.005508)  SHOW FIELDS FROM `ec2_security_groups`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2SecurityGroup Load (0.000866)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:05:59')) LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Cloud Load (0.002730)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:05:59') LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Cloud Columns (0.002678)  SHOW FIELDS FROM `clouds`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000160)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Deployment Load (0.000389)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Create (0.000599)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:05:59', NULL, NULL, '--- {}\n\n', '2009-07-29 21:05:59', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Update (0.000288)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14353
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Component Create (0.000363)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:05:59', 1, 'RightNet Test Server', 394, '2009-07-29 21:05:59', NULL, 14353, 71, 3747, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000705)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000157)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Create (0.000351)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:05:59', NULL, NULL, '--- {}\n\n', '2009-07-29 21:05:59', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000667)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Instance Columns (0.036382)  SHOW FIELDS FROM `ec2_instances`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000187)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000638)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '2351c3224f15d195d1d9a78bf3ea5607' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Update (0.000275)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14354
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Instance Create (0.000630)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'ab76f7ad83173b095535cae0a635b113', '2009-07-29 21:05:59', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:05:59', NULL, 'a7f9f1a837169818e1bc17f3664643a9', 14354, 71, NULL, 3747, 'sketchy1-1', NULL, 2, '2351c3224f15d195d1d9a78bf3ea5607', '1c30227d06f37e57771f38255f745e22', '34beff8f704723c9adc4dc304b9f446f', 1, '150281df0970a46b451513c05d8941de', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000735)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: RightScript Load (0.000773)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3747) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:05:59') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000230)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerIncarnation Columns (0.008503)  SHOW FIELDS FROM `server_incarnations`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Account Load (0.000704)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000390)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623126 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerIncarnation Create (0.000505)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:05:59', NULL, NULL, 394, 339638, 71, 623126, '2009-07-29 21:05:59', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Update (0.000312)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14353
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Component Update (0.000296)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:05:59', `active_server_incarnation_id` = 108211, `disabled_scripts` = NULL WHERE `id` = 623126
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000688)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Component Load (0.000399)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623126) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000143)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000662)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '2351c3224f15d195d1d9a78bf3ea5607' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339638) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Setting Update (0.000262)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14354
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Ec2Instance Update (0.000251)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339638
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000119)  COMMIT
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerTemplate Load (0.000378)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3747) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: FrozenRepository Load (0.000438)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3747 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Deployment Load (0.000318)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: FrozenRepository Load (0.000329)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: FrozenRepository Load (0.000303)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623126 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:05:59') 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: Account Load (0.000389)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: ServerIncarnation Load (0.000547)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339638 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: InstanceApiToken Columns (0.005786)  SHOW FIELDS FROM `instance_api_tokens`
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000169)  BEGIN
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: InstanceApiToken Create (0.000625)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:05:59', 108211, 'a7f9f1a837169818e1bc17f3664643a9', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNTU4WhcNMTkwNzI3MjEw\nNTU4WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDCoVHaj1GxBvZA8xNLEwGKHB67G0SG\nDf4yxX0TTYyBOlahpW0IZQWn7LdiJIP8oeUQfwgcsP07uUoXov1LiQV1NBNMUM18\n2OCWWlAFZhrWlJbPUgbmQGOm823LuconI6h9UjFFRNDYafqSATId/IGDSvPI4X0X\nM7pPhAYhqqe5+blduOcsWTIP3s3IsbMxlJcVQkjKHAv/aS/tGhd2pOwIljf0xYnL\n0MTDzRmXAqDieDwDFo/UwkEQyz6vAzasRBji57dz9uVPxDcbHK5ImSxljfv6M5AO\nxvHcZ47rebF4b+ZccBq8TJ1GvSLuOPxVv0Vh25jbpEHcqIDCKlOyqn0xAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBADB5qe3OK/aIWGp0I4HWqCa3ECF2GJ0Ta5XSZlTY\nme9WK+7NSpP90NZrxyccuzw83OsDSAXIcYDuETu7ARbgp5YbqQiif+CaZggGcFqb\nxFVzI6KfAtEHwnlOxAGwo2jSKiqvZkY4vCZanHIlJ+ozmQ35ksF4F958dWEodAc/\np5tVokyD/CpQQDlv2LAfCd7n+AJplLP4REDaInTHSzKfrWLyrAru/70tleXB2Ue8\n80LGm1fOtq1H+U3d2w1+5W4ZRK7ZKEoX6H0kY6lB8KoFV9rGpmwMtKDUTRobRHE1\nGEWLlWNszuOUSrpbZBlA7nQAi/BVujyZXqboufHCiG97Mf4=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:05:59 +0000] DEBUG: SQL (0.000559)  COMMIT
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: InstanceApiToken Load (0.000375)  SELECT * FROM `instance_api_tokens` WHERE (`instance_api_tokens`.`id` = 27) AND (instance_api_tokens.deleted_at IS NULL OR instance_api_tokens.deleted_at > '2009-07-29 21:06:00') LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerIncarnation Load (0.000388)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.`id` = 108211) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2Instance Load (0.000406)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339638) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2Setting Load (0.000269)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14354) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000316)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '2351c3224f15d195d1d9a78bf3ea5607' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339638) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2Setting Update (0.000207)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14354
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2Instance Update (0.000157)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339638
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000105)  COMMIT
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2Instance Load (0.000270)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339638) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Account Load (0.000268)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Columns (0.031924)  SHOW FIELDS FROM `audit_entries`
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntryDetail Columns (0.002317)  SHOW FIELDS FROM `audit_entry_details`
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000292)  BEGIN
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntryDetail Create (0.001125)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Create (0.000275)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339638, 22, '2009-07-29 21:06:00', 71, NULL, '', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000370)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000301)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000711)  COMMIT
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Repository Load (0.020463)  SELECT * FROM `repositories` WHERE (repositories.deleted_at IS NULL OR repositories.deleted_at > '2009-07-29 21:06:00') 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Repository Columns (0.001525)  SHOW FIELDS FROM `repositories`
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Cloud Load (0.000346)  SELECT * FROM `clouds` WHERE (`clouds`.`id` = 1) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.018568)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 1) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Columns (0.001421)  SHOW FIELDS FROM `repository_configurations`
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000258)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 2) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000200)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 3) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000177)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 4) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000190)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 5) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000179)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 6) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000181)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 7) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RepositoryConfiguration Load (0.000177)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 8) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: FrozenRepository Load (0.000216)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339638 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:00') 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000240)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntryDetail Create (0.000416)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Create (0.000216)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339638, 23, '2009-07-29 21:06:00', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000268)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000234)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000707)  COMMIT
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerIncarnation Load (0.000380)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339638 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Server Load (0.000225)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623126) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerTemplate Load (0.000282)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3747) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerTemplateExecutable Load (0.000549)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3747) AND (apply = 'boot') ORDER BY position, position
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RightScript Load (0.000258)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5255) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RightScriptAttachment Load (0.000392)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5255) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:00') ORDER BY position
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Account Load (0.000298)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 21:06:00') LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.017918)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3747) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000339)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000297)  BEGIN
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntryDetail Create (0.000581)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Create (0.000199)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339638, 24, '2009-07-29 21:06:00', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000284)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Load (0.000203)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000754)  COMMIT
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerIncarnation Load (0.000376)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339638 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Server Load (0.000220)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623126) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerTemplateExecutable Load (0.000344)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3747) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RightScript Load (0.000226)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5255) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: RightScriptAttachment Load (0.000327)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5255) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:00') ORDER BY position
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Account Load (0.000269)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 21:06:00') LIMIT 1
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000082)  BEGIN
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: InstanceApiToken Update (0.000275)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:06:00' WHERE (id = 27) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000760)  COMMIT
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000080)  BEGIN
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: FrozenRepository Load (0.000237)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339638 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:00') 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AuditEntry Delete all (0.000258)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339638) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: WorkUnit Delete all (0.003581)  DELETE FROM `work_units` WHERE ((instance_id = 339638) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: AlertSpec Load (0.007317)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339638 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:00') 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: ServerAlert Load (0.007849)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339638 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:06:00') 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2InstancesGroup Delete all (0.019320)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339638)) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: Ec2Instance Update (0.000272)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:06:00' WHERE (id = 339638) 
[Wed, 29 Jul 2009 21:06:00 +0000] DEBUG: SQL (0.000722)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Account Load (0.000477)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Deployment Load (0.000955)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:06:02') LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplate Load (0.004303)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:02') LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Server Load (0.002523)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:06:02') LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScript Load (0.039764)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:02') LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000122)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SharingGroupPublishable Load (0.000293)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3747 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerArray Load (0.000296)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3747) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: FrozenRepository Load (0.000204)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3747 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: AlertSpec Load (0.008335)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3747 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Load (0.000565)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3747) ORDER BY position
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Update (0.000218)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3747 AND position > 1) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Update (0.000271)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45770
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000503)   DELETE FROM `server_template_executables`
 WHERE `id` = 45770

[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Update (0.000214)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3747 AND position > 1) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Update (0.000169)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45771
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000166)   DELETE FROM `server_template_executables`
 WHERE `id` = 45771

[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Update (0.000208)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3747 AND position > 1) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Update (0.000167)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45772
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000165)   DELETE FROM `server_template_executables`
 WHERE `id` = 45772

[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Load (0.000318)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3747) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000259)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3747) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplate Update (0.000470)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:06:02' WHERE (id = 3747) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000806)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000117)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: AlertSpec Load (0.007178)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623126 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: FrozenRepository Load (0.000227)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623126 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ElasticLoadBalancer Load (0.000218)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623126)) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Component Update (0.000383)  UPDATE `servers` SET deleted_at = '2009-07-29 21:06:02' WHERE (id = 623126) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000683)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SharingGroupPublishable Load (0.000285)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5255 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScriptAttachment Load (0.000501)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5255) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:02') ORDER BY position
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Load (0.000256)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5255) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScript Update (0.000309)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:06:02' WHERE (id = 5255) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000605)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.001310)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:02')) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplate Create (0.000410)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:06:02', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplate Update (0.000278)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:06:02', `parameters` = '--- {}\n\n', `head_version_id` = 3748, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3748
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000817)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.002195)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:02')) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScript Create (0.000323)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:06:02', NULL, '--- {}\n\n', '2009-07-29 21:06:02', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScript Update (0.000411)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:06:02', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5256, `created_at` = '2009-07-29 21:06:02', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5256
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.001143)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000086)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000326)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5256 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3748) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000543)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3748 AND apply = 'boot' AND right_scripts.head_version_id = 5256) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Load (0.000311)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3748) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Create (0.000200)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5256, 3748, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000716)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000257)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5256 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3748) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000373)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3748 AND apply = 'operational' AND right_scripts.head_version_id = 5256) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Load (0.000315)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3748) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Create (0.000196)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5256, 3748, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000682)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000327)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5256 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3748) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000440)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3748 AND apply = 'decommission' AND right_scripts.head_version_id = 5256) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateExecutable Load (0.000296)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3748) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplateRightScript Create (0.000196)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5256, 3748, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000702)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: CloudAccount Load (0.000253)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2SecurityGroup Load (0.000558)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:06:02')) LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Cloud Load (0.000237)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:06:02') LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000084)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Deployment Load (0.000246)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Setting Create (0.000407)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:02', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:02', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Setting Update (0.000193)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14355
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Component Create (0.000493)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:06:02', 1, 'RightNet Test Server', 394, '2009-07-29 21:06:02', NULL, 14355, 71, 3748, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000707)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Setting Create (0.000239)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:02', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:02', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000714)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000595)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '3e6e8ec7a76392e231552ee89a2a2467' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Setting Update (0.000194)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14356
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Instance Create (0.000524)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'c79dad65a80a5363cac7fd9b0bb11e12', '2009-07-29 21:06:02', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:06:02', NULL, 'e925e03ebb559ba5d7734d2520fd9d48', 14356, 71, NULL, 3748, 'sketchy1-1', NULL, 2, '3e6e8ec7a76392e231552ee89a2a2467', '4f7c6f0f80f68ff273ef0ea968dc6e0f', '244bf720c6826556e103d59dc520418d', 1, 'dc8bad9984701d5f5a8ff55d9cdf9427', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000754)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScript Load (0.000510)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3748) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:02') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000075)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Account Load (0.000288)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000399)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623127 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerIncarnation Create (0.000486)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:06:02', NULL, NULL, 394, 339639, 71, 623127, '2009-07-29 21:06:02', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Setting Update (0.000200)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14355
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Component Update (0.000177)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:06:02', `active_server_incarnation_id` = 108212, `disabled_scripts` = NULL WHERE `id` = 623127
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000986)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Component Load (0.000314)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623127) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000069)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000410)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '3e6e8ec7a76392e231552ee89a2a2467' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339639) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Setting Update (0.000189)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14356
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Instance Update (0.000162)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339639
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000107)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplate Load (0.000305)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3748) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: FrozenRepository Load (0.000229)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3748 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Deployment Load (0.000238)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: FrozenRepository Load (0.000195)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: FrozenRepository Load (0.000188)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623127 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Account Load (0.000244)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerIncarnation Load (0.000512)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339639 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: InstanceApiToken Create (0.000720)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:06:02', 108212, 'e925e03ebb559ba5d7734d2520fd9d48', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNjAyWhcNMTkwNzI3MjEw\nNjAyWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC2kS37r405btponHXERYtyU3WiVA7k\nKZjFG/wHlwNSL7qZ0pOZsQ6+qhO8ZIHI2W1DhEPOwW5BT8ouuwq8EXZD6WrnLc/X\ndGorJQhXww0L36zSu/+wps8mtCXpLlz4HSAkh/fwss1kFU0YVOxSr8peEp3OoicO\nSwufVbDTAbStmKxkmEksJC4fGsL4v/TjA1lNiOgW2J5YdaozmhG/cPqm/CCrl0nN\np/IRQ0k7+fOYikhBkba33Cl9RUiytuj9hILzYg3CJt7W8g/34bsQsbNpK1RDs+tA\nejPpjyN5fOszeMEg7nil4hWudGPk9mZlE5KwZlBOIqn4xVaAckJ9E/wPAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBADgWvaz0nGx5ZPmjS+iO5oo9JD44LI3NK3Kg2ew/\nC/O+5SSl5HYleYot9j50rgeu6rzva/90SYBw7s1wnagKr9NaUKOORKVoIMMlb75P\n7jlUfZNNjnBasXYl/4JSNBz3Ow3vuMBAJct48+5astVdM9zOJ81DBGzK4vQ/3OFS\nRoTUZEWjNCqIvqcjo2UmfpCndoS+KhXlw7dyB6dckqZvBl79aPf4+aok2/7+y6Sc\n/lN0WD6qu9c7ZmAqhgbAFe7ewsVB3ZbRlG+6w3hHWDqH/lMolhut68NIP1AgWunM\n3Z0gC/vz8G3clUcDUaYvV6r8LF3Z1JMCactUXDcENu5wIio=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000824)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerIncarnation Load (0.000434)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339639 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Server Load (0.000233)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623127) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerTemplate Load (0.000222)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3748) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScript Load (0.000444)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3748) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:02') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Instance Load (0.000296)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339639) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: RightScriptAttachment Load (0.000365)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5256) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:02') ORDER BY position
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: InstanceApiToken Update (0.000230)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:06:02' WHERE (id = 28) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000655)  COMMIT
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000369)  BEGIN
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: FrozenRepository Load (0.000332)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339639 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: AuditEntry Delete all (0.000281)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339639) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: WorkUnit Delete all (0.000161)  DELETE FROM `work_units` WHERE ((instance_id = 339639) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: AlertSpec Load (0.007207)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339639 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: ServerAlert Load (0.000294)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339639 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:06:02') 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000398)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339639)) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: Ec2Instance Update (0.000218)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:06:02' WHERE (id = 339639) 
[Wed, 29 Jul 2009 21:06:02 +0000] DEBUG: SQL (0.000688)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Account Load (0.000435)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Deployment Load (0.000592)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:06:05') LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Load (0.002865)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:05') LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Server Load (0.002321)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:06:05') LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScript Load (0.007321)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:05') LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000119)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SharingGroupPublishable Load (0.000286)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3748 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerArray Load (0.000296)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3748) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: FrozenRepository Load (0.000193)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3748 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: AlertSpec Load (0.007176)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3748 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Load (0.000341)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3748) ORDER BY position
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Update (0.000202)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3748 AND position > 1) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Update (0.000184)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45773
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000176)   DELETE FROM `server_template_executables`
 WHERE `id` = 45773

[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Update (0.000204)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3748 AND position > 1) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Update (0.000163)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45774
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000168)   DELETE FROM `server_template_executables`
 WHERE `id` = 45774

[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Update (0.000198)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3748 AND position > 1) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Update (0.000159)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45775
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000191)   DELETE FROM `server_template_executables`
 WHERE `id` = 45775

[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Load (0.000300)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3748) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000260)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3748) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Update (0.000231)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:06:05' WHERE (id = 3748) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000586)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000079)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: AlertSpec Load (0.007109)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623127 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: FrozenRepository Load (0.000213)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623127 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ElasticLoadBalancer Load (0.000220)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623127)) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Component Update (0.000213)  UPDATE `servers` SET deleted_at = '2009-07-29 21:06:05' WHERE (id = 623127) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000655)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000067)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SharingGroupPublishable Load (0.000248)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5256 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScriptAttachment Load (0.000315)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5256) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:05') ORDER BY position
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Load (0.000210)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5256) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScript Update (0.000224)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:06:05' WHERE (id = 5256) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000677)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.001129)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:05')) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Create (0.000235)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:06:05', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Update (0.000268)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:06:05', `parameters` = '--- {}\n\n', `head_version_id` = 3749, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3749
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000665)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.001880)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:05')) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScript Create (0.000277)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:06:05', NULL, '--- {}\n\n', '2009-07-29 21:06:05', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScript Update (0.000281)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:06:05', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5257, `created_at` = '2009-07-29 21:06:05', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5257
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000682)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000285)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5257 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3749) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000374)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3749 AND apply = 'boot' AND right_scripts.head_version_id = 5257) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Load (0.000353)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3749) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Create (0.000197)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5257, 3749, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000588)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000251)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5257 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3749) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000489)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3749 AND apply = 'operational' AND right_scripts.head_version_id = 5257) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Load (0.000352)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3749) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Create (0.000232)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5257, 3749, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000755)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000121)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000392)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5257 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3749) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000425)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3749 AND apply = 'decommission' AND right_scripts.head_version_id = 5257) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateExecutable Load (0.000303)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3749) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateRightScript Create (0.000204)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5257, 3749, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000622)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: CloudAccount Load (0.000263)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2SecurityGroup Load (0.000383)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:06:05')) LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Cloud Load (0.000291)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:06:05') LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Deployment Load (0.000217)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Setting Create (0.000263)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:05', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:05', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Setting Update (0.000195)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14357
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Component Create (0.000214)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:06:05', 1, 'RightNet Test Server', 394, '2009-07-29 21:06:05', NULL, 14357, 71, 3749, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000606)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Setting Create (0.000207)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:05', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:05', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000542)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000288)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '002c0ca869b503d1e83ed478d0f7725d' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Setting Update (0.000178)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14358
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Instance Create (0.000262)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '5010773effd185b832ebfbb23d9542d0', '2009-07-29 21:06:05', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:06:05', NULL, 'e9115f3da6a55d24b8e9b6a048e16467', 14358, 71, NULL, 3749, 'sketchy1-1', NULL, 2, '002c0ca869b503d1e83ed478d0f7725d', '565d6502f5aa37d4dfe9b2a32798cc6d', 'e5164069303d13c2c64a2ef2c9f35f07', 1, 'd279ee1165f48f05f9119d79e871b5db', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000592)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScript Load (0.000527)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3749) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:05') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Account Load (0.000291)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000239)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623128 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerIncarnation Create (0.000223)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:06:05', NULL, NULL, 394, 339640, 71, 623128, '2009-07-29 21:06:05', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Setting Update (0.000210)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14357
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Component Update (0.000194)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:06:05', `active_server_incarnation_id` = 108213, `disabled_scripts` = NULL WHERE `id` = 623128
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000654)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Component Load (0.000268)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623128) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000306)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '002c0ca869b503d1e83ed478d0f7725d' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339640) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Setting Update (0.000226)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14358
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Instance Update (0.000178)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339640
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000105)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Load (0.000240)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3749) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: FrozenRepository Load (0.000234)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3749 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Deployment Load (0.000201)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: FrozenRepository Load (0.000207)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: FrozenRepository Load (0.000195)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623128 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Account Load (0.000246)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerIncarnation Load (0.000371)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339640 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: InstanceApiToken Create (0.000258)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:06:05', 108213, 'e9115f3da6a55d24b8e9b6a048e16467', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNjA1WhcNMTkwNzI3MjEw\nNjA1WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDKdDjv/cj6lUG9ifPdi+Fid4u/g37B\nGXYKr+bXonUfW+5cV6LuVZTmRF98chWz/WNjQGvAQgVJM9eZLIR/o1rebO8DErUA\nmbt5oE35M0DITFSXVVlCsJq97RyC4pNWqNaeqNoMsGOFyTN5Y0m4VnPP72J1EA+X\n/Y4qBhBFTFZA+UCHi7ViX4Too0F1EhHhk8t5pBmz2X8D9RHjTFm2kktBjI7pt1zQ\nb+/tT2Rl0BPZS8w5Su9lX2QLfxJd4+FzAoeiXaTaHKKOBpv+P8zn2Q2qC2KxdTkG\nm5xuXWVyouxRIeZY2qLGV8VpTjLbtMw+MXOQp+at5lCaBuJkb6eULw21AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAKZuM7Y2LSqWoRL8tnSGwtrAkJ2SopBdBXSFD7bp\n6SQHLbPNZdAexmWY/rBO4Ck1Md2whiUw/H6aqWfIVjH10QkkJ4K377MQgcSCehs0\nGjNz8Be5XgtzKRkofL+Ni9wAYRyLAD2MxD2DsoSD5tJU2vGquTwpqvPlsV9pDgCn\n3IieVD/E/u1h+Lth3wYVm27ZhkZHMk2q783hK19ISoce7Q3GaWVDjqy4nQN4UWTH\n7n6Yn+LWlz5tmUTga3EfLA3vJ6JFha7ADBY2GH6R9xaO7itmMkRaY5MYeJPn67fy\nAobY1blpsWUecCs1xx8TGeSkDbPGvse/R0MH2gdJZMdUjc0=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000671)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerIncarnation Load (0.000425)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339640 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Server Load (0.000225)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623128) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Load (0.000220)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3749) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: RightScript Load (0.000443)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3749) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:05') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Instance Load (0.000284)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339640) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplate Load (0.000245)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3749) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Account Load (0.000292)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Account Load (0.000264)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 21:06:05') LIMIT 1
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000293)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3749) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000361)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: InstanceApiToken Update (0.000702)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:06:05' WHERE (id = 29) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000677)  COMMIT
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: FrozenRepository Load (0.000247)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339640 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: AuditEntry Delete all (0.000166)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339640) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: WorkUnit Delete all (0.000153)  DELETE FROM `work_units` WHERE ((instance_id = 339640) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: AlertSpec Load (0.007130)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339640 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: ServerAlert Load (0.000321)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339640 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:06:05') 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000219)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339640)) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: Ec2Instance Update (0.000193)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:06:05' WHERE (id = 339640) 
[Wed, 29 Jul 2009 21:06:05 +0000] DEBUG: SQL (0.000610)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Account Load (0.000443)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Deployment Load (0.000602)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:06:10') LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Load (0.003037)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:10') LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Server Load (0.002370)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:06:10') LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Load (0.007536)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:10') LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SharingGroupPublishable Load (0.000306)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3749 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerArray Load (0.000304)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3749) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: FrozenRepository Load (0.000201)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3749 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: AlertSpec Load (0.007203)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3749 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Load (0.000363)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3749) ORDER BY position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3749 AND position > 1) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Update (0.000175)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45776
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000201)   DELETE FROM `server_template_executables`
 WHERE `id` = 45776

[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Update (0.000241)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3749 AND position > 1) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Update (0.000252)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45777
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000180)   DELETE FROM `server_template_executables`
 WHERE `id` = 45777

[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Update (0.000208)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3749 AND position > 1) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Update (0.000339)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45778
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000337)   DELETE FROM `server_template_executables`
 WHERE `id` = 45778

[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Load (0.000347)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3749) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000272)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3749) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Update (0.000203)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:06:10' WHERE (id = 3749) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000866)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000092)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: AlertSpec Load (0.007430)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623128 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: FrozenRepository Load (0.000281)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623128 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ElasticLoadBalancer Load (0.000215)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623128)) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Component Update (0.000220)  UPDATE `servers` SET deleted_at = '2009-07-29 21:06:10' WHERE (id = 623128) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000780)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SharingGroupPublishable Load (0.000243)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5257 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScriptAttachment Load (0.000323)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5257) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:10') ORDER BY position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Load (0.000256)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5257) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Update (0.000222)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:06:10' WHERE (id = 5257) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000644)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000116)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.001123)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:10')) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Create (0.000254)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:06:10', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Update (0.000276)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:06:10', `parameters` = '--- {}\n\n', `head_version_id` = 3750, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3750
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000734)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.001882)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:10')) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Create (0.000249)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:06:10', NULL, '--- {}\n\n', '2009-07-29 21:06:10', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Update (0.000273)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:06:10', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5258, `created_at` = '2009-07-29 21:06:10', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5258
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000652)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000307)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5258 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3750) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000420)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3750 AND apply = 'boot' AND right_scripts.head_version_id = 5258) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Load (0.000309)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3750) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Create (0.000196)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5258, 3750, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000781)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000251)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5258 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3750) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000374)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3750 AND apply = 'operational' AND right_scripts.head_version_id = 5258) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Load (0.000293)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3750) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Create (0.000200)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5258, 3750, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000588)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000332)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5258 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3750) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000441)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3750 AND apply = 'decommission' AND right_scripts.head_version_id = 5258) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Load (0.000334)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3750) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateRightScript Create (0.000194)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5258, 3750, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000733)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: CloudAccount Load (0.000252)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2SecurityGroup Load (0.000364)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:06:10')) LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Cloud Load (0.000239)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:06:10') LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Deployment Load (0.000211)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Create (0.000340)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:10', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:10', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Update (0.000222)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14359
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Component Create (0.000219)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:06:10', 1, 'RightNet Test Server', 394, '2009-07-29 21:06:10', NULL, 14359, 71, 3750, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000629)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Create (0.000264)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:10', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:10', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000611)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000345)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '594830cc1b7b87c4d4cfe997ea15970f' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Update (0.000218)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14360
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Instance Create (0.000269)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'd98e3f0af4d3071ef4534058c6d59119', '2009-07-29 21:06:10', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:06:10', NULL, 'c20e565b6953b401f979218daa67dcb9', 14360, 71, NULL, 3750, 'sketchy1-1', NULL, 2, '594830cc1b7b87c4d4cfe997ea15970f', '46fa9d1a22607e025b2bb9c3fc10f994', '7b87a13886afb984955e563f6d53fa9a', 1, '5736770a154ee0cd19bbd9b0fd4451a6', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000671)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Load (0.000527)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3750) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:10') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Account Load (0.000290)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000220)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623129 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerIncarnation Create (0.000233)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:06:10', NULL, NULL, 394, 339641, 71, 623129, '2009-07-29 21:06:10', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Update (0.000242)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14359
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Component Update (0.000206)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:06:10', `active_server_incarnation_id` = 108214, `disabled_scripts` = NULL WHERE `id` = 623129
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000682)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Component Load (0.000285)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623129) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000321)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '594830cc1b7b87c4d4cfe997ea15970f' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339641) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Update (0.000185)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14360
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Instance Update (0.000203)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339641
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000094)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Load (0.000253)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3750) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: FrozenRepository Load (0.000223)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3750 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Deployment Load (0.000206)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: FrozenRepository Load (0.000369)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: FrozenRepository Load (0.000261)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623129 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Account Load (0.000262)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerIncarnation Load (0.000368)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339641 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: InstanceApiToken Create (0.000239)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:06:10', 108214, 'c20e565b6953b401f979218daa67dcb9', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNjA5WhcNMTkwNzI3MjEw\nNjA5WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDdayYMV0xJpZUqOC4iTOH2jk/5/5+T\n7AQAbhGEw5h6XXKZFj7Zq+xlnBjwiY/p80nook+HQKoF/jpCUF/ft6DRCAA3Pufn\n/ENSPm6X9+U2nrIsPOWmdQSaCqyqECeBVUbgg3OGxlgmvvaShsSgFD6n97wdkEc0\nJDEyJKInTUsjTf+9EOUPkgxcx3pnjOvWAYI/vrHZExSp16JYXu/F/q/OBQfZ0qai\ncyGi69BhxePfVvUOxZIWMnRxQ0etz+6FoHPXgobbbr00DkpNYjs29qrW0r/f0eFr\nDJRveS8yOJLmE1XZCEBknfUhzD/VNWwL6ajUv54kQYKKfORtTWS1fCF9AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBADK5psG1mAlAf1nSvSmmh55pFG1SbWFpQkFVPt4A\nWigipwx+pquR/SA3QDJIvn8DKBQ2DV8kh6WAc6IZyt836eGEYm543lwyvHmg+sO7\nQGm77n62fM+imHJrPHTPRiDzkdsfMRlocOIAG4q5nrbPIwl329vONhfjxZdJn7zp\nUvq5OXE9kieMAUMvWGRSN/o4cOSoQzZmVoetJMj7nHS7OY7x9Xe/7f4ztDQdCFPF\ncPlS8sTyavKq7vPJO/QabgE7fV5vdGeynoZU+//BYckOwh20S7bR1AbPA16ZbQmA\ngrqMj2gMSQxB4Wbsl3/n8kEaLu6FsvKAQSQnUir1QPUj/DM=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000594)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerIncarnation Load (0.000402)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339641 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Server Load (0.000243)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623129) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Load (0.000259)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3750) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Load (0.001008)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3750) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:10') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Instance Load (0.000307)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339641) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerIncarnation Load (0.000355)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339641 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Server Load (0.000225)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623129) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplate Load (0.000223)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3750) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateExecutable Load (0.000482)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3750) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScript Load (0.000251)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5258) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Setting Load (0.000219)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14360) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: RightScriptAttachment Load (0.000371)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5258) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:10') ORDER BY position
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Account Load (0.000258)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Account Load (0.000267)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 21:06:10') LIMIT 1
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000178)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3750) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000126)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: InstanceApiToken Update (0.000245)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:06:10' WHERE (id = 30) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000575)  COMMIT
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: FrozenRepository Load (0.000234)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339641 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: AuditEntry Delete all (0.000160)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339641) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: WorkUnit Delete all (0.000155)  DELETE FROM `work_units` WHERE ((instance_id = 339641) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: AlertSpec Load (0.007192)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339641 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: ServerAlert Load (0.000291)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339641 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:06:10') 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000224)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339641)) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: Ec2Instance Update (0.000247)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:06:10' WHERE (id = 339641) 
[Wed, 29 Jul 2009 21:06:10 +0000] DEBUG: SQL (0.000604)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Account Load (0.000427)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Deployment Load (0.000592)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:06:12') LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplate Load (0.002913)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:12') LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Server Load (0.002349)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:06:12') LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScript Load (0.007374)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:12') LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000119)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SharingGroupPublishable Load (0.000286)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3750 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerArray Load (0.000303)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3750) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: FrozenRepository Load (0.000228)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3750 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: AlertSpec Load (0.007264)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3750 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Load (0.000365)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3750) ORDER BY position
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Update (0.000214)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3750 AND position > 1) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Update (0.000217)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45779
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000179)   DELETE FROM `server_template_executables`
 WHERE `id` = 45779

[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3750 AND position > 1) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Update (0.000159)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45780
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000170)   DELETE FROM `server_template_executables`
 WHERE `id` = 45780

[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Update (0.000194)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3750 AND position > 1) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Update (0.000164)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45781
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000174)   DELETE FROM `server_template_executables`
 WHERE `id` = 45781

[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Load (0.000314)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3750) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000258)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3750) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplate Update (0.000238)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:06:12' WHERE (id = 3750) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000589)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000079)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: AlertSpec Load (0.007176)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623129 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: FrozenRepository Load (0.000240)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623129 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ElasticLoadBalancer Load (0.000214)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623129)) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Component Update (0.000384)  UPDATE `servers` SET deleted_at = '2009-07-29 21:06:12' WHERE (id = 623129) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000598)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SharingGroupPublishable Load (0.000241)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5258 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScriptAttachment Load (0.000327)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5258) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:12') ORDER BY position
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Load (0.000230)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5258) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScript Update (0.000272)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:06:12' WHERE (id = 5258) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000474)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.001102)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:12')) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplate Create (0.000242)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:06:12', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplate Update (0.000309)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:06:12', `parameters` = '--- {}\n\n', `head_version_id` = 3751, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3751
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000660)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.001791)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:12')) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScript Create (0.000248)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:06:12', NULL, '--- {}\n\n', '2009-07-29 21:06:12', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScript Update (0.000278)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:06:12', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5259, `created_at` = '2009-07-29 21:06:12', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5259
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000667)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000312)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5259 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3751) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000390)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3751 AND apply = 'boot' AND right_scripts.head_version_id = 5259) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Load (0.000302)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3751) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Create (0.000204)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5259, 3751, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000608)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000087)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000278)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5259 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3751) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000373)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3751 AND apply = 'operational' AND right_scripts.head_version_id = 5259) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Load (0.000330)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3751) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Create (0.000197)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5259, 3751, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000630)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000377)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5259 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3751) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000421)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3751 AND apply = 'decommission' AND right_scripts.head_version_id = 5259) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateExecutable Load (0.000321)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3751) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplateRightScript Create (0.000235)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5259, 3751, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000681)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: CloudAccount Load (0.000281)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2SecurityGroup Load (0.000379)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:06:12')) LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Cloud Load (0.000252)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:06:12') LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Deployment Load (0.000323)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Setting Create (0.000273)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:12', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:12', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Setting Update (0.000189)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14361
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Component Create (0.000209)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:06:12', 1, 'RightNet Test Server', 394, '2009-07-29 21:06:12', NULL, 14361, 71, 3751, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000668)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000190)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Setting Create (0.000236)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:12', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:12', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000617)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000299)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '697da0281caf912d2c66fba4136af849' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Setting Update (0.000183)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14362
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Instance Create (0.000251)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'c55176637cf862a8fdce1fb73a3e3ff6', '2009-07-29 21:06:12', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:06:12', NULL, '7239eba12cc33a9c546eb1d35655c1b0', 14362, 71, NULL, 3751, 'sketchy1-1', NULL, 2, '697da0281caf912d2c66fba4136af849', '318468e95856f6a451790010cf6b1d5b', 'd3074411cd40f48975c9a7ef9b282120', 1, '7096a3e285b29bfc71d33328ab18f9f5', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000651)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScript Load (0.000552)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3751) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:12') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000090)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Account Load (0.000287)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000211)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623130 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerIncarnation Create (0.000228)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:06:12', NULL, NULL, 394, 339642, 71, 623130, '2009-07-29 21:06:12', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Setting Update (0.000213)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14361
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Component Update (0.000197)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:06:12', `active_server_incarnation_id` = 108215, `disabled_scripts` = NULL WHERE `id` = 623130
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000607)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Component Load (0.000265)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623130) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000318)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '697da0281caf912d2c66fba4136af849' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339642) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Setting Update (0.000177)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14362
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Instance Update (0.000153)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339642
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000119)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplate Load (0.000241)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3751) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: FrozenRepository Load (0.000210)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3751 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Deployment Load (0.000199)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: FrozenRepository Load (0.000192)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: FrozenRepository Load (0.000196)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623130 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Account Load (0.000275)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerIncarnation Load (0.000358)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339642 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: InstanceApiToken Create (0.000255)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:06:12', 108215, '7239eba12cc33a9c546eb1d35655c1b0', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNjEyWhcNMTkwNzI3MjEw\nNjEyWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCkoViChcNq0yQ8YtBkORwIr+uKp6Zf\nLTiKWjwsOK1NlDQPP1gyUhG7CT1ghyGVA8MDQ9cbVZ9IzFR4ROR05fsgitnsPNN5\nydplQFmXHuEa2Sv8JC6VCGQYnU2TGp/6IJHAHhJoIsPgrr5O+7E7mV3/GSqHzCwS\ndeJ5llpq9nkeqHqLyAWsGdOgICUDUdFx9BfZCDqYSkoieuplES70zWk6rb7m2qlJ\nF71ouSLhzkf2AoCLg/iFCkzG7vZYia4nv/vznNeeaOCJGnjRQzXaNVxuMVpAehpV\n6bVEJ1TUDDiVqsMCt0PWGk05TkY2XMW7a87UgKig7/mkx1FwIo02cJa9AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBACkEr9Z85Nf5nUyHVXIgAwvNmCrJws2fndfjAVjC\nGPmFZ0M4LfNXBKPrYQIHsTXfY63pcVk4gvY9poJyzMYdPDb+1t9nA3GlVkTFRvSY\ncdV04MZehcueBMhol/7EOM/J9JNyknf6QoTvKmMstLGmPiPaibceruq2Hau7d0ty\n/3MtQOyc4CpV4Mk+F3Ao49CgkTP0CerjyUP74afriKMEqZrdaj1camCw5xNUFjYr\nOCuBnrhwtAdC9epnZ9TrgPSFX5JD4yuSgr285Nw11DgfHg2ZcpYFVBi7QtrhT7eK\nZeMKuFXy1DgfISnpKvksObvPiDhq0ojSsVN1223Qx11YNkw=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000659)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerIncarnation Load (0.000422)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339642 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Server Load (0.000222)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623130) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerTemplate Load (0.000220)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3751) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScript Load (0.000451)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3751) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:12') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Instance Load (0.000295)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339642) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Account Load (0.000246)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: RightScriptAttachment Load (0.000396)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5259) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:12') ORDER BY position
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: InstanceApiToken Update (0.000238)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:06:12' WHERE (id = 31) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000829)  COMMIT
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: FrozenRepository Load (0.000285)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339642 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: AuditEntry Delete all (0.000169)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339642) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: WorkUnit Delete all (0.000156)  DELETE FROM `work_units` WHERE ((instance_id = 339642) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: AlertSpec Load (0.007016)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339642 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: ServerAlert Load (0.000275)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339642 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:06:12') 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000222)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339642)) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: Ec2Instance Update (0.000197)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:06:12' WHERE (id = 339642) 
[Wed, 29 Jul 2009 21:06:12 +0000] DEBUG: SQL (0.000704)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Account Load (0.000474)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Deployment Load (0.000586)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:06:15') LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplate Load (0.002892)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:15') LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Server Load (0.002339)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:06:15') LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: RightScript Load (0.007447)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:15') LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SharingGroupPublishable Load (0.000288)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3751 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerArray Load (0.000295)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3751) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: FrozenRepository Load (0.000195)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3751 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: AlertSpec Load (0.007168)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3751 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000358)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3751) ORDER BY position
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Update (0.000208)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3751 AND position > 1) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Update (0.000192)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45782
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000165)   DELETE FROM `server_template_executables`
 WHERE `id` = 45782

[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Update (0.000213)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3751 AND position > 1) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Update (0.000183)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45783
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000168)   DELETE FROM `server_template_executables`
 WHERE `id` = 45783

[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Update (0.000193)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3751 AND position > 1) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Update (0.000166)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45784
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000166)   DELETE FROM `server_template_executables`
 WHERE `id` = 45784

[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Load (0.000300)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3751) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000272)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3751) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplate Update (0.000212)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:06:15' WHERE (id = 3751) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.001461)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: AlertSpec Load (0.007298)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623130 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: FrozenRepository Load (0.000255)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623130 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ElasticLoadBalancer Load (0.000225)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623130)) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Component Update (0.000264)  UPDATE `servers` SET deleted_at = '2009-07-29 21:06:15' WHERE (id = 623130) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000657)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SharingGroupPublishable Load (0.000239)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5259 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: RightScriptAttachment Load (0.000312)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5259) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:15') ORDER BY position
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Load (0.000208)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5259) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: RightScript Update (0.000213)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:06:15' WHERE (id = 5259) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000584)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.001130)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:15')) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplate Create (0.000235)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:06:15', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplate Update (0.000275)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:06:15', `parameters` = '--- {}\n\n', `head_version_id` = 3752, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3752
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000670)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.001788)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:15')) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: RightScript Create (0.000232)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:06:15', NULL, '--- {}\n\n', '2009-07-29 21:06:15', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: RightScript Update (0.000273)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:06:15', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5260, `created_at` = '2009-07-29 21:06:15', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5260
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000672)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000268)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5260 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3752) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000427)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3752 AND apply = 'boot' AND right_scripts.head_version_id = 5260) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000365)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3752) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Create (0.000198)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5260, 3752, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000656)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000325)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5260 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3752) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000551)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3752 AND apply = 'operational' AND right_scripts.head_version_id = 5260) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000361)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3752) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Create (0.000380)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5260, 3752, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000622)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000386)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5260 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3752) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000498)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3752 AND apply = 'decommission' AND right_scripts.head_version_id = 5260) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000306)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3752) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplateRightScript Create (0.000266)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5260, 3752, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000585)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: CloudAccount Load (0.000283)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2SecurityGroup Load (0.000391)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:06:15')) LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Cloud Load (0.000229)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:06:15') LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Deployment Load (0.000211)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Setting Create (0.000219)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:15', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:15', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Setting Update (0.000236)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14363
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Component Create (0.000244)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:06:15', 1, 'RightNet Test Server', 394, '2009-07-29 21:06:15', NULL, 14363, 71, 3752, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000449)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Setting Create (0.000230)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:15', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:15', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000570)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000124)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000290)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '337b13acffa35070acc62fd6dd185ba8' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Setting Update (0.000186)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14364
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Instance Create (0.000258)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'a20b9ea1b6ee26d8d5ce3db22feceb7e', '2009-07-29 21:06:15', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:06:15', NULL, '781ccec303243ffd1ca3ec4e7d3612bb', 14364, 71, NULL, 3752, 'sketchy1-1', NULL, 2, '337b13acffa35070acc62fd6dd185ba8', 'fb553f587b241e952da99991829e0a85', '10be6907ab2c8a717108f599a70f7007', 1, '48fa08ab79642d0dd0446a34d67d11a1', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000823)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: RightScript Load (0.000516)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3752) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:15') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Account Load (0.000279)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000211)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623131 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerIncarnation Create (0.000199)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:06:15', NULL, NULL, 394, 339643, 71, 623131, '2009-07-29 21:06:15', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Setting Update (0.000234)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14363
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Component Update (0.000192)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:06:15', `active_server_incarnation_id` = 108216, `disabled_scripts` = NULL WHERE `id` = 623131
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000608)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Component Load (0.000265)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623131) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000306)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '337b13acffa35070acc62fd6dd185ba8' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339643) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Setting Update (0.000173)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14364
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Ec2Instance Update (0.000154)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339643
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000104)  COMMIT
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerTemplate Load (0.000234)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3752) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: FrozenRepository Load (0.000243)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3752 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Deployment Load (0.000187)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: FrozenRepository Load (0.000193)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: FrozenRepository Load (0.000199)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623131 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:15') 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: Account Load (0.000247)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: ServerIncarnation Load (0.000348)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339643 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: InstanceApiToken Create (0.000243)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:06:15', 108216, '781ccec303243ffd1ca3ec4e7d3612bb', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNjE1WhcNMTkwNzI3MjEw\nNjE1WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDvzxJhXtaEahd3I+KZPaBdD+Ch3zVW\nQCSgY29aQllBmsGHibesUMhcGIuir+kA/89NQJsQQEpqNSLItSd3g4MLNDuZCcyO\nZclkC11yMesupH18H5pZDzmCmbOgw1TF5wfE3mY+pVuQmP5NpEe09+vV1DPQbn5X\n6BJynnriMVC1cEyg5EcJaqKeudhwszRCD7H22Fret9jd+Q3vZO6+AmPJL7f07Awr\ncoJLJ6ZdX1Y9pv38iq7KtNUN2cJm8yL37Er93JnrlloKpoKrR1XbEciwLMgctz+R\nVRRVspXKAnDZ2T50rkkkbmCMwiXeopKmwv20J7+1PBsFwkuWHbWfLWbrAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAK0MmTQXa3wWE+SWefFDKFoAwADP3qVSPXqJwcDQ\niUvecp+/5XVBS2VTM+Zn262xMBmnlQDXMw68nggg63aP81cZtf2rJ5msQhLtdREK\ndMdL3MSS46HibbnVd4aHWfHf94FGwCLHuhpsbKHt0nYi8r6zU7UU3BzL+wWeIgor\ntlenvdUvX4LGQTsNP1Hpv3FR4rYpiZyj/nw1+O/mPHWm4RA+auC78D27SRrlSsnn\nvHW+evD2T1k/xThl0ohOdD2pbXZFMtl76SRlv0VhUjzAn1vqYEN1pFbclku/GP7M\nHMs3KEMSwc2Jaqw5zGatmqs+yTusqOJChbYA8iVHaZ6Ygnk=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:06:15 +0000] DEBUG: SQL (0.000658)  COMMIT
[Wed, 29 Jul 2009 21:06:23 +0000] DEBUG: AuditEntry Load (0.000577)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:23')) 
[Wed, 29 Jul 2009 21:06:23 +0000] DEBUG: AuditEntry Load (0.000480)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:23')) 
[Wed, 29 Jul 2009 21:06:23 +0000] DEBUG: AuditEntry Load (0.000409)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:23')) 
[Wed, 29 Jul 2009 21:06:23 +0000] DEBUG: AuditEntry Load (0.000386)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:23')) 
[Wed, 29 Jul 2009 21:06:24 +0000] DEBUG: AuditEntry Load (0.000369)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:24')) 
[Wed, 29 Jul 2009 21:06:24 +0000] DEBUG: AuditEntry Load (0.000571)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:24')) 
[Wed, 29 Jul 2009 21:06:24 +0000] DEBUG: AuditEntry Load (0.000485)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:24')) 
[Wed, 29 Jul 2009 21:06:24 +0000] DEBUG: AuditEntry Load (0.000498)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:24')) 
[Wed, 29 Jul 2009 21:06:25 +0000] DEBUG: AuditEntry Load (0.000555)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:25')) 
[Wed, 29 Jul 2009 21:06:25 +0000] DEBUG: AuditEntry Load (0.000486)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:25')) 
[Wed, 29 Jul 2009 21:06:25 +0000] DEBUG: AuditEntry Load (0.000564)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:25')) 
[Wed, 29 Jul 2009 21:06:26 +0000] DEBUG: AuditEntry Load (0.000492)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:26')) 
[Wed, 29 Jul 2009 21:06:26 +0000] DEBUG: AuditEntry Load (0.000613)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:26')) 
[Wed, 29 Jul 2009 21:06:26 +0000] DEBUG: AuditEntry Load (0.000566)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:26')) 
[Wed, 29 Jul 2009 21:06:26 +0000] DEBUG: AuditEntry Load (0.000462)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:26')) 
[Wed, 29 Jul 2009 21:06:27 +0000] DEBUG: AuditEntry Load (0.000530)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:27')) 
[Wed, 29 Jul 2009 21:06:27 +0000] DEBUG: AuditEntry Load (0.000523)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:27')) 
[Wed, 29 Jul 2009 21:06:27 +0000] DEBUG: AuditEntry Load (0.000496)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:27')) 
[Wed, 29 Jul 2009 21:06:28 +0000] DEBUG: AuditEntry Load (0.000511)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:28')) 
[Wed, 29 Jul 2009 21:06:28 +0000] DEBUG: AuditEntry Load (0.000541)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:28')) 
[Wed, 29 Jul 2009 21:06:28 +0000] DEBUG: AuditEntry Load (0.000383)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:28')) 
[Wed, 29 Jul 2009 21:06:28 +0000] DEBUG: AuditEntry Load (0.000507)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:28')) 
[Wed, 29 Jul 2009 21:06:29 +0000] DEBUG: AuditEntry Load (0.000430)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:29')) 
[Wed, 29 Jul 2009 21:06:29 +0000] DEBUG: AuditEntry Load (0.000496)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:29')) 
[Wed, 29 Jul 2009 21:06:29 +0000] DEBUG: AuditEntry Load (0.000511)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:29')) 
[Wed, 29 Jul 2009 21:06:29 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:29')) 
[Wed, 29 Jul 2009 21:06:30 +0000] DEBUG: AuditEntry Load (0.000468)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:30')) 
[Wed, 29 Jul 2009 21:06:30 +0000] DEBUG: AuditEntry Load (0.000531)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:30')) 
[Wed, 29 Jul 2009 21:06:30 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:30')) 
[Wed, 29 Jul 2009 21:06:31 +0000] DEBUG: AuditEntry Load (0.000496)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:31')) 
[Wed, 29 Jul 2009 21:06:31 +0000] DEBUG: AuditEntry Load (0.000503)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:31')) 
[Wed, 29 Jul 2009 21:06:31 +0000] DEBUG: AuditEntry Load (0.000563)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:31')) 
[Wed, 29 Jul 2009 21:06:31 +0000] DEBUG: AuditEntry Load (0.000507)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:31')) 
[Wed, 29 Jul 2009 21:06:32 +0000] DEBUG: AuditEntry Load (0.000530)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:32')) 
[Wed, 29 Jul 2009 21:06:32 +0000] DEBUG: AuditEntry Load (0.000503)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:32')) 
[Wed, 29 Jul 2009 21:06:32 +0000] DEBUG: AuditEntry Load (0.000534)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:32')) 
[Wed, 29 Jul 2009 21:06:32 +0000] DEBUG: AuditEntry Load (0.000480)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:32')) 
[Wed, 29 Jul 2009 21:06:33 +0000] DEBUG: AuditEntry Load (0.000714)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:33')) 
[Wed, 29 Jul 2009 21:06:33 +0000] DEBUG: AuditEntry Load (0.000546)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:33')) 
[Wed, 29 Jul 2009 21:06:33 +0000] DEBUG: AuditEntry Load (0.000530)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:33')) 
[Wed, 29 Jul 2009 21:06:34 +0000] DEBUG: AuditEntry Load (0.000536)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:34')) 
[Wed, 29 Jul 2009 21:06:34 +0000] DEBUG: AuditEntry Load (0.000506)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:34')) 
[Wed, 29 Jul 2009 21:06:34 +0000] DEBUG: AuditEntry Load (0.000477)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:34')) 
[Wed, 29 Jul 2009 21:06:34 +0000] DEBUG: AuditEntry Load (0.000541)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:34')) 
[Wed, 29 Jul 2009 21:06:35 +0000] DEBUG: AuditEntry Load (0.000516)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:35')) 
[Wed, 29 Jul 2009 21:06:35 +0000] DEBUG: AuditEntry Load (0.000498)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:35')) 
[Wed, 29 Jul 2009 21:06:35 +0000] DEBUG: AuditEntry Load (0.000589)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:35')) 
[Wed, 29 Jul 2009 21:06:35 +0000] DEBUG: AuditEntry Load (0.000445)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:35')) 
[Wed, 29 Jul 2009 21:06:36 +0000] DEBUG: AuditEntry Load (0.000490)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:36')) 
[Wed, 29 Jul 2009 21:06:36 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:36')) 
[Wed, 29 Jul 2009 21:06:36 +0000] DEBUG: AuditEntry Load (0.000457)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:36')) 
[Wed, 29 Jul 2009 21:06:37 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:37')) 
[Wed, 29 Jul 2009 21:06:37 +0000] DEBUG: AuditEntry Load (0.000382)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:37')) 
[Wed, 29 Jul 2009 21:06:37 +0000] DEBUG: AuditEntry Load (0.000468)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:37')) 
[Wed, 29 Jul 2009 21:06:37 +0000] DEBUG: AuditEntry Load (0.000575)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:37')) 
[Wed, 29 Jul 2009 21:06:38 +0000] DEBUG: AuditEntry Load (0.000558)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:38')) 
[Wed, 29 Jul 2009 21:06:38 +0000] DEBUG: AuditEntry Load (0.000560)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:38')) 
[Wed, 29 Jul 2009 21:06:38 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:38')) 
[Wed, 29 Jul 2009 21:06:38 +0000] DEBUG: AuditEntry Load (0.000477)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:38')) 
[Wed, 29 Jul 2009 21:06:39 +0000] DEBUG: AuditEntry Load (0.000491)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:39')) 
[Wed, 29 Jul 2009 21:06:39 +0000] DEBUG: AuditEntry Load (0.000493)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:39')) 
[Wed, 29 Jul 2009 21:06:39 +0000] DEBUG: AuditEntry Load (0.000530)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:39')) 
[Wed, 29 Jul 2009 21:06:40 +0000] DEBUG: AuditEntry Load (0.000495)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:40')) 
[Wed, 29 Jul 2009 21:06:40 +0000] DEBUG: AuditEntry Load (0.000489)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:40')) 
[Wed, 29 Jul 2009 21:06:40 +0000] DEBUG: AuditEntry Load (0.000479)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:40')) 
[Wed, 29 Jul 2009 21:06:40 +0000] DEBUG: AuditEntry Load (0.000478)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:40')) 
[Wed, 29 Jul 2009 21:06:41 +0000] DEBUG: AuditEntry Load (0.000509)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:41')) 
[Wed, 29 Jul 2009 21:06:41 +0000] DEBUG: AuditEntry Load (0.000489)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:41')) 
[Wed, 29 Jul 2009 21:06:41 +0000] DEBUG: AuditEntry Load (0.000589)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:41')) 
[Wed, 29 Jul 2009 21:06:41 +0000] DEBUG: AuditEntry Load (0.000527)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:41')) 
[Wed, 29 Jul 2009 21:06:42 +0000] DEBUG: AuditEntry Load (0.000562)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:42')) 
[Wed, 29 Jul 2009 21:06:42 +0000] DEBUG: AuditEntry Load (0.000485)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:42')) 
[Wed, 29 Jul 2009 21:06:42 +0000] DEBUG: AuditEntry Load (0.000500)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:42')) 
[Wed, 29 Jul 2009 21:06:43 +0000] DEBUG: AuditEntry Load (0.000491)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:43')) 
[Wed, 29 Jul 2009 21:06:43 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:43')) 
[Wed, 29 Jul 2009 21:06:43 +0000] DEBUG: AuditEntry Load (0.000610)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:43')) 
[Wed, 29 Jul 2009 21:06:43 +0000] DEBUG: AuditEntry Load (0.000476)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:43')) 
[Wed, 29 Jul 2009 21:06:44 +0000] DEBUG: AuditEntry Load (0.000603)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:44')) 
[Wed, 29 Jul 2009 21:06:44 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:44')) 
[Wed, 29 Jul 2009 21:06:44 +0000] DEBUG: AuditEntry Load (0.000494)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:44')) 
[Wed, 29 Jul 2009 21:06:45 +0000] DEBUG: AuditEntry Load (0.000492)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:45')) 
[Wed, 29 Jul 2009 21:06:45 +0000] DEBUG: AuditEntry Load (0.000486)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:45')) 
[Wed, 29 Jul 2009 21:06:45 +0000] DEBUG: AuditEntry Load (0.000560)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:45')) 
[Wed, 29 Jul 2009 21:06:45 +0000] DEBUG: AuditEntry Load (0.000478)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:45')) 
[Wed, 29 Jul 2009 21:06:46 +0000] DEBUG: AuditEntry Load (0.000487)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:46')) 
[Wed, 29 Jul 2009 21:06:46 +0000] DEBUG: AuditEntry Load (0.000490)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:46')) 
[Wed, 29 Jul 2009 21:06:46 +0000] DEBUG: AuditEntry Load (0.000485)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:46')) 
[Wed, 29 Jul 2009 21:06:46 +0000] DEBUG: AuditEntry Load (0.000481)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:46')) 
[Wed, 29 Jul 2009 21:06:47 +0000] DEBUG: AuditEntry Load (0.000652)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:47')) 
[Wed, 29 Jul 2009 21:06:47 +0000] DEBUG: AuditEntry Load (0.000480)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:47')) 
[Wed, 29 Jul 2009 21:06:47 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:47')) 
[Wed, 29 Jul 2009 21:06:48 +0000] DEBUG: AuditEntry Load (0.000502)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:48')) 
[Wed, 29 Jul 2009 21:06:48 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:48')) 
[Wed, 29 Jul 2009 21:06:48 +0000] DEBUG: AuditEntry Load (0.000513)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:48')) 
[Wed, 29 Jul 2009 21:06:48 +0000] DEBUG: AuditEntry Load (0.000489)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:48')) 
[Wed, 29 Jul 2009 21:06:49 +0000] DEBUG: AuditEntry Load (0.000487)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:49')) 
[Wed, 29 Jul 2009 21:06:49 +0000] DEBUG: AuditEntry Load (0.000478)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:49')) 
[Wed, 29 Jul 2009 21:06:49 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:49')) 
[Wed, 29 Jul 2009 21:06:49 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:49')) 
[Wed, 29 Jul 2009 21:06:50 +0000] DEBUG: AuditEntry Load (0.000538)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:50')) 
[Wed, 29 Jul 2009 21:06:50 +0000] DEBUG: AuditEntry Load (0.000478)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:50')) 
[Wed, 29 Jul 2009 21:06:50 +0000] DEBUG: AuditEntry Load (0.000604)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:50')) 
[Wed, 29 Jul 2009 21:06:51 +0000] DEBUG: AuditEntry Load (0.000498)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:51')) 
[Wed, 29 Jul 2009 21:06:51 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:51')) 
[Wed, 29 Jul 2009 21:06:51 +0000] DEBUG: AuditEntry Load (0.000588)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:51')) 
[Wed, 29 Jul 2009 21:06:51 +0000] DEBUG: AuditEntry Load (0.000497)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:51')) 
[Wed, 29 Jul 2009 21:06:52 +0000] DEBUG: AuditEntry Load (0.000485)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:52')) 
[Wed, 29 Jul 2009 21:06:52 +0000] DEBUG: AuditEntry Load (0.000480)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:52')) 
[Wed, 29 Jul 2009 21:06:52 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:52')) 
[Wed, 29 Jul 2009 21:06:52 +0000] DEBUG: AuditEntry Load (0.000503)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339643) AND (updated_at >= '2009-05-29 21:06:52')) 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: SQL (0.000288)  BEGIN
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: InstanceApiToken Update (0.000312)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:06:56' WHERE (id = 32) 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: SQL (0.000494)  COMMIT
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: SQL (0.000070)  BEGIN
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: FrozenRepository Load (0.000279)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339643 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:56') 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: AuditEntry Delete all (0.000140)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339643) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: WorkUnit Delete all (0.000127)  DELETE FROM `work_units` WHERE ((instance_id = 339643) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: AlertSpec Load (0.007173)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339643 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:56') 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: ServerAlert Load (0.000263)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339643 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:06:56') 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000325)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339643)) 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: Ec2Instance Update (0.000250)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:06:56' WHERE (id = 339643) 
[Wed, 29 Jul 2009 21:06:56 +0000] DEBUG: SQL (0.000777)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Account Load (0.000606)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Deployment Load (0.000784)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 21:06:58') LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplate Load (0.003162)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:58') LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Server Load (0.002596)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 21:06:58') LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: RightScript Load (0.007950)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:58') LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000121)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SharingGroupPublishable Load (0.000289)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3752 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerArray Load (0.000294)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3752) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: FrozenRepository Load (0.117488)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3752 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: AlertSpec Load (0.009218)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3752 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000362)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3752) ORDER BY position
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000205)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3752 AND position > 1) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000192)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45785
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000176)   DELETE FROM `server_template_executables`
 WHERE `id` = 45785

[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000215)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3752 AND position > 1) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000163)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45786
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000163)   DELETE FROM `server_template_executables`
 WHERE `id` = 45786

[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000197)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3752 AND position > 1) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000167)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45787
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000166)   DELETE FROM `server_template_executables`
 WHERE `id` = 45787

[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Load (0.000304)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3752) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000256)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3752) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplate Update (0.000209)  UPDATE `server_templates` SET deleted_at = '2009-07-29 21:06:58' WHERE (id = 3752) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000583)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: AlertSpec Load (0.007134)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623131 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: FrozenRepository Load (0.000221)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623131 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ElasticLoadBalancer Load (0.000220)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623131)) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Component Update (0.000210)  UPDATE `servers` SET deleted_at = '2009-07-29 21:06:58' WHERE (id = 623131) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000608)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000124)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SharingGroupPublishable Load (0.000242)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5260 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: RightScriptAttachment Load (0.000316)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5260) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 21:06:58') ORDER BY position
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Load (0.000214)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5260) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: RightScript Update (0.000211)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 21:06:58' WHERE (id = 5260) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.001211)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000132)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.001185)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 21:06:58')) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplate Create (0.000239)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 21:06:58', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplate Update (0.000265)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 21:06:58', `parameters` = '--- {}\n\n', `head_version_id` = 3753, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3753
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000679)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.001842)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:58')) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: RightScript Create (0.000243)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 21:06:58', NULL, '--- {}\n\n', '2009-07-29 21:06:58', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: RightScript Update (0.000280)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 21:06:58', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5261, `created_at` = '2009-07-29 21:06:58', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5261
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000720)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000268)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5261 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3753) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000407)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3753 AND apply = 'boot' AND right_scripts.head_version_id = 5261) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000289)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3753) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000206)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5261, 3753, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000769)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000267)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5261 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3753) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000376)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3753 AND apply = 'operational' AND right_scripts.head_version_id = 5261) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000291)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3753) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000186)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5261, 3753, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000631)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000390)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5261 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3753) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000443)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3753 AND apply = 'decommission' AND right_scripts.head_version_id = 5261) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000305)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3753) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000203)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5261, 3753, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000694)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: CloudAccount Load (0.000317)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2SecurityGroup Load (0.000364)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 21:06:58')) LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Cloud Load (0.000229)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 21:06:58') LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Deployment Load (0.000228)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Setting Create (0.000744)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:58', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:58', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Setting Update (0.000255)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14365
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Component Create (0.000285)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 21:06:58', 1, 'RightNet Test Server', 394, '2009-07-29 21:06:58', NULL, 14365, 71, 3753, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000632)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Setting Create (0.000356)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 21:06:58', NULL, NULL, '--- {}\n\n', '2009-07-29 21:06:58', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000571)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000120)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000326)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '069659373a6a0c6792dfae30989f19e2' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Setting Update (0.000210)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14366
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Instance Create (0.000310)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '149590e96b7a6f2298dc2c2840b6cbd5', '2009-07-29 21:06:58', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 21:06:58', NULL, 'c98a8faa2254480ae4fc5e67402dc13f', 14366, 71, NULL, 3753, 'sketchy1-1', NULL, 2, '069659373a6a0c6792dfae30989f19e2', '0a245e966d78900b004943214a5e8c0c', '214939defe7298bbdf1baee2a48cb9f0', 1, '31f34c3abba399d2f1df37b8d8b81da2', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000664)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: RightScript Load (0.000526)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3753) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 21:06:58') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000115)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Account Load (0.000298)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000224)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623132 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerIncarnation Create (0.000210)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 21:06:58', NULL, NULL, 394, 339644, 71, 623132, '2009-07-29 21:06:58', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Setting Update (0.000240)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14365
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Component Update (0.000204)  UPDATE `servers` SET `updated_at` = '2009-07-29 21:06:58', `active_server_incarnation_id` = 108217, `disabled_scripts` = NULL WHERE `id` = 623132
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000643)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Component Load (0.000279)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623132) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000322)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '069659373a6a0c6792dfae30989f19e2' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339644) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Setting Update (0.000188)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14366
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Ec2Instance Update (0.000173)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339644
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000120)  COMMIT
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerTemplate Load (0.000250)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3753) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: FrozenRepository Load (0.000247)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3753 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Deployment Load (0.000209)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: FrozenRepository Load (0.000200)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: FrozenRepository Load (0.000198)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623132 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:06:58') 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: Account Load (0.000256)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: ServerIncarnation Load (0.000360)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339644 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000141)  BEGIN
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: InstanceApiToken Create (0.000236)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 21:06:58', 108217, 'c98a8faa2254480ae4fc5e67402dc13f', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjEwNjU4WhcNMTkwNzI3MjEw\nNjU4WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC+BzE+Fdx7uz8o6rAwO7yJsOYYbgFW\nYgOV8x9ftOXoP3Flkrq9jl/+Ug3abjNvUwCe/SXDWnIt6WiqiQ59NKLWg/qx3Tkb\nNL3Z7MBeacEiGw4PVaj2RS6cUx+vcPAImiZs04CHJKqZbTDvcc2dC5L0i2onBPx3\nXzvxjyCGyh+LbRu1BPCpz7cTIuprQvEi1fJJWthHSHIcqCVjEVdwfT0kprqAMnj5\nKxlqatezQk8Ff8UQAAfCl06UTAAfqs2Huna1F35krsvkTJfm/ZxJwUVh2DHVFX/x\nAj2Z4Bpwkro81w400q0wiclY5n0kTHBHC04btbVe+UCt8M7QtRWV6Iv7AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAFmYHIUEBqIh4h8sVCqscg04Gjn4M1yk+QTIyCAr\nqiIBEAOuuhtzaoZgLF/8c/B2bAe6emExMAxl0RVV8HXJQ3VK/5dvFZM5rwhGjoKA\nN/+ktGvebQd9OvON/RlRHcr29R9gswin9hGQa5g8+j6iHKKDHI31aZ6GclR45Fwb\nmQoU1HFdPiXxFwXlbKWumU7ZVHzHppKYJHWqs4D10dBf8/0J+i1hEXXVcDbjDXO8\n+XubqsgkO3n7tZnxx0lFoVh7j9xxqdjf+mye8jd4Osld/qxT7NNwVerzxiuhekkT\ng8hbvNyuNiV7gFlgy/GASy5frC0DGXj0AawyY0bEeffmlE0=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 21:06:58 +0000] DEBUG: SQL (0.000569)  COMMIT
[Wed, 29 Jul 2009 21:07:05 +0000] DEBUG: AuditEntry Load (0.000459)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:05')) 
[Wed, 29 Jul 2009 21:07:06 +0000] DEBUG: AuditEntry Load (0.000407)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:06')) 
[Wed, 29 Jul 2009 21:07:06 +0000] DEBUG: AuditEntry Load (0.000619)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:06')) 
[Wed, 29 Jul 2009 21:07:06 +0000] DEBUG: AuditEntry Load (0.000365)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:06')) 
[Wed, 29 Jul 2009 21:07:06 +0000] DEBUG: AuditEntry Load (0.000349)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:06')) 
[Wed, 29 Jul 2009 21:07:07 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:07')) 
[Wed, 29 Jul 2009 21:07:07 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:07')) 
[Wed, 29 Jul 2009 21:07:07 +0000] DEBUG: AuditEntry Load (0.000470)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:07')) 
[Wed, 29 Jul 2009 21:07:08 +0000] DEBUG: AuditEntry Load (0.000471)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:08')) 
[Wed, 29 Jul 2009 21:07:08 +0000] DEBUG: AuditEntry Load (0.000465)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:08')) 
[Wed, 29 Jul 2009 21:07:08 +0000] DEBUG: AuditEntry Load (0.000466)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:08')) 
[Wed, 29 Jul 2009 21:07:08 +0000] DEBUG: AuditEntry Load (0.000470)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:08')) 
[Wed, 29 Jul 2009 21:07:09 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:09')) 
[Wed, 29 Jul 2009 21:07:09 +0000] DEBUG: AuditEntry Load (0.000462)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:09')) 
[Wed, 29 Jul 2009 21:07:09 +0000] DEBUG: AuditEntry Load (0.000513)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:09')) 
[Wed, 29 Jul 2009 21:07:09 +0000] DEBUG: AuditEntry Load (0.000487)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:09')) 
[Wed, 29 Jul 2009 21:07:10 +0000] DEBUG: AuditEntry Load (0.000541)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:10')) 
[Wed, 29 Jul 2009 21:07:10 +0000] DEBUG: AuditEntry Load (0.000691)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:10')) 
[Wed, 29 Jul 2009 21:07:10 +0000] DEBUG: AuditEntry Load (0.000559)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:10')) 
[Wed, 29 Jul 2009 21:07:11 +0000] DEBUG: AuditEntry Load (0.000479)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:11')) 
[Wed, 29 Jul 2009 21:07:11 +0000] DEBUG: AuditEntry Load (0.000494)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:11')) 
[Wed, 29 Jul 2009 21:07:11 +0000] DEBUG: AuditEntry Load (0.000510)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:11')) 
[Wed, 29 Jul 2009 21:07:11 +0000] DEBUG: AuditEntry Load (0.000715)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:11')) 
[Wed, 29 Jul 2009 21:07:12 +0000] DEBUG: AuditEntry Load (0.000512)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:12')) 
[Wed, 29 Jul 2009 21:07:12 +0000] DEBUG: AuditEntry Load (0.000470)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:12')) 
[Wed, 29 Jul 2009 21:07:12 +0000] DEBUG: AuditEntry Load (0.000487)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:12')) 
[Wed, 29 Jul 2009 21:07:12 +0000] DEBUG: AuditEntry Load (0.000475)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:12')) 
[Wed, 29 Jul 2009 21:07:13 +0000] DEBUG: AuditEntry Load (0.000495)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:13')) 
[Wed, 29 Jul 2009 21:07:13 +0000] DEBUG: AuditEntry Load (0.000463)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:13')) 
[Wed, 29 Jul 2009 21:07:13 +0000] DEBUG: AuditEntry Load (0.000488)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:13')) 
[Wed, 29 Jul 2009 21:07:14 +0000] DEBUG: AuditEntry Load (0.000479)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:14')) 
[Wed, 29 Jul 2009 21:07:14 +0000] DEBUG: AuditEntry Load (0.000498)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:14')) 
[Wed, 29 Jul 2009 21:07:14 +0000] DEBUG: AuditEntry Load (0.000464)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:14')) 
[Wed, 29 Jul 2009 21:07:14 +0000] DEBUG: AuditEntry Load (0.000500)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:14')) 
[Wed, 29 Jul 2009 21:07:15 +0000] DEBUG: AuditEntry Load (0.000478)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:15')) 
[Wed, 29 Jul 2009 21:07:15 +0000] DEBUG: AuditEntry Load (0.000356)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:15')) 
[Wed, 29 Jul 2009 21:07:15 +0000] DEBUG: AuditEntry Load (0.000467)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:15')) 
[Wed, 29 Jul 2009 21:07:16 +0000] DEBUG: AuditEntry Load (0.000394)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:16')) 
[Wed, 29 Jul 2009 21:07:16 +0000] DEBUG: AuditEntry Load (0.000734)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:16')) 
[Wed, 29 Jul 2009 21:07:16 +0000] DEBUG: AuditEntry Load (0.000481)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:16')) 
[Wed, 29 Jul 2009 21:07:16 +0000] DEBUG: AuditEntry Load (0.000470)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:16')) 
[Wed, 29 Jul 2009 21:07:17 +0000] DEBUG: AuditEntry Load (0.000564)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:17')) 
[Wed, 29 Jul 2009 21:07:17 +0000] DEBUG: AuditEntry Load (0.000460)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:17')) 
[Wed, 29 Jul 2009 21:07:17 +0000] DEBUG: AuditEntry Load (0.000466)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:17')) 
[Wed, 29 Jul 2009 21:07:17 +0000] DEBUG: AuditEntry Load (0.000493)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:17')) 
[Wed, 29 Jul 2009 21:07:18 +0000] DEBUG: AuditEntry Load (0.000488)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:18')) 
[Wed, 29 Jul 2009 21:07:18 +0000] DEBUG: AuditEntry Load (0.000488)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:18')) 
[Wed, 29 Jul 2009 21:07:18 +0000] DEBUG: AuditEntry Load (0.000510)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:18')) 
[Wed, 29 Jul 2009 21:07:19 +0000] DEBUG: AuditEntry Load (0.000562)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:19')) 
[Wed, 29 Jul 2009 21:07:19 +0000] DEBUG: AuditEntry Load (0.000474)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:19')) 
[Wed, 29 Jul 2009 21:07:19 +0000] DEBUG: AuditEntry Load (0.000555)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:19')) 
[Wed, 29 Jul 2009 21:07:19 +0000] DEBUG: AuditEntry Load (0.000384)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:19')) 
[Wed, 29 Jul 2009 21:07:20 +0000] DEBUG: AuditEntry Load (0.000501)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:20')) 
[Wed, 29 Jul 2009 21:07:20 +0000] DEBUG: AuditEntry Load (0.000464)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:20')) 
[Wed, 29 Jul 2009 21:07:20 +0000] DEBUG: AuditEntry Load (0.000497)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:20')) 
[Wed, 29 Jul 2009 21:07:20 +0000] DEBUG: AuditEntry Load (0.000465)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:20')) 
[Wed, 29 Jul 2009 21:07:21 +0000] DEBUG: AuditEntry Load (0.000513)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:21')) 
[Wed, 29 Jul 2009 21:07:21 +0000] DEBUG: AuditEntry Load (0.000465)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:21')) 
[Wed, 29 Jul 2009 21:07:21 +0000] DEBUG: AuditEntry Load (0.000485)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:21')) 
[Wed, 29 Jul 2009 21:07:22 +0000] DEBUG: AuditEntry Load (0.000491)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:22')) 
[Wed, 29 Jul 2009 21:07:22 +0000] DEBUG: AuditEntry Load (0.000470)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:22')) 
[Wed, 29 Jul 2009 21:07:22 +0000] DEBUG: AuditEntry Load (0.000497)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:22')) 
[Wed, 29 Jul 2009 21:07:22 +0000] DEBUG: AuditEntry Load (0.000563)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:22')) 
[Wed, 29 Jul 2009 21:07:23 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:23')) 
[Wed, 29 Jul 2009 21:07:23 +0000] DEBUG: AuditEntry Load (0.000493)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:23')) 
[Wed, 29 Jul 2009 21:07:23 +0000] DEBUG: AuditEntry Load (0.000490)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:23')) 
[Wed, 29 Jul 2009 21:07:23 +0000] DEBUG: AuditEntry Load (0.000472)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:23')) 
[Wed, 29 Jul 2009 21:07:24 +0000] DEBUG: AuditEntry Load (0.000449)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:24')) 
[Wed, 29 Jul 2009 21:07:24 +0000] DEBUG: AuditEntry Load (0.000591)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:24')) 
[Wed, 29 Jul 2009 21:07:24 +0000] DEBUG: AuditEntry Load (0.000499)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:24')) 
[Wed, 29 Jul 2009 21:07:25 +0000] DEBUG: AuditEntry Load (0.000546)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:25')) 
[Wed, 29 Jul 2009 21:07:25 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:25')) 
[Wed, 29 Jul 2009 21:07:25 +0000] DEBUG: AuditEntry Load (0.000576)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:25')) 
[Wed, 29 Jul 2009 21:07:25 +0000] DEBUG: AuditEntry Load (0.000477)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:25')) 
[Wed, 29 Jul 2009 21:07:26 +0000] DEBUG: AuditEntry Load (0.000457)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:26')) 
[Wed, 29 Jul 2009 21:07:26 +0000] DEBUG: AuditEntry Load (0.000510)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:26')) 
[Wed, 29 Jul 2009 21:07:26 +0000] DEBUG: AuditEntry Load (0.000470)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:26')) 
[Wed, 29 Jul 2009 21:07:26 +0000] DEBUG: AuditEntry Load (0.000498)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:26')) 
[Wed, 29 Jul 2009 21:07:27 +0000] DEBUG: AuditEntry Load (0.000559)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:27')) 
[Wed, 29 Jul 2009 21:07:27 +0000] DEBUG: AuditEntry Load (0.000559)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:27')) 
[Wed, 29 Jul 2009 21:07:27 +0000] DEBUG: AuditEntry Load (0.000511)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:27')) 
[Wed, 29 Jul 2009 21:07:28 +0000] DEBUG: AuditEntry Load (0.000507)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:28')) 
[Wed, 29 Jul 2009 21:07:28 +0000] DEBUG: AuditEntry Load (0.000472)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:28')) 
[Wed, 29 Jul 2009 21:07:28 +0000] DEBUG: AuditEntry Load (0.000464)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:28')) 
[Wed, 29 Jul 2009 21:07:28 +0000] DEBUG: AuditEntry Load (0.000598)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:28')) 
[Wed, 29 Jul 2009 21:07:29 +0000] DEBUG: AuditEntry Load (0.000480)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:29')) 
[Wed, 29 Jul 2009 21:07:29 +0000] DEBUG: AuditEntry Load (0.000547)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:29')) 
[Wed, 29 Jul 2009 21:07:29 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:29')) 
[Wed, 29 Jul 2009 21:07:29 +0000] DEBUG: AuditEntry Load (0.000483)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:29')) 
[Wed, 29 Jul 2009 21:07:30 +0000] DEBUG: AuditEntry Load (0.000487)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:30')) 
[Wed, 29 Jul 2009 21:07:30 +0000] DEBUG: AuditEntry Load (0.000480)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:30')) 
[Wed, 29 Jul 2009 21:07:30 +0000] DEBUG: AuditEntry Load (0.000484)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:30')) 
[Wed, 29 Jul 2009 21:07:31 +0000] DEBUG: AuditEntry Load (0.000492)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:31')) 
[Wed, 29 Jul 2009 21:07:31 +0000] DEBUG: AuditEntry Load (0.000575)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:31')) 
[Wed, 29 Jul 2009 21:07:31 +0000] DEBUG: AuditEntry Load (0.000494)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:31')) 
[Wed, 29 Jul 2009 21:07:31 +0000] DEBUG: AuditEntry Load (0.000486)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:31')) 
[Wed, 29 Jul 2009 21:07:32 +0000] DEBUG: AuditEntry Load (0.000535)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:32')) 
[Wed, 29 Jul 2009 21:07:32 +0000] DEBUG: AuditEntry Load (0.000460)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:32')) 
[Wed, 29 Jul 2009 21:07:32 +0000] DEBUG: AuditEntry Load (0.000465)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:32')) 
[Wed, 29 Jul 2009 21:07:33 +0000] DEBUG: AuditEntry Load (0.000531)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:33')) 
[Wed, 29 Jul 2009 21:07:33 +0000] DEBUG: AuditEntry Load (0.000506)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:33')) 
[Wed, 29 Jul 2009 21:07:33 +0000] DEBUG: AuditEntry Load (0.000471)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:33')) 
[Wed, 29 Jul 2009 21:07:33 +0000] DEBUG: AuditEntry Load (0.000588)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:33')) 
[Wed, 29 Jul 2009 21:07:34 +0000] DEBUG: AuditEntry Load (0.000502)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:34')) 
[Wed, 29 Jul 2009 21:07:34 +0000] DEBUG: AuditEntry Load (0.000513)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:34')) 
[Wed, 29 Jul 2009 21:07:34 +0000] DEBUG: AuditEntry Load (0.000486)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:34')) 
[Wed, 29 Jul 2009 21:07:34 +0000] DEBUG: AuditEntry Load (0.000490)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:34')) 
[Wed, 29 Jul 2009 21:07:35 +0000] DEBUG: AuditEntry Load (0.000482)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:35')) 
[Wed, 29 Jul 2009 21:07:35 +0000] DEBUG: AuditEntry Load (0.000553)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:35')) 
[Wed, 29 Jul 2009 21:07:35 +0000] DEBUG: AuditEntry Load (0.000531)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339644) AND (updated_at >= '2009-05-29 21:07:35')) 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: SQL (0.000299)  BEGIN
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: InstanceApiToken Update (0.000305)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 21:07:39' WHERE (id = 33) 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: SQL (0.000471)  COMMIT
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: SQL (0.000143)  BEGIN
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: FrozenRepository Load (0.000376)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339644 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 21:07:39') 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: AuditEntry Delete all (0.000244)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339644) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: WorkUnit Delete all (0.000197)  DELETE FROM `work_units` WHERE ((instance_id = 339644) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: AlertSpec Load (0.007089)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339644 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 21:07:39') 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: ServerAlert Load (0.000388)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339644 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 21:07:39') 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000288)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339644)) 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: Ec2Instance Update (0.000238)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 21:07:39' WHERE (id = 339644) 
[Wed, 29 Jul 2009 21:07:39 +0000] DEBUG: SQL (0.000527)  COMMIT
[Wed, 29 Jul 2009 23:54:32 +0000] DEBUG: SQL (0.000193)  SET SQL_AUTO_IS_NULL=0
[Wed, 29 Jul 2009 23:54:32 +0000] DEBUG: SQL (0.001084)  SHOW TABLES
[Wed, 29 Jul 2009 23:54:33 +0000] DEBUG: ServerTemplate Columns (0.001931)  SHOW FIELDS FROM `server_templates`
[Wed, 29 Jul 2009 23:54:33 +0000] DEBUG: RightScript Columns (0.001971)  SHOW FIELDS FROM `right_scripts`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Account Columns (0.002090)  SHOW FIELDS FROM `accounts`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Account Load (0.000796)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Deployment Columns (0.001631)  SHOW FIELDS FROM `deployments`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Deployment Load (0.000721)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:54:35') LIMIT 1
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplate Load (0.004121)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:35') LIMIT 1
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Server Columns (0.001785)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Server Load (0.003442)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:54:35') LIMIT 1
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: RightScript Load (0.008498)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:35') LIMIT 1
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SharingGroupPublishable Load (0.000320)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3764 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerArray Load (0.000342)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3764) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:54:35') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: FrozenRepository Load (0.000244)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3764 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:35') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: AlertSpec Load (0.007792)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3764 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:35') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateExecutable Load (0.000462)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3764) ORDER BY position
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateExecutable Columns (0.001407)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Columns (0.001238)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateExecutable Update (0.001196)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3764 AND position > 1) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Update (0.000423)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45800
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000204)   DELETE FROM `server_template_executables`
 WHERE `id` = 45800

[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3764 AND position > 1) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Update (0.000535)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45801
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000180)   DELETE FROM `server_template_executables`
 WHERE `id` = 45801

[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3764 AND position > 1) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Update (0.000157)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45802
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000153)   DELETE FROM `server_template_executables`
 WHERE `id` = 45802

[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Load (0.000350)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3764) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateChefRecipe Columns (0.001401)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000370)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3764) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplate Update (0.000228)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:54:35' WHERE (id = 3764) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000716)  COMMIT
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000076)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Component Columns (0.002061)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: AlertSpec Load (0.007830)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623143 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:35') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: FrozenRepository Load (0.000317)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623143 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:35') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ElasticLoadBalancer Load (0.000240)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623143)) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: Component Update (0.000218)  UPDATE `servers` SET deleted_at = '2009-07-29 23:54:35' WHERE (id = 623143) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.001061)  COMMIT
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000228)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SharingGroupPublishable Load (0.000294)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5272 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: RightScriptAttachment Load (0.000377)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5272) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:35') ORDER BY position
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Load (0.000225)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5272) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: RightScript Update (0.000399)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:54:35' WHERE (id = 5272) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000554)  COMMIT
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000305)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SharingGroupPublishable Columns (0.001439)  SHOW FIELDS FROM `sharing_group_publishables`
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.002111)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:35')) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplate Create (0.001213)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:54:35', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplate Update (0.000401)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:54:35', `parameters` = '--- {}\n\n', `head_version_id` = 3765, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3765
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.007932)  COMMIT
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.001563)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.002518)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:35')) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: RightScript Create (0.000542)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:54:35', NULL, '--- {}\n\n', '2009-07-29 23:54:35', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: RightScript Update (0.002313)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:54:35', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5273, `created_at` = '2009-07-29 23:54:35', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5273
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000816)  COMMIT
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.003803)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000668)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5273 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3765) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000488)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3765 AND apply = 'boot' AND right_scripts.head_version_id = 5273) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateExecutable Load (0.000357)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3765) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: ServerTemplateRightScript Create (0.000254)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5273, 3765, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.001446)  COMMIT
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.000081)  BEGIN
[Wed, 29 Jul 2009 23:54:35 +0000] DEBUG: SQL (0.031114)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5273 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3765) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.023912)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3765 AND apply = 'operational' AND right_scripts.head_version_id = 5273) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateExecutable Load (0.003546)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3765) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateRightScript Create (0.000351)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5273, 3765, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.001865)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.001452)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000499)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5273 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3765) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000634)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3765 AND apply = 'decommission' AND right_scripts.head_version_id = 5273) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateExecutable Load (0.000379)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3765) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateRightScript Create (0.000226)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5273, 3765, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000613)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Columns (0.002639)  SHOW FIELDS FROM `ec2_settings`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: CloudAccount Load (0.002708)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: CloudAccount Columns (0.001520)  SHOW FIELDS FROM `cloud_accounts`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2SecurityGroup Columns (0.001698)  SHOW FIELDS FROM `ec2_security_groups`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2SecurityGroup Load (0.000524)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:54:36')) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Cloud Load (0.000561)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:54:36') LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Cloud Columns (0.002897)  SHOW FIELDS FROM `clouds`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000316)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Deployment Load (0.000283)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Create (0.000293)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:36', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:36', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Update (0.000298)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14389
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Component Create (0.000250)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:54:36', 1, 'RightNet Test Server', 394, '2009-07-29 23:54:36', NULL, 14389, 71, 3765, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.001403)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000129)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Create (0.000271)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:36', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:36', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000532)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Columns (0.003882)  SHOW FIELDS FROM `ec2_instances`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000147)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000397)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ad37ca59258c90ec9f43d48f5a399d81' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Update (0.000218)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14390
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Create (0.000295)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'c84661961bbf4d41d3ef1b11e5775fe0', '2009-07-29 23:54:36', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:54:36', NULL, 'e79ab76637df419bd6c431e4e38b3346', 14390, 71, NULL, 3765, 'sketchy1-1', NULL, 2, 'ad37ca59258c90ec9f43d48f5a399d81', '00a1ad365af749be14722361544bf0e3', '8e458fb2656db58662ade2ad8b2c5d52', 1, '84ce465b3f0dc9068c6d75a9b21788e8', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000534)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RightScript Load (0.000701)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3765) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:36') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000122)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerIncarnation Columns (0.001797)  SHOW FIELDS FROM `server_incarnations`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Account Load (0.000447)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000332)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623144 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerIncarnation Create (0.000374)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:54:36', NULL, NULL, 394, 339656, 71, 623144, '2009-07-29 23:54:36', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Update (0.000351)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14389
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Component Update (0.000452)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:54:36', `active_server_incarnation_id` = 108229, `disabled_scripts` = NULL WHERE `id` = 623144
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000696)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Component Load (0.000328)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623144) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000325)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ad37ca59258c90ec9f43d48f5a399d81' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339656) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Update (0.000176)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14390
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Update (0.000163)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339656
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000107)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplate Load (0.000240)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3765) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: FrozenRepository Load (0.000218)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3765 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Deployment Load (0.000199)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: FrozenRepository Load (0.000205)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: FrozenRepository Load (0.000196)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623144 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Account Load (0.000280)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerIncarnation Load (0.000381)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339656 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: InstanceApiToken Columns (0.001568)  SHOW FIELDS FROM `instance_api_tokens`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000135)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: InstanceApiToken Create (0.000255)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:54:36', 108229, 'e79ab76637df419bd6c431e4e38b3346', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NDM1WhcNMTkwNzI3MjM1\nNDM1WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDB3S4q7pFeXm/XYE8gq/MBG8u0xAzf\n9Ze+eUdPirT/27cXpA0oEha8WDJUeOzDLyuV13PA6YjmxdkEQ4WOqFmz9LMhHrLu\nxjA8D3wisyfxvDsSkhuJm5DQjNUJ3E1GXWrCbfG0ySRTkrOzb0Tzvug5iJuEUZDb\nXpCHPid3zlTL3fK6YUrMq7xgRtWmvUE56qQF3mh9oeCiM7RgHMd2wBTfgvMD4zkE\nN3MhMoJKi2fak+9xcpTKp0zoJw2AeX6/xoBMZu6iCllKvNI6BCuIQuflvpeYZlo8\n5tHLWx+x7Oz+3gugyUNdPbgi8R91KzCOxIEOV9K4bj9QeVHiOtvIjPGFAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBABbiyvKt1Wvnjg9I0oGGTbtC5Z5LlfjVMFtJCb8v\nufmiavmbJnLTBvVghbTMON5n7mVcFJTvCH2msYcEn56p0Qf2V3TnSEbTWtTRegBO\nFW/ZRw6svO1P0ERwvj/PF1WlVUV2SBhJRxK+AwbJgFfBVOfg7HQI+qtiCoj//wTF\nJGSMdyKiA2lC3l/2DA4nsX0dYQjJZFeu/LE4Td5ZDqH0m0WAAEwe5Rn3fOiNAJCt\nN+QfoDEjGzZ6+Ji6Jw446TnP+z34gqT0yZF5eAkWRdaPGLsX0YS6trTkjzHQlfjw\nlYjS//XectB+RXAxkaSSnwYX8m6WqKOdCOyZH/n2Mm9mVxo=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000712)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: InstanceApiToken Load (0.000372)  SELECT * FROM `instance_api_tokens` WHERE (`instance_api_tokens`.`id` = 45) AND (instance_api_tokens.deleted_at IS NULL OR instance_api_tokens.deleted_at > '2009-07-29 23:54:36') LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerIncarnation Load (0.000205)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.`id` = 108229) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Load (0.000285)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339656) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Load (0.000227)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14390) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000311)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ad37ca59258c90ec9f43d48f5a399d81' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339656) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Setting Update (0.000206)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14390
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Update (0.000159)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339656
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000108)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Load (0.000315)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339656) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Account Load (0.000307)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Columns (0.001447)  SHOW FIELDS FROM `audit_entries`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntryDetail Columns (0.001882)  SHOW FIELDS FROM `audit_entry_details`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntryDetail Create (0.000249)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Create (0.000215)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339656, 57, '2009-07-29 23:54:36', 71, NULL, '', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000381)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000218)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000687)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Repository Load (0.000308)  SELECT * FROM `repositories` WHERE (repositories.deleted_at IS NULL OR repositories.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Repository Columns (0.001483)  SHOW FIELDS FROM `repositories`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Cloud Load (0.000303)  SELECT * FROM `clouds` WHERE (`clouds`.`id` = 1) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000186)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 1) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Columns (0.001364)  SHOW FIELDS FROM `repository_configurations`
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000241)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 2) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000764)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 3) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.001082)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 4) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000532)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 5) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000335)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 6) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000219)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 7) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RepositoryConfiguration Load (0.000221)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 8) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: FrozenRepository Load (0.000262)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339656 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000341)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000158)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntryDetail Create (0.000287)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Create (0.000195)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339656, 58, '2009-07-29 23:54:36', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000253)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000207)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000689)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerIncarnation Load (0.000395)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339656 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Server Load (0.000295)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623144) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplate Load (0.000221)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3765) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateExecutable Load (0.000346)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3765) AND (apply = 'boot') ORDER BY position, position
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RightScript Load (0.000225)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5273) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RightScriptAttachment Load (0.000322)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5273) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:36') ORDER BY position
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Account Load (0.000303)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:54:36') LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000185)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3765) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000209)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntryDetail Create (0.000173)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Create (0.000188)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339656, 59, '2009-07-29 23:54:36', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000256)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Load (0.000197)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000701)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerIncarnation Load (0.000356)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339656 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Server Load (0.000220)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623144) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerTemplateExecutable Load (0.000315)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3765) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RightScript Load (0.000224)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5273) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: RightScriptAttachment Load (0.000360)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5273) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:36') ORDER BY position
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Account Load (0.000275)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:54:36') LIMIT 1
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000089)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: InstanceApiToken Update (0.000534)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:54:36' WHERE (id = 45) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000828)  COMMIT
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000397)  BEGIN
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: FrozenRepository Load (0.000566)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339656 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AuditEntry Delete all (0.000330)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339656) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: WorkUnit Delete all (0.000175)  DELETE FROM `work_units` WHERE ((instance_id = 339656) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: AlertSpec Load (0.007360)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339656 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: ServerAlert Load (0.000400)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339656 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:54:36') 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000228)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339656)) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: Ec2Instance Update (0.000248)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:54:36' WHERE (id = 339656) 
[Wed, 29 Jul 2009 23:54:36 +0000] DEBUG: SQL (0.000593)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Account Load (0.000410)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Deployment Load (0.000584)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:54:37') LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplate Load (0.002997)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:37') LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Server Load (0.002480)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:54:37') LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScript Load (0.007516)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:37') LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000119)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SharingGroupPublishable Load (0.000285)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3765 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerArray Load (0.000316)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3765) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: FrozenRepository Load (0.000197)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3765 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: AlertSpec Load (0.007191)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3765 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Load (0.000364)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3765) ORDER BY position
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3765 AND position > 1) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Update (0.000195)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45803
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000180)   DELETE FROM `server_template_executables`
 WHERE `id` = 45803

[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3765 AND position > 1) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Update (0.000166)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45804
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000166)   DELETE FROM `server_template_executables`
 WHERE `id` = 45804

[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Update (0.000197)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3765 AND position > 1) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Update (0.000162)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45805
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000163)   DELETE FROM `server_template_executables`
 WHERE `id` = 45805

[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Load (0.000309)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3765) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000260)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3765) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplate Update (0.000211)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:54:37' WHERE (id = 3765) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000573)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: AlertSpec Load (0.007316)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623144 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: FrozenRepository Load (0.000238)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623144 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ElasticLoadBalancer Load (0.000210)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623144)) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Component Update (0.000224)  UPDATE `servers` SET deleted_at = '2009-07-29 23:54:37' WHERE (id = 623144) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000664)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SharingGroupPublishable Load (0.000274)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5273 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScriptAttachment Load (0.000328)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5273) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:37') ORDER BY position
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Load (0.000215)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5273) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScript Update (0.000216)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:54:37' WHERE (id = 5273) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000667)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.001137)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:37')) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplate Create (0.000234)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:54:37', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplate Update (0.000273)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:54:37', `parameters` = '--- {}\n\n', `head_version_id` = 3766, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3766
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000667)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.001719)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:37')) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScript Create (0.000250)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:54:37', NULL, '--- {}\n\n', '2009-07-29 23:54:37', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScript Update (0.000306)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:54:37', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5274, `created_at` = '2009-07-29 23:54:37', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5274
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000653)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000272)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5274 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3766) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000380)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3766 AND apply = 'boot' AND right_scripts.head_version_id = 5274) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Load (0.000345)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3766) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Create (0.000216)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5274, 3766, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000741)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000265)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5274 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3766) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000410)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3766 AND apply = 'operational' AND right_scripts.head_version_id = 5274) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Load (0.000597)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3766) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Create (0.000245)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5274, 3766, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000699)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000382)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5274 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3766) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000459)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3766 AND apply = 'decommission' AND right_scripts.head_version_id = 5274) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateExecutable Load (0.000317)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3766) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplateRightScript Create (0.000193)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5274, 3766, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000595)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: CloudAccount Load (0.000277)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2SecurityGroup Load (0.000409)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:54:37')) LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Cloud Load (0.000234)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:54:37') LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Deployment Load (0.000222)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Setting Create (0.000221)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:37', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:37', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Setting Update (0.000216)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14391
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Component Create (0.000238)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:54:37', 1, 'RightNet Test Server', 394, '2009-07-29 23:54:37', NULL, 14391, 71, 3766, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000762)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Setting Create (0.000234)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:37', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:37', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000608)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000330)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '2dacca53ba640cd7fb4bb9430334c392' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Setting Update (0.000191)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14392
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Instance Create (0.000252)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '4e86c85240d0ed8380ccf669c40b0e83', '2009-07-29 23:54:37', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:54:37', NULL, '96eef41d196f86111bd30de81b76a9e7', 14392, 71, NULL, 3766, 'sketchy1-1', NULL, 2, '2dacca53ba640cd7fb4bb9430334c392', '6bd98627e4a21ea9308699bb8e343e8b', '9e829eec5e7e8c9d14d61d610853a571', 1, '63dc868dee61004e167012417ab8e461', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000616)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScript Load (0.000517)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3766) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:37') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Account Load (0.000315)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000232)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623145 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerIncarnation Create (0.000208)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:54:37', NULL, NULL, 394, 339657, 71, 623145, '2009-07-29 23:54:37', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Setting Update (0.000204)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14391
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Component Update (0.000201)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:54:37', `active_server_incarnation_id` = 108230, `disabled_scripts` = NULL WHERE `id` = 623145
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000585)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Component Load (0.000301)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623145) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000308)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '2dacca53ba640cd7fb4bb9430334c392' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339657) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Setting Update (0.000191)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14392
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Instance Update (0.000159)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339657
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000110)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplate Load (0.000287)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3766) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: FrozenRepository Load (0.000212)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3766 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Deployment Load (0.000201)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: FrozenRepository Load (0.000205)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: FrozenRepository Load (0.000213)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623145 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Account Load (0.000256)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerIncarnation Load (0.000362)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339657 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: InstanceApiToken Create (0.000227)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:54:37', 108230, '96eef41d196f86111bd30de81b76a9e7', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NDM3WhcNMTkwNzI3MjM1\nNDM3WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDFxHZhybqvs3lzYH7Eyw+hpPxhXssz\nc7AzLWVrLG6f0vRwbmJ63Ac51fuFVC7unETPrqg0+gL1gDh0IFoZ1lI+oDWl8Cbz\n9ocqr80U6biL23jQP9vxPpbiX3Z9G7OH7bHIDkKPSkHKYLyOc1yVM1CSvNBaP9UL\n8K8sWExbsulmqOrr1+fKAqDlHPFNJgvlmLl/uoPJmTNCp874UnNVBe/EBk4ZfJth\neZbpErYeJJcfoIbfLoh1Ati8J046mgSZUJF3MpNhGJ1LN497KKd/KvYlYRC6MIn3\n/iqYHLeEHwmjS6erG+2DFHsFyutvJb4Ufg4F+AKLOOh9Rh/+90miDWNBAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAITDqCwAkTKxqWjObqcI9D2HE07vbTGIFTwIdoJC\nNRtYRCHnKcpu50FZ4sAPOihwvXXQdHfvaze70B5B1n8BeuNLy0GPnuVnljQXJMQq\nXGBCoTIS8X1gTRQL9nM/c/agUe/ai5wWe/OCT2qyH2jHN4cReoFrFVhZ/AJuxJO6\nFAXJf0k6uOVzbIkbk2Dgf9OgOsUPUFjb4OhFNRGnvn00QaHvypfn4aRw51e8FX+3\nFBPfMg6BBt19Fu+VTaPh4Lz/nmYRg0G1To1QhVsY8CWjjMgkDrpsVwAy+wEqkE9s\niNx4EV6k+UvHzx1iA4H9Rdw6g4hR7ocKOM93vS3TVwbLf7M=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000580)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerIncarnation Load (0.000494)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339657 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Server Load (0.000276)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623145) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerTemplate Load (0.000220)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3766) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScript Load (0.000478)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3766) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:37') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Instance Load (0.000310)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339657) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: RightScriptAttachment Load (0.000340)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5274) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:37') ORDER BY position
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: InstanceApiToken Update (0.000211)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:54:37' WHERE (id = 46) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000737)  COMMIT
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: FrozenRepository Load (0.000256)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339657 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: AuditEntry Delete all (0.000173)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339657) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: WorkUnit Delete all (0.000162)  DELETE FROM `work_units` WHERE ((instance_id = 339657) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: AlertSpec Load (0.006988)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339657 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: ServerAlert Load (0.000298)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339657 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:54:37') 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000204)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339657)) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: Ec2Instance Update (0.000234)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:54:37' WHERE (id = 339657) 
[Wed, 29 Jul 2009 23:54:37 +0000] DEBUG: SQL (0.000650)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Account Load (0.000412)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Deployment Load (0.001407)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:54:38') LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Load (0.004456)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:38') LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Server Load (0.002494)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:54:38') LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScript Load (0.007742)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:38') LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000091)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SharingGroupPublishable Load (0.000355)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3766 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerArray Load (0.000303)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3766) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: FrozenRepository Load (0.000233)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3766 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: AlertSpec Load (0.007870)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3766 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Load (0.001078)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3766) ORDER BY position
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Update (0.000350)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3766 AND position > 1) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Update (0.000233)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45806
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000244)   DELETE FROM `server_template_executables`
 WHERE `id` = 45806

[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Update (0.000491)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3766 AND position > 1) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Update (0.000225)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45807
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000197)   DELETE FROM `server_template_executables`
 WHERE `id` = 45807

[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Update (0.000260)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3766 AND position > 1) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Update (0.000202)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45808
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000186)   DELETE FROM `server_template_executables`
 WHERE `id` = 45808

[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Load (0.000480)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3766) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000393)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3766) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Update (0.000264)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:54:38' WHERE (id = 3766) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000470)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000155)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: AlertSpec Load (0.008628)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623145 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: FrozenRepository Load (0.000293)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623145 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ElasticLoadBalancer Load (0.000205)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623145)) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Component Update (0.000239)  UPDATE `servers` SET deleted_at = '2009-07-29 23:54:38' WHERE (id = 623145) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000504)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000072)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SharingGroupPublishable Load (0.000277)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5274 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScriptAttachment Load (0.000460)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5274) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:38') ORDER BY position
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Load (0.000264)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5274) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScript Update (0.000227)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:54:38' WHERE (id = 5274) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000471)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000070)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.001532)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:38')) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Create (0.000321)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:54:38', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Update (0.000287)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:54:38', `parameters` = '--- {}\n\n', `head_version_id` = 3767, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3767
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000489)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.001969)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:38')) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScript Create (0.000413)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:54:38', NULL, '--- {}\n\n', '2009-07-29 23:54:38', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScript Update (0.000380)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:54:38', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5275, `created_at` = '2009-07-29 23:54:38', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5275
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000517)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000082)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000294)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5275 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3767) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000442)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3767 AND apply = 'boot' AND right_scripts.head_version_id = 5275) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Load (0.000507)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3767) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Create (0.000194)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5275, 3767, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000564)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000086)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000325)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5275 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3767) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000412)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3767 AND apply = 'operational' AND right_scripts.head_version_id = 5275) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Load (0.000324)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3767) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Create (0.000262)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5275, 3767, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000486)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000075)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000539)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5275 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3767) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000594)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3767 AND apply = 'decommission' AND right_scripts.head_version_id = 5275) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateExecutable Load (0.000501)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3767) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateRightScript Create (0.000361)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5275, 3767, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000699)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: CloudAccount Load (0.000430)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2SecurityGroup Load (0.000378)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:54:38')) LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Cloud Load (0.000260)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:54:38') LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Deployment Load (0.000271)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Setting Create (0.000302)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:38', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:38', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Setting Update (0.000208)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14393
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Component Create (0.000227)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:54:38', 1, 'RightNet Test Server', 394, '2009-07-29 23:54:38', NULL, 14393, 71, 3767, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000528)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000082)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Setting Create (0.000204)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:38', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:38', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000548)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000305)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '553a0d91ced079375bd540e658212bff' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Setting Update (0.000280)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14394
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Instance Create (0.000900)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '7237dbc3ea6f15c972a58e31b3822ca9', '2009-07-29 23:54:38', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:54:38', NULL, '1fd4eee36079cdc133115ef11e1c2897', 14394, 71, NULL, 3767, 'sketchy1-1', NULL, 2, '553a0d91ced079375bd540e658212bff', 'a0eaf4f8bf61a04e00074890fdfd04fe', '8dbac312a05fe7122e88774cdb1df62f', 1, '20280e9eea6124d25526f6ef05e9ca50', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000470)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScript Load (0.000553)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3767) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:38') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000122)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Account Load (0.000354)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000329)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623146 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerIncarnation Create (0.000243)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:54:38', NULL, NULL, 394, 339658, 71, 623146, '2009-07-29 23:54:38', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Setting Update (0.000259)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14393
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Component Update (0.000431)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:54:38', `active_server_incarnation_id` = 108231, `disabled_scripts` = NULL WHERE `id` = 623146
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000561)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Component Load (0.000336)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623146) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000087)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000384)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '553a0d91ced079375bd540e658212bff' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339658) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Setting Update (0.000234)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14394
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Instance Update (0.000171)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339658
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000086)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Load (0.000265)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3767) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: FrozenRepository Load (0.000220)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3767 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Deployment Load (0.000188)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: FrozenRepository Load (0.000182)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: FrozenRepository Load (0.000499)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623146 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Account Load (0.000261)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerIncarnation Load (0.000643)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339658 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000211)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: InstanceApiToken Create (0.000330)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:54:38', 108231, '1fd4eee36079cdc133115ef11e1c2897', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NDM3WhcNMTkwNzI3MjM1\nNDM3WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC2Dp3aDk5HkTl2nVT8AC4woZtVOSu6\nYWnhxtqlle02Ie8pLEhKwoWGrOtsOsJ2jj0QwyBsedgFrZVGu+e4ZjB81Hxwck/A\nuRtQxAkQ7FQLBJwR212dpJ44KINjYAJIwpsrWQBXkc7lGqSYMO/Kgjn/o5YXh9OG\nA2bbs46sIAqs3GcWjrBsAOgg/TJRQ5kTEdFmg3ihegSGZrCUEs58AvLjJXAOIra9\nGX3fO9mvu2ElxSCmn3B0QKoSwJK7UPNXcNXvWvU/JlUdUaDaGgrrSdr138cekinT\nGNOZH8xuHqEPR4G8x25qyiV7+GkG5oyPkwAhJrwf5I+M2VX0dF6splDzAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBALPOjQb+6Q4/wvGMV5r0BlZZfGNb1gY3b2Q1c0rD\npyVXhLEl79WR78TzFa95kpwEVLEAuPCFfUU928xaMiH7Ef7yyDdAaVnBcQin8XGl\nEo+UIKzhEqGYDbY7Slj8N0/BtZHM/+tlj6zKlKqVsWLGudf6tCgxoztblA4ZOGU4\nBWaT4wnKoRlQnBIHgX0EvI2Ik+6GtBF9ow4VprEG0KA4zi14R2szhlvbXF/OYnMJ\ncMI4AE23iZzyJ4n9yP371GVeFV71R16xnzmdkUcZTf6C+rPecCij77PUO/oTdqHV\nLRjEhqI/1HcloAf8Gl9rFM8+XyEVSDrmbeODQvJJJe1VJp8=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000545)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerIncarnation Load (0.000512)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339658 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Server Load (0.000261)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623146) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Load (0.000279)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3767) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: RightScript Load (0.000644)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3767) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:38') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Instance Load (0.000346)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339658) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplate Load (0.000244)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3767) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Account Load (0.000254)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Account Load (0.000300)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:54:38') LIMIT 1
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000160)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3767) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000150)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: InstanceApiToken Update (0.000223)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:54:38' WHERE (id = 47) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000524)  COMMIT
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000075)  BEGIN
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: FrozenRepository Load (0.000239)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339658 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: AuditEntry Delete all (0.000141)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339658) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: WorkUnit Delete all (0.000127)  DELETE FROM `work_units` WHERE ((instance_id = 339658) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: AlertSpec Load (0.007251)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339658 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: ServerAlert Load (0.000503)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339658 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:54:38') 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000241)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339658)) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: Ec2Instance Update (0.000220)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:54:38' WHERE (id = 339658) 
[Wed, 29 Jul 2009 23:54:38 +0000] DEBUG: SQL (0.000455)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Account Load (0.000456)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Deployment Load (0.000713)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:54:39') LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Load (0.004904)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:39') LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Server Load (0.002691)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:54:39') LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Load (0.008303)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:39') LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000214)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SharingGroupPublishable Load (0.000314)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3767 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerArray Load (0.000303)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3767) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: FrozenRepository Load (0.000212)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3767 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: AlertSpec Load (0.007159)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3767 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Load (0.000378)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3767) ORDER BY position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Update (0.000195)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3767 AND position > 1) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Update (0.000185)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45809
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000179)   DELETE FROM `server_template_executables`
 WHERE `id` = 45809

[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Update (0.000212)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3767 AND position > 1) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Update (0.000166)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45810
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000183)   DELETE FROM `server_template_executables`
 WHERE `id` = 45810

[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Update (0.000207)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3767 AND position > 1) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Update (0.000169)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45811
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000164)   DELETE FROM `server_template_executables`
 WHERE `id` = 45811

[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Load (0.000313)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3767) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000260)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3767) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Update (0.000329)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:54:39' WHERE (id = 3767) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000804)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: AlertSpec Load (0.007205)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623146 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: FrozenRepository Load (0.000249)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623146 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ElasticLoadBalancer Load (0.000278)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623146)) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Component Update (0.000223)  UPDATE `servers` SET deleted_at = '2009-07-29 23:54:39' WHERE (id = 623146) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000650)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SharingGroupPublishable Load (0.000241)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5275 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScriptAttachment Load (0.000361)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5275) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:39') ORDER BY position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Load (0.000213)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5275) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Update (0.000215)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:54:39' WHERE (id = 5275) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000605)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.001195)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:39')) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Create (0.000240)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:54:39', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Update (0.000325)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:54:39', `parameters` = '--- {}\n\n', `head_version_id` = 3768, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3768
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000565)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000124)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.002104)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:39')) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Create (0.000261)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:54:39', NULL, '--- {}\n\n', '2009-07-29 23:54:39', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Update (0.000378)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:54:39', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5276, `created_at` = '2009-07-29 23:54:39', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5276
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000672)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000308)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5276 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3768) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000380)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3768 AND apply = 'boot' AND right_scripts.head_version_id = 5276) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Load (0.000329)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3768) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Create (0.000199)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5276, 3768, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000613)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000264)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5276 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3768) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000391)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3768 AND apply = 'operational' AND right_scripts.head_version_id = 5276) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Load (0.000340)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3768) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Create (0.000222)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5276, 3768, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000592)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000120)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000386)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5276 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3768) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000408)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3768 AND apply = 'decommission' AND right_scripts.head_version_id = 5276) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Load (0.000330)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3768) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateRightScript Create (0.000343)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5276, 3768, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000654)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: CloudAccount Load (0.000268)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2SecurityGroup Load (0.000363)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:54:39')) LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Cloud Load (0.000225)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:54:39') LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Deployment Load (0.000211)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Create (0.000261)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:39', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:39', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Update (0.000362)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14395
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Component Create (0.000280)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:54:39', 1, 'RightNet Test Server', 394, '2009-07-29 23:54:39', NULL, 14395, 71, 3768, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000676)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Create (0.000226)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:39', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:39', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000628)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000312)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ec2c8b435a530a4820d2aadd573a6667' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Update (0.000203)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14396
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Instance Create (0.000309)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '375dee7dc00260aa978fa2ccc196cb77', '2009-07-29 23:54:39', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:54:39', NULL, '53e6860b0b7985c30ed42935a79f9005', 14396, 71, NULL, 3768, 'sketchy1-1', NULL, 2, 'ec2c8b435a530a4820d2aadd573a6667', 'f505096ca27de93d20b333e590c78cbd', 'c5850b88271667a69e3ae72f09ce4075', 1, '8ea5d93d4a634816c5fa33525bcabdd4', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000682)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Load (0.000547)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3768) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:39') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Account Load (0.000288)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000222)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623147 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerIncarnation Create (0.000233)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:54:39', NULL, NULL, 394, 339659, 71, 623147, '2009-07-29 23:54:39', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Update (0.000238)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14395
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Component Update (0.000220)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:54:39', `active_server_incarnation_id` = 108232, `disabled_scripts` = NULL WHERE `id` = 623147
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000608)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Component Load (0.000309)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623147) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000326)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ec2c8b435a530a4820d2aadd573a6667' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339659) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Update (0.000212)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14396
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Instance Update (0.000161)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339659
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000109)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Load (0.000248)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3768) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: FrozenRepository Load (0.000216)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3768 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Deployment Load (0.000206)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: FrozenRepository Load (0.000213)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: FrozenRepository Load (0.000352)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623147 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Account Load (0.000299)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerIncarnation Load (0.000525)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339659 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: InstanceApiToken Create (0.000268)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:54:39', 108232, '53e6860b0b7985c30ed42935a79f9005', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NDM4WhcNMTkwNzI3MjM1\nNDM4WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDeb48XqZdh9xWgri3ycv0Ikg4AqgRy\nWqWQ1mHfJHF/Zg5/q8p5sMGajEupg11K4BuTCaprtsxnIT64m/qd0C69tOEAeb39\niSjjMhuZDg6uEfUOMqCHpsBeQo1bgY4OXf9UZxfCKmcXu/JajmWoXX8vzPY/CMWB\n9HJYewNkBGljJYwb6f5SyBVx68Ha20CKt5L2V+bJTblWFqr8h9K6NRhA0QqEaiwl\nAw7Kv2Rnoyi3egEnPw0ZEYlsfVhCfXFTm+aHBT4nDsEvUcXuE7FVD09SkiDXz/Aa\nL39G5xIOJz3DgmNOyjxbBgIo1mZubyvQKNLEa078vugXF8yGWyVrWwFfAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBABMtr1AoIwTWAMqwBteaPJiT5nqMcNn7/t1rRqvr\nyKaVBS9C0UgpNk2zRSg3fyyJbLPMCP3vfQ+CFuLZetGoHoieMAzUy9X9HWKxYcfF\nCZCpwUJNxbcOmcmxAnqjuT2camb4VXuFu+F6EuLfaZfcOuFW5kZH3S1J3vQSuZ/9\ns7AGsb+lqXv7b1iX/FfPE8ni+e/40iQARkWW+NOTVA80kU2Uo4l04BcgqI/btDNC\nJbSOqbDqhKkH+wFNPbtwPOSbK0Tv0UVExQ0Fzfd3VgLmiCs9jxWnDIqcmF44B0cw\nBW2823xTVlmM1x4zM6vaLsK50jaOXE21n/mROysTAF85BhU=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000498)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerIncarnation Load (0.000497)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339659 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Server Load (0.000242)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623147) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Load (0.000303)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3768) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Load (0.000478)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3768) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:39') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Instance Load (0.000320)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339659) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerIncarnation Load (0.000453)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339659 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Server Load (0.000253)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623147) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplate Load (0.000226)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3768) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateExecutable Load (0.000414)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3768) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScript Load (0.002168)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5276) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Setting Load (0.000338)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14396) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: RightScriptAttachment Load (0.000444)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5276) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:39') ORDER BY position
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Account Load (0.000683)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Account Load (0.000303)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:54:39') LIMIT 1
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000184)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3768) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000075)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: InstanceApiToken Update (0.000218)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:54:39' WHERE (id = 48) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000558)  COMMIT
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: FrozenRepository Load (0.000280)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339659 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: AuditEntry Delete all (0.000156)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339659) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: WorkUnit Delete all (0.000157)  DELETE FROM `work_units` WHERE ((instance_id = 339659) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: AlertSpec Load (0.008405)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339659 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: ServerAlert Load (0.000369)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339659 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:54:39') 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000236)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339659)) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: Ec2Instance Update (0.000317)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:54:39' WHERE (id = 339659) 
[Wed, 29 Jul 2009 23:54:39 +0000] DEBUG: SQL (0.000526)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Account Load (0.000506)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Deployment Load (0.000970)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:54:40') LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplate Load (0.003548)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:40') LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Server Load (0.003108)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:54:40') LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScript Load (0.009139)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:40') LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000088)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SharingGroupPublishable Load (0.000392)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3768 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerArray Load (0.000349)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3768) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: FrozenRepository Load (0.000337)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3768 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: AlertSpec Load (0.007957)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3768 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Load (0.000450)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3768) ORDER BY position
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Update (0.000218)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3768 AND position > 1) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Update (0.000244)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45812
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000158)   DELETE FROM `server_template_executables`
 WHERE `id` = 45812

[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Update (0.000198)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3768 AND position > 1) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Update (0.000419)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45813
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000251)   DELETE FROM `server_template_executables`
 WHERE `id` = 45813

[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Update (0.000309)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3768 AND position > 1) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Update (0.000257)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45814
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000277)   DELETE FROM `server_template_executables`
 WHERE `id` = 45814

[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Load (0.000422)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3768) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000693)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3768) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplate Update (0.000301)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:54:40' WHERE (id = 3768) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000546)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000152)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: AlertSpec Load (0.008052)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623147 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: FrozenRepository Load (0.000290)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623147 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ElasticLoadBalancer Load (0.000209)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623147)) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Component Update (0.000206)  UPDATE `servers` SET deleted_at = '2009-07-29 23:54:40' WHERE (id = 623147) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000866)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000149)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SharingGroupPublishable Load (0.000544)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5276 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScriptAttachment Load (0.000462)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5276) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:40') ORDER BY position
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Load (0.000312)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5276) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScript Update (0.000317)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:54:40' WHERE (id = 5276) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000552)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000152)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.001240)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:40')) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplate Create (0.000253)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:54:40', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplate Update (0.000887)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:54:40', `parameters` = '--- {}\n\n', `head_version_id` = 3769, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3769
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000669)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000169)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.001997)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:40')) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScript Create (0.000404)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:54:40', NULL, '--- {}\n\n', '2009-07-29 23:54:40', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScript Update (0.000782)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:54:40', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5277, `created_at` = '2009-07-29 23:54:40', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5277
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000461)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000151)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000351)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5277 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3769) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000601)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3769 AND apply = 'boot' AND right_scripts.head_version_id = 5277) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Load (0.000699)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3769) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Create (0.000383)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5277, 3769, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000607)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000078)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000303)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5277 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3769) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000498)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3769 AND apply = 'operational' AND right_scripts.head_version_id = 5277) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Load (0.000443)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3769) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Create (0.000386)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5277, 3769, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000605)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000077)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000378)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5277 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3769) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000666)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3769 AND apply = 'decommission' AND right_scripts.head_version_id = 5277) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateExecutable Load (0.000531)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3769) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplateRightScript Create (0.000206)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5277, 3769, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000509)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: CloudAccount Load (0.000352)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2SecurityGroup Load (0.000382)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:54:40')) LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Cloud Load (0.000385)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:54:40') LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000170)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Deployment Load (0.000320)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Setting Create (0.000230)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:40', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:40', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Setting Update (0.000199)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14397
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Component Create (0.000683)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:54:40', 1, 'RightNet Test Server', 394, '2009-07-29 23:54:40', NULL, 14397, 71, 3769, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000815)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Setting Create (0.000247)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:40', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:40', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000526)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000321)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'bae298fda61a18f6d8a39ded875ebe4a' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Setting Update (0.000185)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14398
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Instance Create (0.000291)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '7c9ad193225e53f4f64c378b4aff73e0', '2009-07-29 23:54:40', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:54:40', NULL, '84e5a6e07375a873b95ee7efc6fc39dc', 14398, 71, NULL, 3769, 'sketchy1-1', NULL, 2, 'bae298fda61a18f6d8a39ded875ebe4a', 'cc24e8b1bcb6dc36a3e6d0a205fbfeae', 'aba323c0ad32032c027d5840d471d642', 1, 'b3d80741eb045b3876d413b4bbff402d', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000617)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScript Load (0.000533)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3769) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:40') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000126)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Account Load (0.000322)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000307)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623148 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerIncarnation Create (0.000388)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:54:40', NULL, NULL, 394, 339660, 71, 623148, '2009-07-29 23:54:40', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Setting Update (0.000330)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14397
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Component Update (0.000314)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:54:40', `active_server_incarnation_id` = 108233, `disabled_scripts` = NULL WHERE `id` = 623148
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000641)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Component Load (0.000279)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623148) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000342)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'bae298fda61a18f6d8a39ded875ebe4a' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339660) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Setting Update (0.000184)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14398
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Instance Update (0.000161)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339660
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000107)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplate Load (0.000244)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3769) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: FrozenRepository Load (0.000220)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3769 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Deployment Load (0.000202)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: FrozenRepository Load (0.000194)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: FrozenRepository Load (0.000197)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623148 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Account Load (0.000265)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerIncarnation Load (0.000360)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339660 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: InstanceApiToken Create (0.000237)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:54:40', 108233, '84e5a6e07375a873b95ee7efc6fc39dc', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NDQwWhcNMTkwNzI3MjM1\nNDQwWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDRo1iFcx0CHfBVmdkXVwPVaT+Ch01u\ngynbO7JG4HPuk0jXG40kbCfqW6+URcGOlab5H9zLJu8/xtczXJ5sWrd1V1ccqUbi\npmD6hVja1jlfi7AUd5LNN1CcDrEKHv64aq4Miy66iJPpQ63eqI0kIYjr2Kz54LWv\noIb8P3+7GpMrA156EHqamYYUFootIPC1VCqpfbOwXy31Cyq/G6AmoQJB2F45OQuf\nVutx1aKn+i0aDkzFWsibAvi04UjPjQBGh1cwwTGT3/dVb9b+DB6aR/9wWogTxIY9\nEurJgjlHzcmwJFyxn6lfc2A4CI1DLasu7+5X9hobcJJjCORXfk1QLYhTAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAFw1SrE4yhBUPYpmFLdt2spQyyppAzz9Hx9h+tCl\n9UsqoM7XQdKdb49Z7sgc320iBbh4V9CLae3e5d3B7RjpeqlaoQ+0Msq+VSSzwA0w\nmU/nRN0PIl2x6iAffSNYXtqReZmMm3Z3xjdK1EQlH4dPcFvBbCmXIJPB6g9IjrGf\nF7HDzwG+oLGIhky4iY0Y66wHsYbFl1r9awzgWlxtg5ql60L+woqLWC7uQC5Wr5qX\nS1Zux4g/mc+eYETSeJZRWPZOiPNYEKMyg1/fn2kuQu8z1FPZ9nXqAyS/Hd3R/5p7\n1X5Ybepm83aLYcl7IqI17VPb3kC9R7PIV4VzZn7rjJxTGWk=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000595)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerIncarnation Load (0.000442)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339660 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Server Load (0.000222)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623148) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerTemplate Load (0.000225)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3769) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScript Load (0.000451)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3769) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:40') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Instance Load (0.000300)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339660) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Account Load (0.000252)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: RightScriptAttachment Load (0.000458)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5277) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:40') ORDER BY position
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: InstanceApiToken Update (0.000267)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:54:40' WHERE (id = 49) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000692)  COMMIT
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: FrozenRepository Load (0.000269)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339660 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: AuditEntry Delete all (0.000175)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339660) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: WorkUnit Delete all (0.000195)  DELETE FROM `work_units` WHERE ((instance_id = 339660) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: AlertSpec Load (0.007111)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339660 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: ServerAlert Load (0.000286)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339660 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:54:40') 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000225)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339660)) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: Ec2Instance Update (0.000230)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:54:40' WHERE (id = 339660) 
[Wed, 29 Jul 2009 23:54:40 +0000] DEBUG: SQL (0.000699)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Account Load (0.000460)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Deployment Load (0.000586)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:54:44') LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplate Load (0.002964)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:44') LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Server Load (0.002384)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:54:44') LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: RightScript Load (0.007648)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:44') LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SharingGroupPublishable Load (0.000291)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3769 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerArray Load (0.000309)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3769) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: FrozenRepository Load (0.000196)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3769 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: AlertSpec Load (0.007243)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3769 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000383)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3769) ORDER BY position
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Update (0.000222)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3769 AND position > 1) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Update (0.000206)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45815
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000184)   DELETE FROM `server_template_executables`
 WHERE `id` = 45815

[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Update (0.000207)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3769 AND position > 1) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Update (0.000170)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45816
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000174)   DELETE FROM `server_template_executables`
 WHERE `id` = 45816

[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Update (0.000200)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3769 AND position > 1) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Update (0.000166)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45817
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000162)   DELETE FROM `server_template_executables`
 WHERE `id` = 45817

[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Load (0.000308)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3769) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000257)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3769) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplate Update (0.001426)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:54:44' WHERE (id = 3769) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000583)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: AlertSpec Load (0.007231)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623148 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: FrozenRepository Load (0.000234)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623148 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ElasticLoadBalancer Load (0.000211)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623148)) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Component Update (0.000216)  UPDATE `servers` SET deleted_at = '2009-07-29 23:54:44' WHERE (id = 623148) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000619)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SharingGroupPublishable Load (0.000261)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5277 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: RightScriptAttachment Load (0.000382)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5277) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:54:44') ORDER BY position
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Load (0.000241)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5277) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: RightScript Update (0.000213)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:54:44' WHERE (id = 5277) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000638)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.001168)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:54:44')) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplate Create (0.000278)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:54:44', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplate Update (0.000279)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:54:44', `parameters` = '--- {}\n\n', `head_version_id` = 3770, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3770
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000614)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.001930)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:44')) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: RightScript Create (0.000424)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:54:44', NULL, '--- {}\n\n', '2009-07-29 23:54:44', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: RightScript Update (0.000332)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:54:44', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5278, `created_at` = '2009-07-29 23:54:44', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5278
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000566)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000133)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000389)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5278 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3770) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000436)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3770 AND apply = 'boot' AND right_scripts.head_version_id = 5278) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000296)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3770) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Create (0.000207)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5278, 3770, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000667)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000274)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5278 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3770) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000444)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3770 AND apply = 'operational' AND right_scripts.head_version_id = 5278) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000437)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3770) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Create (0.000221)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5278, 3770, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000887)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000379)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5278 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3770) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000406)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3770 AND apply = 'decommission' AND right_scripts.head_version_id = 5278) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000303)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3770) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplateRightScript Create (0.000186)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5278, 3770, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000559)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: CloudAccount Load (0.000276)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2SecurityGroup Load (0.000386)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:54:44')) LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Cloud Load (0.000228)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:54:44') LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000092)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Deployment Load (0.000266)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Setting Create (0.000316)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:44', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:44', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Setting Update (0.000202)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14399
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Component Create (0.000272)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:54:44', 1, 'RightNet Test Server', 394, '2009-07-29 23:54:44', NULL, 14399, 71, 3770, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000651)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000076)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Setting Create (0.000202)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:54:44', NULL, NULL, '--- {}\n\n', '2009-07-29 23:54:44', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000586)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000116)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000296)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '0988237bebdef9755de38d03f82d84c3' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Setting Update (0.000175)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14400
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Instance Create (0.000253)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '1024f5002aa5242cdddc7344402664e9', '2009-07-29 23:54:44', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:54:44', NULL, '700c60bf1a6f35752dfb9c43be3d5f95', 14400, 71, NULL, 3770, 'sketchy1-1', NULL, 2, '0988237bebdef9755de38d03f82d84c3', '2a45acf174c0e3831cb731feaf7b1f4e', '3a8d237e660c752c793e7a039e999fa9', 1, '50e7f22ef72bb8ca84b05fd7be13f885', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000602)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: RightScript Load (0.000568)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3770) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:54:44') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000157)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Account Load (0.000306)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000225)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623149 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerIncarnation Create (0.000208)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:54:44', NULL, NULL, 394, 339661, 71, 623149, '2009-07-29 23:54:44', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Setting Update (0.000261)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14399
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Component Update (0.000309)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:54:44', `active_server_incarnation_id` = 108234, `disabled_scripts` = NULL WHERE `id` = 623149
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000571)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Component Load (0.000283)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623149) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000328)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '0988237bebdef9755de38d03f82d84c3' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339661) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Setting Update (0.000333)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14400
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Ec2Instance Update (0.000168)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339661
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000078)  COMMIT
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerTemplate Load (0.000244)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3770) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: FrozenRepository Load (0.000211)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3770 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Deployment Load (0.000204)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: FrozenRepository Load (0.000198)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: FrozenRepository Load (0.000199)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623149 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:54:44') 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: Account Load (0.000244)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: ServerIncarnation Load (0.000370)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339661 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: InstanceApiToken Create (0.000409)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:54:44', 108234, '700c60bf1a6f35752dfb9c43be3d5f95', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NDQzWhcNMTkwNzI3MjM1\nNDQzWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDFSaJq8puGa+DEUM7r9skJwxHgwd0Q\nqyXT5YJHa17Xv3jGR+91wTt9OYz2LqVBQ1wT5kUiosUWtm1Zu9JABJx/7JBUlsvT\nanPTGc00AD5CbUEUTTAZ+gOpQRQkm4BO0KbHfbjHTdT2UimWFQ8/qa2PAnWYmnzf\nJxbbye5BLL1AE33Di5aztwFh9iHou07E6sAgG+54Lg8Rwp0rhtDLVv7KH/4a7zzM\nl2ykV3omGOOCh06VN6nCIskQtf6blavjclI1av5JJzfyKwt0xeWXQP3+CHB350tj\nKn44n3Y2QzEQL1ioIX06QavXsX2VFkmPcHG8ujyyOJ0b9yBP6xYPSOKHAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAGXQV4CDqXrWVYMrBLNaGWjpM4Xhy9a15lsNu6dA\nR6TxPfCDYNuGA0G7fpt0QAvexMEmx/cCC2dWwIHdgMz6anxjRANgqjr2oZMqJi3V\niglPfbt10bYwv6S5gJT7L0GXLjVTCqsTEX2KEVnB2yinyrwixu5I3frCwgk6+YMR\nVgtZIYqFlY7/wzZ+5iJ8JrksUCDvQMuah1g1Ic/y+U+HWOLUzCrOrCSoFQz5OL6J\nL5P40ICLNNxpVZr4PmH/+DKgSwulb3lL5WG8YMH4cZjtfeZIUjRs32YltNnTjsFq\nG6IYhtXWM4guyrED0F0Fy87YvKMvNTwLRtbpLiqsbc41ZFs=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:54:44 +0000] DEBUG: SQL (0.000808)  COMMIT
[Wed, 29 Jul 2009 23:54:53 +0000] DEBUG: AuditEntry Load (0.040949)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:53')) 
[Wed, 29 Jul 2009 23:54:53 +0000] DEBUG: AuditEntry Load (0.007033)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:53')) 
[Wed, 29 Jul 2009 23:54:54 +0000] DEBUG: AuditEntry Load (0.014009)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:54')) 
[Wed, 29 Jul 2009 23:54:54 +0000] DEBUG: AuditEntry Load (0.006741)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:54')) 
[Wed, 29 Jul 2009 23:54:54 +0000] DEBUG: AuditEntry Load (0.000455)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:54')) 
[Wed, 29 Jul 2009 23:54:54 +0000] DEBUG: AuditEntry Load (0.000448)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:54')) 
[Wed, 29 Jul 2009 23:54:55 +0000] DEBUG: AuditEntry Load (0.082745)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:55')) 
[Wed, 29 Jul 2009 23:54:55 +0000] DEBUG: AuditEntry Load (0.025910)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:55')) 
[Wed, 29 Jul 2009 23:54:55 +0000] DEBUG: AuditEntry Load (0.000552)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:55')) 
[Wed, 29 Jul 2009 23:54:56 +0000] DEBUG: AuditEntry Load (0.005867)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:56')) 
[Wed, 29 Jul 2009 23:54:56 +0000] DEBUG: AuditEntry Load (0.000944)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:56')) 
[Wed, 29 Jul 2009 23:54:56 +0000] DEBUG: AuditEntry Load (0.000752)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:56')) 
[Wed, 29 Jul 2009 23:54:56 +0000] DEBUG: AuditEntry Load (0.000364)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:56')) 
[Wed, 29 Jul 2009 23:54:57 +0000] DEBUG: AuditEntry Load (0.009160)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:57')) 
[Wed, 29 Jul 2009 23:54:57 +0000] DEBUG: AuditEntry Load (0.003158)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:57')) 
[Wed, 29 Jul 2009 23:54:57 +0000] DEBUG: AuditEntry Load (0.000366)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:57')) 
[Wed, 29 Jul 2009 23:54:57 +0000] DEBUG: AuditEntry Load (0.000390)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:57')) 
[Wed, 29 Jul 2009 23:54:58 +0000] DEBUG: AuditEntry Load (0.000385)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:58')) 
[Wed, 29 Jul 2009 23:54:58 +0000] DEBUG: AuditEntry Load (0.000375)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:58')) 
[Wed, 29 Jul 2009 23:54:58 +0000] DEBUG: AuditEntry Load (0.001379)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:58')) 
[Wed, 29 Jul 2009 23:54:59 +0000] DEBUG: AuditEntry Load (0.010803)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:59')) 
[Wed, 29 Jul 2009 23:54:59 +0000] DEBUG: AuditEntry Load (0.034067)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:59')) 
[Wed, 29 Jul 2009 23:54:59 +0000] DEBUG: AuditEntry Load (0.006588)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:59')) 
[Wed, 29 Jul 2009 23:54:59 +0000] DEBUG: AuditEntry Load (0.000330)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:54:59')) 
[Wed, 29 Jul 2009 23:55:00 +0000] DEBUG: AuditEntry Load (0.000734)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:00')) 
[Wed, 29 Jul 2009 23:55:00 +0000] DEBUG: AuditEntry Load (0.000321)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:00')) 
[Wed, 29 Jul 2009 23:55:00 +0000] DEBUG: AuditEntry Load (0.000411)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:00')) 
[Wed, 29 Jul 2009 23:55:01 +0000] DEBUG: AuditEntry Load (0.000991)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:01')) 
[Wed, 29 Jul 2009 23:55:01 +0000] DEBUG: AuditEntry Load (0.007331)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:01')) 
[Wed, 29 Jul 2009 23:55:01 +0000] DEBUG: AuditEntry Load (0.000509)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:01')) 
[Wed, 29 Jul 2009 23:55:01 +0000] DEBUG: AuditEntry Load (0.000376)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:01')) 
[Wed, 29 Jul 2009 23:55:02 +0000] DEBUG: AuditEntry Load (0.000378)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:02')) 
[Wed, 29 Jul 2009 23:55:02 +0000] DEBUG: AuditEntry Load (0.000376)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:02')) 
[Wed, 29 Jul 2009 23:55:02 +0000] DEBUG: AuditEntry Load (0.000375)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:02')) 
[Wed, 29 Jul 2009 23:55:02 +0000] DEBUG: AuditEntry Load (0.000373)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:02')) 
[Wed, 29 Jul 2009 23:55:03 +0000] DEBUG: AuditEntry Load (0.000407)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:03')) 
[Wed, 29 Jul 2009 23:55:03 +0000] DEBUG: AuditEntry Load (0.004399)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:03')) 
[Wed, 29 Jul 2009 23:55:03 +0000] DEBUG: AuditEntry Load (0.003906)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:03')) 
[Wed, 29 Jul 2009 23:55:04 +0000] DEBUG: AuditEntry Load (0.005305)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:04')) 
[Wed, 29 Jul 2009 23:55:04 +0000] DEBUG: AuditEntry Load (0.001630)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:04')) 
[Wed, 29 Jul 2009 23:55:04 +0000] DEBUG: AuditEntry Load (0.000373)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:04')) 
[Wed, 29 Jul 2009 23:55:04 +0000] DEBUG: AuditEntry Load (0.000465)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:04')) 
[Wed, 29 Jul 2009 23:55:05 +0000] DEBUG: AuditEntry Load (0.033751)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:05')) 
[Wed, 29 Jul 2009 23:55:05 +0000] DEBUG: AuditEntry Load (0.008359)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:05')) 
[Wed, 29 Jul 2009 23:55:05 +0000] DEBUG: AuditEntry Load (0.000429)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:05')) 
[Wed, 29 Jul 2009 23:55:06 +0000] DEBUG: AuditEntry Load (0.000388)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:06')) 
[Wed, 29 Jul 2009 23:55:06 +0000] DEBUG: AuditEntry Load (0.004743)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:06')) 
[Wed, 29 Jul 2009 23:55:06 +0000] DEBUG: AuditEntry Load (0.007089)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:06')) 
[Wed, 29 Jul 2009 23:55:06 +0000] DEBUG: AuditEntry Load (0.009492)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:06')) 
[Wed, 29 Jul 2009 23:55:07 +0000] DEBUG: AuditEntry Load (0.019729)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:07')) 
[Wed, 29 Jul 2009 23:55:07 +0000] DEBUG: AuditEntry Load (0.038641)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:07')) 
[Wed, 29 Jul 2009 23:55:07 +0000] DEBUG: AuditEntry Load (0.003515)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:07')) 
[Wed, 29 Jul 2009 23:55:08 +0000] DEBUG: AuditEntry Load (0.000741)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339661) AND (updated_at >= '2009-05-29 23:55:08')) 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: SQL (0.000351)  BEGIN
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: InstanceApiToken Update (0.000340)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:55:11' WHERE (id = 50) 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: SQL (0.000849)  COMMIT
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: SQL (0.000208)  BEGIN
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: FrozenRepository Load (0.003809)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339661 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:11') 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: AuditEntry Delete all (0.000707)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339661) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: WorkUnit Delete all (0.000267)  DELETE FROM `work_units` WHERE ((instance_id = 339661) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: AlertSpec Load (0.007775)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339661 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:55:11') 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: ServerAlert Load (0.000517)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339661 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:55:11') 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000373)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339661)) 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: Ec2Instance Update (0.000437)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:55:11' WHERE (id = 339661) 
[Wed, 29 Jul 2009 23:55:11 +0000] DEBUG: SQL (0.001461)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Account Load (0.000515)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Deployment Load (0.000642)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:55:15') LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplate Load (0.002957)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:55:15') LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Server Load (0.002382)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:55:15') LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: RightScript Load (0.007490)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:55:15') LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000121)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SharingGroupPublishable Load (0.000320)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3770 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerArray Load (0.000304)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3770) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: FrozenRepository Load (0.000209)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3770 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: AlertSpec Load (0.007245)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3770 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000378)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3770) ORDER BY position
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Update (0.000206)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3770 AND position > 1) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Update (0.000198)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45818
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000190)   DELETE FROM `server_template_executables`
 WHERE `id` = 45818

[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3770 AND position > 1) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Update (0.000199)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45819
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000170)   DELETE FROM `server_template_executables`
 WHERE `id` = 45819

[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Update (0.000201)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3770 AND position > 1) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Update (0.000163)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45820
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000174)   DELETE FROM `server_template_executables`
 WHERE `id` = 45820

[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Load (0.000349)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3770) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000259)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3770) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplate Update (0.000215)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:55:15' WHERE (id = 3770) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000604)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: AlertSpec Load (0.007261)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623149 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: FrozenRepository Load (0.000240)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623149 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ElasticLoadBalancer Load (0.000233)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623149)) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Component Update (0.000221)  UPDATE `servers` SET deleted_at = '2009-07-29 23:55:15' WHERE (id = 623149) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000590)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SharingGroupPublishable Load (0.000245)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5278 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: RightScriptAttachment Load (0.000363)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5278) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:55:15') ORDER BY position
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Load (0.000213)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5278) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: RightScript Update (0.000220)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:55:15' WHERE (id = 5278) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000615)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.001240)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:55:15')) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplate Create (0.000253)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:55:15', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplate Update (0.000277)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:55:15', `parameters` = '--- {}\n\n', `head_version_id` = 3771, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3771
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000609)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.001843)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:55:15')) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: RightScript Create (0.000244)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:55:15', NULL, '--- {}\n\n', '2009-07-29 23:55:15', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: RightScript Update (0.000269)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:55:15', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5279, `created_at` = '2009-07-29 23:55:15', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5279
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000655)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000270)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5279 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3771) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000444)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3771 AND apply = 'boot' AND right_scripts.head_version_id = 5279) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000306)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3771) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Create (0.000208)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5279, 3771, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000600)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000258)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5279 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3771) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000380)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3771 AND apply = 'operational' AND right_scripts.head_version_id = 5279) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000301)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3771) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Create (0.000202)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5279, 3771, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000614)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000394)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5279 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3771) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000443)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3771 AND apply = 'decommission' AND right_scripts.head_version_id = 5279) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateExecutable Load (0.000298)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3771) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplateRightScript Create (0.000201)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5279, 3771, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000586)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: CloudAccount Load (0.000269)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2SecurityGroup Load (0.000370)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:55:15')) LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Cloud Load (0.000254)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:55:15') LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000104)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Deployment Load (0.000268)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Setting Create (0.000233)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:55:15', NULL, NULL, '--- {}\n\n', '2009-07-29 23:55:15', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Setting Update (0.000367)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14401
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Component Create (0.000332)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:55:15', 1, 'RightNet Test Server', 394, '2009-07-29 23:55:15', NULL, 14401, 71, 3771, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000688)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000107)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Setting Create (0.000214)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:55:15', NULL, NULL, '--- {}\n\n', '2009-07-29 23:55:15', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000624)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000115)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000346)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'dc704c1c29a3713710c4c90fd8ab4b60' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Setting Update (0.000208)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14402
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Instance Create (0.000259)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'a59fc4a7743bbe1dc446e3715b51f0b4', '2009-07-29 23:55:15', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:55:15', NULL, 'fe37bd45ab62c9c0d4a395c2b6d87af2', 14402, 71, NULL, 3771, 'sketchy1-1', NULL, 2, 'dc704c1c29a3713710c4c90fd8ab4b60', '8c44551c3bf6d71d5160c39813536ef3', '587dbc1680b5b12b9a8abfed42bd8cd8', 1, 'e23e9a0a5b294ff5fc3db2b1d93fffdd', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000614)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: RightScript Load (0.000522)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3771) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:55:15') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Account Load (0.000288)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000228)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623150 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerIncarnation Create (0.000205)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:55:15', NULL, NULL, 394, 339662, 71, 623150, '2009-07-29 23:55:15', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Setting Update (0.000239)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14401
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Component Update (0.000256)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:55:15', `active_server_incarnation_id` = 108235, `disabled_scripts` = NULL WHERE `id` = 623150
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000612)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Component Load (0.000271)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623150) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000362)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'dc704c1c29a3713710c4c90fd8ab4b60' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339662) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Setting Update (0.000182)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14402
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Ec2Instance Update (0.000158)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339662
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000108)  COMMIT
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerTemplate Load (0.000241)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3771) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: FrozenRepository Load (0.000214)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3771 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Deployment Load (0.000201)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: FrozenRepository Load (0.000195)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: FrozenRepository Load (0.000233)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623150 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:15') 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: Account Load (0.000254)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: ServerIncarnation Load (0.000368)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339662 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: InstanceApiToken Create (0.000254)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:55:15', 108235, 'fe37bd45ab62c9c0d4a395c2b6d87af2', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NTE1WhcNMTkwNzI3MjM1\nNTE1WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDEzxGnRN6JB+erCISJP+InxhYJqstd\nxOCt7ltR/NxOItoXqjSyMqzmtxC9kjnykbWuFX7OSXhoq18DpZDXAbvihzg+UwAs\n/s1koRMEnf3SXSgVnSx3IghEugirS+7+agu7aeEIMC6SzTSHdG9HIP9rUpwJ0NS6\nAbmN/4ROJpfEcHl1Q85viQeNr6HIK2GOuoW2FUflRcfC5dSiwm1OSd67BkQD/dXL\nEHtfECSkCmFmaLC2B7N5I/gDnAz/9eXTvjKvORVtrfeFP1Jqco9NYofZWI6yxeEr\nTWCLeZqyxvoFLopUPh1C0JV5DU95ZkTouyvMRyBVY7EvhdqZBBY3q2jjAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAC9+h3cX5SE0SD5g1v1DOjG9I8pG1Ed6ppI4eSRw\n3D/I9U1kk2Egn5c1jo5dSQeKdpnsZWBwroyhgy6nYi8dAR1htTGR7i4CtOazMLmg\n47+0Rb3sVCBgrTjleU+mvgwBNotdH7+P8f4PVLv3txBdD5tQbSILvRgeOdtJlV6D\nkb1OsRQyfUFFUAYZkCX5DASWbYYTuT1iYX3vFLO/ulpEzWCV6h5Zs9SbBiiOaRaF\nTQgKnXLac3vSsXGVNH6Ruy0Q7oy/nNR/iLZMWEL8R0aNhLPlVryrNScxnlawCFrj\new4bddcnn7jmlWN1P5UOALVfoNEzp+J7mEhx1RR2KYAlM8o=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:55:15 +0000] DEBUG: SQL (0.000709)  COMMIT
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: SQL (0.000171)  BEGIN
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: InstanceApiToken Update (0.000292)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:55:28' WHERE (id = 51) 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: SQL (0.000508)  COMMIT
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: SQL (0.000139)  BEGIN
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: FrozenRepository Load (0.000298)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339662 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:55:28') 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: AuditEntry Delete all (0.000234)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339662) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: WorkUnit Delete all (0.000129)  DELETE FROM `work_units` WHERE ((instance_id = 339662) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: AlertSpec Load (0.007145)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339662 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:55:28') 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: ServerAlert Load (0.000381)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339662 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:55:28') 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000268)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339662)) 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: Ec2Instance Update (0.000269)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:55:28' WHERE (id = 339662) 
[Wed, 29 Jul 2009 23:55:28 +0000] DEBUG: SQL (0.000590)  COMMIT
[Wed, 29 Jul 2009 23:56:41 +0000] DEBUG: SQL (0.000198)  SET SQL_AUTO_IS_NULL=0
[Wed, 29 Jul 2009 23:56:41 +0000] DEBUG: SQL (0.001097)  SHOW TABLES
[Wed, 29 Jul 2009 23:56:42 +0000] DEBUG: ServerTemplate Columns (0.001866)  SHOW FIELDS FROM `server_templates`
[Wed, 29 Jul 2009 23:56:42 +0000] DEBUG: RightScript Columns (0.001892)  SHOW FIELDS FROM `right_scripts`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Account Columns (0.002313)  SHOW FIELDS FROM `accounts`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Account Load (0.000495)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Deployment Columns (0.001700)  SHOW FIELDS FROM `deployments`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Deployment Load (0.000878)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:56:44') LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplate Load (0.003188)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:44') LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Server Columns (0.002275)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Server Load (0.002455)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:56:44') LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: RightScript Load (0.007825)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:44') LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SharingGroupPublishable Load (0.000313)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3771 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerArray Load (0.000320)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3771) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: FrozenRepository Load (0.000205)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3771 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: AlertSpec Load (0.007260)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3771 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000423)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3771) ORDER BY position
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Columns (0.001492)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Columns (0.001361)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Update (0.000272)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3771 AND position > 1) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Update (0.000201)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45821
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000172)   DELETE FROM `server_template_executables`
 WHERE `id` = 45821

[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Update (0.000204)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3771 AND position > 1) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Update (0.000157)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45822
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000195)   DELETE FROM `server_template_executables`
 WHERE `id` = 45822

[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Update (0.000292)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3771 AND position > 1) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Update (0.000173)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45823
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000263)   DELETE FROM `server_template_executables`
 WHERE `id` = 45823

[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Load (0.000389)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3771) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateChefRecipe Columns (0.001468)  SHOW FIELDS FROM `server_template_executables`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000302)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3771) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplate Update (0.000273)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:56:44' WHERE (id = 3771) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000665)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Component Columns (0.001814)  SHOW FIELDS FROM `servers`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: AlertSpec Load (0.007553)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623150 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: FrozenRepository Load (0.000265)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623150 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ElasticLoadBalancer Load (0.000243)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623150)) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Component Update (0.000228)  UPDATE `servers` SET deleted_at = '2009-07-29 23:56:44' WHERE (id = 623150) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000562)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SharingGroupPublishable Load (0.000275)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5279 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: RightScriptAttachment Load (0.000330)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5279) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:44') ORDER BY position
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Load (0.000213)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5279) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: RightScript Update (0.000220)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:56:44' WHERE (id = 5279) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000710)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000162)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SharingGroupPublishable Columns (0.001501)  SHOW FIELDS FROM `sharing_group_publishables`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.001314)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:44')) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplate Create (0.000250)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:56:44', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplate Update (0.000286)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:56:44', `parameters` = '--- {}\n\n', `head_version_id` = 3772, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3772
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000653)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000147)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.001842)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:44')) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: RightScript Create (0.000281)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:56:44', NULL, '--- {}\n\n', '2009-07-29 23:56:44', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: RightScript Update (0.000453)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:56:44', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5280, `created_at` = '2009-07-29 23:56:44', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5280
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000601)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000319)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5280 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3772) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000467)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3772 AND apply = 'boot' AND right_scripts.head_version_id = 5280) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000309)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3772) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Create (0.000206)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5280, 3772, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000614)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000117)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000319)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5280 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3772) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000496)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3772 AND apply = 'operational' AND right_scripts.head_version_id = 5280) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000337)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3772) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Create (0.000208)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5280, 3772, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000825)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000350)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5280 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3772) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000462)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3772 AND apply = 'decommission' AND right_scripts.head_version_id = 5280) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateExecutable Load (0.000305)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3772) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplateRightScript Create (0.000207)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5280, 3772, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000625)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Columns (0.002019)  SHOW FIELDS FROM `ec2_settings`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: CloudAccount Load (0.000337)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: CloudAccount Columns (0.001495)  SHOW FIELDS FROM `cloud_accounts`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2SecurityGroup Columns (0.001671)  SHOW FIELDS FROM `ec2_security_groups`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2SecurityGroup Load (0.000508)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:56:44')) LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Cloud Load (0.000351)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:56:44') LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Cloud Columns (0.001751)  SHOW FIELDS FROM `clouds`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.002222)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Deployment Load (0.000314)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Create (0.000747)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:44', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:44', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Update (0.000269)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14403
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Component Create (0.000358)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:56:44', 1, 'RightNet Test Server', 394, '2009-07-29 23:56:44', NULL, 14403, 71, 3772, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000464)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000091)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Create (0.000247)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:44', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:44', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000474)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Instance Columns (0.002280)  SHOW FIELDS FROM `ec2_instances`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000225)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000355)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ebe32fefc80b43943a92348f6dfa96d5' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Update (0.000224)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14404
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Instance Create (0.000331)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '6f498cfdafe2716d4d97a23956d7f9f8', '2009-07-29 23:56:44', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:56:44', NULL, '197d6be91ca31808958d6f46e83fc5cc', 14404, 71, NULL, 3772, 'sketchy1-1', NULL, 2, 'ebe32fefc80b43943a92348f6dfa96d5', 'c9255775dc38d249dec74d9fe924a5aa', '0ff2381760dd00221b2c361dba41c0c7', 1, 'ff13e24668f2d87994e34486f7a672d5', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000440)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: RightScript Load (0.001607)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3772) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:44') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerIncarnation Columns (0.001858)  SHOW FIELDS FROM `server_incarnations`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Account Load (0.000529)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000331)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623151 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerIncarnation Create (0.000380)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:56:44', NULL, NULL, 394, 339663, 71, 623151, '2009-07-29 23:56:44', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Update (0.000270)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14403
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Component Update (0.000270)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:56:44', `active_server_incarnation_id` = 108236, `disabled_scripts` = NULL WHERE `id` = 623151
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000576)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Component Load (0.000308)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623151) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000089)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000340)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ebe32fefc80b43943a92348f6dfa96d5' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339663) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Setting Update (0.000212)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14404
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Ec2Instance Update (0.000218)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339663
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000129)  COMMIT
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerTemplate Load (0.000273)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3772) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: FrozenRepository Load (0.000265)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3772 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Deployment Load (0.000188)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: FrozenRepository Load (0.000220)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: FrozenRepository Load (0.000221)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623151 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:44') 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: Account Load (0.000408)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: ServerIncarnation Load (0.001783)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339663 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: InstanceApiToken Columns (0.001564)  SHOW FIELDS FROM `instance_api_tokens`
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: InstanceApiToken Create (0.000252)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:56:44', 108236, '197d6be91ca31808958d6f46e83fc5cc', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NjQ0WhcNMTkwNzI3MjM1\nNjQ0WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLfmJqMiHkUNqi07GkjYj2tiSG9JbB\nSOvBc1wQvdvDQMVJj3W75a0248ArTZo5bDfSSl4fFzGMOW1qt2l7D3qdPSAxZnln\nAwyBHhxrdjlYoRnkFqgyguY1xP5VrCGc5A7kzYLGnBiDivDBem/hsAi0He8jUqCE\nmow6mrNSu/t+YU2oYGo3FpxWzpnEcJaLqQcbCiVaCJrT6tbKHhg00KDiQJ7dUuZN\nrBnSsroAhaQOjyozZpElnxFzViOZXA2Zff5VFsovCGaYP0XXYBfewgT+pREMfzRE\nr8FbY08I+WcdRzBlk73heythBcidVEZ8+DlmNiVYWlj620HVsKJqbbxhAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBALlvBPlya7uN+4+WrfysAla6nWw0LP2zdLNbzn6h\ndSi7OrWzLEwYywwftEaMtSC5AzMrUp4uboox9BtJMT0D4iZ037qw7rKBqf0ezbOU\nW+2349QODTXdmVFZRN04FmiOL1PpZy0M1PtWv4FtGe0JXA+21GoCqNdRnL5ZZ/0e\nt5wQ7KfjyO/8xt+QLHnnbfqU/4tIWYiudibTcXuW3ki4LKyHj2dJTPhhM9B0FjvK\n3aBqPgW+I3brvVZ6Z689us+oN2luRyoeVtwPGiHjO+rbw6K9+Tff/BktKj4n0xD1\ncM9VfguG1+BZ1W5XAFFkzl/MBY/1mXspmG6X+UYuxz2IAYk=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:56:44 +0000] DEBUG: SQL (0.000608)  COMMIT
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: InstanceApiToken Load (0.000386)  SELECT * FROM `instance_api_tokens` WHERE (`instance_api_tokens`.`id` = 52) AND (instance_api_tokens.deleted_at IS NULL OR instance_api_tokens.deleted_at > '2009-07-29 23:56:45') LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerIncarnation Load (0.000236)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.`id` = 108236) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2Instance Load (0.000293)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339663) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000163)  BEGIN
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2Setting Load (0.000265)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14404) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000381)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'ebe32fefc80b43943a92348f6dfa96d5' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339663) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2Setting Update (0.000293)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14404
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2Instance Update (0.000193)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339663
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000092)  COMMIT
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2Instance Load (0.000316)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339663) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Account Load (0.000374)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Columns (0.013568)  SHOW FIELDS FROM `audit_entries`
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntryDetail Columns (0.064558)  SHOW FIELDS FROM `audit_entry_details`
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.038712)  BEGIN
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntryDetail Create (0.000324)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Create (0.000190)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339663, 66, '2009-07-29 23:56:45', 71, NULL, '', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000363)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000212)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.044167)  COMMIT
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Repository Load (0.000566)  SELECT * FROM `repositories` WHERE (repositories.deleted_at IS NULL OR repositories.deleted_at > '2009-07-29 23:56:45') 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Repository Columns (0.034679)  SHOW FIELDS FROM `repositories`
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Cloud Load (0.033970)  SELECT * FROM `clouds` WHERE (`clouds`.`id` = 1) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.000420)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 1) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Columns (0.042351)  SHOW FIELDS FROM `repository_configurations`
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.018562)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 2) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.000467)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 3) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.000529)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 4) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.000509)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 5) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.001094)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 6) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.000285)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 7) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RepositoryConfiguration Load (0.000341)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 8) AND (cloud_id = 1) LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: FrozenRepository Load (0.000293)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339663 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:45') 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000274)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000139)  BEGIN
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntryDetail Create (0.000306)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Create (0.000228)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339663, 67, '2009-07-29 23:56:45', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000505)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000303)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.012403)  COMMIT
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerIncarnation Load (0.000507)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339663 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Server Load (0.000225)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623151) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerTemplate Load (0.000274)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3772) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerTemplateExecutable Load (0.000375)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3772) AND (apply = 'boot') ORDER BY position, position
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RightScript Load (0.000310)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5280) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RightScriptAttachment Load (0.000374)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5280) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:45') ORDER BY position
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Account Load (0.000417)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:56:45') LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000181)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3772) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000308)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000149)  BEGIN
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntryDetail Create (0.000196)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Create (0.000242)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339663, 68, '2009-07-29 23:56:45', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000321)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Load (0.000196)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.043420)  COMMIT
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerIncarnation Load (0.000517)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339663 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Server Load (0.000440)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623151) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerTemplateExecutable Load (0.000379)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3772) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RightScript Load (0.000408)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5280) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: RightScriptAttachment Load (0.000413)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5280) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:45') ORDER BY position
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Account Load (0.000282)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:56:45') LIMIT 1
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: InstanceApiToken Update (0.000456)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:56:45' WHERE (id = 52) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.063083)  COMMIT
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.000116)  BEGIN
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: FrozenRepository Load (0.000338)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339663 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:45') 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AuditEntry Delete all (0.000278)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339663) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: WorkUnit Delete all (0.000183)  DELETE FROM `work_units` WHERE ((instance_id = 339663) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: AlertSpec Load (0.007026)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339663 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:45') 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: ServerAlert Load (0.000300)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339663 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:56:45') 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000217)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339663)) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: Ec2Instance Update (0.000264)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:56:45' WHERE (id = 339663) 
[Wed, 29 Jul 2009 23:56:45 +0000] DEBUG: SQL (0.020771)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Account Load (0.000403)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Deployment Load (0.000597)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:56:47') LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplate Load (0.003124)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:47') LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Server Load (0.002661)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:56:47') LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScript Load (0.009084)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:47') LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000118)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SharingGroupPublishable Load (0.000310)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3772 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerArray Load (0.000396)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3772) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: FrozenRepository Load (0.000201)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3772 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: AlertSpec Load (0.007205)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3772 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Load (0.000352)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3772) ORDER BY position
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Update (0.000244)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3772 AND position > 1) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Update (0.000183)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45824
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000167)   DELETE FROM `server_template_executables`
 WHERE `id` = 45824

[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Update (0.000244)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3772 AND position > 1) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Update (0.000162)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45825
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000158)   DELETE FROM `server_template_executables`
 WHERE `id` = 45825

[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Update (0.000211)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3772 AND position > 1) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Update (0.000162)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45826
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000158)   DELETE FROM `server_template_executables`
 WHERE `id` = 45826

[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Load (0.000314)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3772) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000305)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3772) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplate Update (0.000224)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:56:47' WHERE (id = 3772) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000674)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: AlertSpec Load (0.007225)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623151 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: FrozenRepository Load (0.000283)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623151 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ElasticLoadBalancer Load (0.000212)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623151)) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Component Update (0.000246)  UPDATE `servers` SET deleted_at = '2009-07-29 23:56:47' WHERE (id = 623151) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000640)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SharingGroupPublishable Load (0.000242)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5280 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScriptAttachment Load (0.000335)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5280) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:47') ORDER BY position
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Load (0.000221)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5280) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScript Update (0.000242)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:56:47' WHERE (id = 5280) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000634)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000096)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.001131)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:47')) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplate Create (0.000242)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:56:47', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplate Update (0.000270)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:56:47', `parameters` = '--- {}\n\n', `head_version_id` = 3773, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3773
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000626)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.001769)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:47')) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScript Create (0.000239)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:56:47', NULL, '--- {}\n\n', '2009-07-29 23:56:47', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScript Update (0.000283)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:56:47', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5281, `created_at` = '2009-07-29 23:56:47', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5281
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000605)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000265)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5281 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3773) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000424)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3773 AND apply = 'boot' AND right_scripts.head_version_id = 5281) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Load (0.000295)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3773) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Create (0.000201)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5281, 3773, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000580)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000096)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000263)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5281 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3773) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000391)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3773 AND apply = 'operational' AND right_scripts.head_version_id = 5281) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Load (0.000293)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3773) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Create (0.000191)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5281, 3773, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000683)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000375)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5281 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3773) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000434)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3773 AND apply = 'decommission' AND right_scripts.head_version_id = 5281) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateExecutable Load (0.000297)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3773) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplateRightScript Create (0.000191)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5281, 3773, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000585)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: CloudAccount Load (0.000300)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2SecurityGroup Load (0.000365)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:56:47')) LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Cloud Load (0.000234)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:56:47') LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Deployment Load (0.000224)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Setting Create (0.000258)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:47', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:47', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Setting Update (0.000209)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14405
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Component Create (0.001779)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:56:47', 1, 'RightNet Test Server', 394, '2009-07-29 23:56:47', NULL, 14405, 71, 3773, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000972)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000101)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Setting Create (0.000214)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:47', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:47', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000595)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000317)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '19aa957f3b92e5c464c3651b582b38c3' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Setting Update (0.000184)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14406
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Instance Create (0.000293)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'ed05f5fad4e30934a24016bd77ecf12b', '2009-07-29 23:56:47', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:56:47', NULL, '385e84b5198d2dac0a14d7473c91e5df', 14406, 71, NULL, 3773, 'sketchy1-1', NULL, 2, '19aa957f3b92e5c464c3651b582b38c3', '0868b92cf84d7dd6b066f49a7b12bfa3', '266dff35cd078cf113ea573d14e2849e', 1, 'ce648dca385e5be4328a0f545603178f', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000579)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScript Load (0.000521)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3773) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:47') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000120)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Account Load (0.000308)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000219)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623152 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerIncarnation Create (0.000201)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:56:47', NULL, NULL, 394, 339664, 71, 623152, '2009-07-29 23:56:47', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Setting Update (0.000229)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14405
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Component Update (0.000271)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:56:47', `active_server_incarnation_id` = 108237, `disabled_scripts` = NULL WHERE `id` = 623152
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.001295)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Component Load (0.000320)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623152) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000348)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '19aa957f3b92e5c464c3651b582b38c3' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339664) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Setting Update (0.000184)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14406
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Instance Update (0.000173)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339664
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000101)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplate Load (0.000258)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3773) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: FrozenRepository Load (0.000214)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3773 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Deployment Load (0.000200)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: FrozenRepository Load (0.000205)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: FrozenRepository Load (0.000191)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623152 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Account Load (0.000249)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerIncarnation Load (0.000419)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339664 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: InstanceApiToken Create (0.000239)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:56:47', 108237, '385e84b5198d2dac0a14d7473c91e5df', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NjQ3WhcNMTkwNzI3MjM1\nNjQ3WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCocoGcBgknlyfubwTyJe6V9QAaJhgp\nuvT4S9aDxyoZYaVXn2z1F+Tni/qmTztTiCrZ+aF4TDq9z0iHUUvoGlmC0cHbCDGp\n9KOcrH5k0oBMobgapk78ySecv9VREGxCD9mfgUENA3yPqtBWEFi12ardXJFCjx0G\nvlt/iclgvLNHE0IOOlgkhkM6T7tibxfXhVUhFUgahKQmQE+8yuqi+rKlSmBc5fJi\nWjEnHEZyniLTzRkPJhuBhlsNvp4LXtHIx0IWhMCNMWhP11P7esn6N8cnB9aLVXtD\nZChhHOWWdeEoSltKLAzyLaa5WIFHhOLk1yavEB3ya8JBq+IpiSaNTmthAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAAjxTDDUo58fpDA0NEVbkKEbJrQR7rkb6Bi74Hhw\nOlU6ICa7eBWQC6AquJKWc2Vq/+oVMBPCvWVDteCDQpdaU3VRbp182RSNIaK0BcW9\nQcUI5Q7QgXOA/BCK7kNdu8sNx0QLjExOfmmVHByJLhGF3iEcnOf+QnLhTxd98A1e\n57heiAurxVW6WHXtr+jFGZKZbUdgEWu/58X8RQqNAEfJUtcbanQ1woYrB58Oav6/\nAYWdRyAuusJYsvaavICdPv66osXt3ASNPbE5V5WE6iKxRPJXO5QmlfTZiC4XgWPz\n56twQXuHG/hsduwQ4VeI0a4n9lNO/O2AtZqwtnNkuZ9cWXs=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000618)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerIncarnation Load (0.000423)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339664 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Server Load (0.000225)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623152) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerTemplate Load (0.000219)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3773) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScript Load (0.000446)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3773) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:47') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Instance Load (0.000298)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339664) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: RightScriptAttachment Load (0.000384)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5281) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:47') ORDER BY position
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: InstanceApiToken Update (0.000233)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:56:47' WHERE (id = 53) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000774)  COMMIT
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000093)  BEGIN
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: FrozenRepository Load (0.000250)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339664 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: AuditEntry Delete all (0.000161)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339664) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: WorkUnit Delete all (0.000151)  DELETE FROM `work_units` WHERE ((instance_id = 339664) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: AlertSpec Load (0.007144)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339664 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: ServerAlert Load (0.000325)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339664 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:56:47') 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000227)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339664)) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: Ec2Instance Update (0.000225)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:56:47' WHERE (id = 339664) 
[Wed, 29 Jul 2009 23:56:47 +0000] DEBUG: SQL (0.000607)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Account Load (0.000452)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Deployment Load (0.000617)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:56:48') LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Load (0.003089)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:48') LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Server Load (0.002461)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:56:48') LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScript Load (0.007733)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:48') LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SharingGroupPublishable Load (0.000303)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3773 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerArray Load (0.000316)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3773) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: FrozenRepository Load (0.000199)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3773 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: AlertSpec Load (0.007318)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3773 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Load (0.000365)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3773) ORDER BY position
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Update (0.000207)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3773 AND position > 1) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Update (0.000180)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45827
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000170)   DELETE FROM `server_template_executables`
 WHERE `id` = 45827

[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Update (0.000203)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3773 AND position > 1) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Update (0.000163)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45828
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000168)   DELETE FROM `server_template_executables`
 WHERE `id` = 45828

[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Update (0.000208)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3773 AND position > 1) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Update (0.000162)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45829
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000168)   DELETE FROM `server_template_executables`
 WHERE `id` = 45829

[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Load (0.000506)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3773) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000346)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3773) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Update (0.000234)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:56:48' WHERE (id = 3773) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000718)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000093)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: AlertSpec Load (0.007180)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623152 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: FrozenRepository Load (0.000292)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623152 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ElasticLoadBalancer Load (0.000219)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623152)) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Component Update (0.000222)  UPDATE `servers` SET deleted_at = '2009-07-29 23:56:48' WHERE (id = 623152) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000643)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SharingGroupPublishable Load (0.000264)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5281 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScriptAttachment Load (0.000417)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5281) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:48') ORDER BY position
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Load (0.000233)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5281) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScript Update (0.000230)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:56:48' WHERE (id = 5281) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000701)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.001177)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:48')) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Create (0.000244)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:56:48', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Update (0.000271)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:56:48', `parameters` = '--- {}\n\n', `head_version_id` = 3774, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3774
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000713)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000114)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.001980)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:48')) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScript Create (0.000255)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:56:48', NULL, '--- {}\n\n', '2009-07-29 23:56:48', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScript Update (0.000317)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:56:48', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5282, `created_at` = '2009-07-29 23:56:48', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5282
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000714)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000280)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5282 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3774) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000385)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3774 AND apply = 'boot' AND right_scripts.head_version_id = 5282) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Load (0.000288)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3774) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Create (0.000193)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5282, 3774, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000706)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000535)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5282 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3774) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000449)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3774 AND apply = 'operational' AND right_scripts.head_version_id = 5282) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Load (0.000305)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3774) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Create (0.000199)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5282, 3774, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.001233)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000340)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5282 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3774) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000418)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3774 AND apply = 'decommission' AND right_scripts.head_version_id = 5282) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateExecutable Load (0.000295)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3774) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateRightScript Create (0.000184)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5282, 3774, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000599)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: CloudAccount Load (0.000341)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2SecurityGroup Load (0.000400)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:56:48')) LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Cloud Load (0.000242)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:56:48') LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000085)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Deployment Load (0.000214)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Setting Create (0.000238)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:48', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:48', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Setting Update (0.000222)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14407
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Component Create (0.000287)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:56:48', 1, 'RightNet Test Server', 394, '2009-07-29 23:56:48', NULL, 14407, 71, 3774, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000575)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Setting Create (0.000201)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:48', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:48', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000592)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000327)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '9165912fe7ce4d1101a3f5d4e55f7b00' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Setting Update (0.000207)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14408
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Instance Create (0.000382)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'ce08a374a37ef45713d32fd95314f4ff', '2009-07-29 23:56:48', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:56:48', NULL, '3a433f4f939d7104e3564810b011b2a0', 14408, 71, NULL, 3774, 'sketchy1-1', NULL, 2, '9165912fe7ce4d1101a3f5d4e55f7b00', 'afa4d39fe8193784506d776de221dc75', '85b048e4b4564ff4678701800fda1250', 1, '7b93fe7c65b1e746041f97326b463234', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000623)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScript Load (0.000573)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3774) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:48') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Account Load (0.000312)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000280)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623153 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerIncarnation Create (0.000214)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:56:48', NULL, NULL, 394, 339665, 71, 623153, '2009-07-29 23:56:48', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Setting Update (0.000236)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14407
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Component Update (0.000304)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:56:48', `active_server_incarnation_id` = 108238, `disabled_scripts` = NULL WHERE `id` = 623153
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000677)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Component Load (0.000313)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623153) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000338)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '9165912fe7ce4d1101a3f5d4e55f7b00' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339665) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Setting Update (0.000195)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14408
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Instance Update (0.000147)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339665
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000103)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Load (0.000248)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3774) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: FrozenRepository Load (0.000200)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3774 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Deployment Load (0.000235)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: FrozenRepository Load (0.000210)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: FrozenRepository Load (0.000190)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623153 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Account Load (0.000256)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerIncarnation Load (0.000375)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339665 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: InstanceApiToken Create (0.000371)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:56:48', 108238, '3a433f4f939d7104e3564810b011b2a0', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NjQ3WhcNMTkwNzI3MjM1\nNjQ3WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDQBKfxgE9X1eVmxah85QQ9rLfBjgHg\n9s9uJL0pZKE+TH43hdZZhpZ2N4k1UJkI/ONAltaZKltWZkSjEjEmHjZPQUFFqkPC\nAo6JBgCX125RzDimZS/9XXPuSQv3+kQcNmDxNRAYlaMz1YlNXqQncRFx2vsPsZrT\npIoHmKleVshzM5jmRysuxD5ZQtyAwsRyxqQ/0vKhBL9hjeesF7Yu86JKBzF8wWCk\nMLpvFskOI/FKrTYYVGoLcF6sxMZGx+6r1fo+dQNvuYn72wRmSWX3Seby12Urmk4D\nh8EBYIuEhDW0w70VsMuq2FusvuJ7+eIhAp8qGIyZurjLY+IMf3NSJoodAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAIuTgA9bw4foDJjywvN5hhc8lMzfDfZRGZftuzzc\nQVJl/B70ZbF3c89sBaR+W3fLRvWj/iApq/B3b3QxMqmURDp2+IWiEK6nDmwB0Ncp\ncJl7hWQsW6cmWY7SkOYyuLPGF0ttkQX9d3G9FmB3KzrFVyuUuLxXQsaok0GBGcrx\nw79WtvAHQDs2fvZPhF0wlbKjseirEsLPpZig887bIqRTvQjcT9m/688DaaRhMNcz\nsa1GoMvIJOqDkfJpGRc0HfBbr8JFSZuj8TkCEFBd+iM7/15wnw2dkToGPb1rwoDf\nvjBKiZrYPdiQYRXgPyCsahzq3McR8Ej5rBiZM6J3qfr7reg=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000582)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerIncarnation Load (0.000722)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339665 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Server Load (0.000302)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623153) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Load (0.000238)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3774) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: RightScript Load (0.000506)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3774) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:48') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Instance Load (0.000298)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339665) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplate Load (0.000221)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3774) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Account Load (0.000249)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Account Load (0.000265)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:56:48') LIMIT 1
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000193)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3774) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: InstanceApiToken Update (0.000235)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:56:48' WHERE (id = 54) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000703)  COMMIT
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000092)  BEGIN
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: FrozenRepository Load (0.000238)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339665 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: AuditEntry Delete all (0.000168)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339665) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: WorkUnit Delete all (0.000150)  DELETE FROM `work_units` WHERE ((instance_id = 339665) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: AlertSpec Load (0.008171)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339665 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: ServerAlert Load (0.000362)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339665 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:56:48') 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000221)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339665)) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: Ec2Instance Update (0.000220)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:56:48' WHERE (id = 339665) 
[Wed, 29 Jul 2009 23:56:48 +0000] DEBUG: SQL (0.000663)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Account Load (0.000494)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Deployment Load (0.000671)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:56:51') LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Load (0.003261)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:51') LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Server Load (0.002773)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:56:51') LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Load (0.007559)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:51') LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SharingGroupPublishable Load (0.000303)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3774 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerArray Load (0.000367)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3774) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: FrozenRepository Load (0.000330)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3774 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: AlertSpec Load (0.008079)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3774 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Load (0.000411)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3774) ORDER BY position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Update (0.000208)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3774 AND position > 1) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Update (0.000169)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45830
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000168)   DELETE FROM `server_template_executables`
 WHERE `id` = 45830

[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Update (0.000291)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3774 AND position > 1) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Update (0.000189)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45831
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000175)   DELETE FROM `server_template_executables`
 WHERE `id` = 45831

[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Update (0.000232)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3774 AND position > 1) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Update (0.000171)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45832
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000161)   DELETE FROM `server_template_executables`
 WHERE `id` = 45832

[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Load (0.000337)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3774) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000265)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3774) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Update (0.000239)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:56:51' WHERE (id = 3774) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000449)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000068)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: AlertSpec Load (0.007522)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623153 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: FrozenRepository Load (0.000505)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623153 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ElasticLoadBalancer Load (0.000225)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623153)) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Component Update (0.000216)  UPDATE `servers` SET deleted_at = '2009-07-29 23:56:51' WHERE (id = 623153) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000456)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000071)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SharingGroupPublishable Load (0.000258)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5282 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScriptAttachment Load (0.000365)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5282) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:51') ORDER BY position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Load (0.000303)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5282) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Update (0.000216)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:56:51' WHERE (id = 5282) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000551)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000077)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.001338)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:51')) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Create (0.000273)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:56:51', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Update (0.000545)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:56:51', `parameters` = '--- {}\n\n', `head_version_id` = 3775, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3775
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000573)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000086)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.002042)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:51')) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Create (0.000262)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:56:51', NULL, '--- {}\n\n', '2009-07-29 23:56:51', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Update (0.000305)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:56:51', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5283, `created_at` = '2009-07-29 23:56:51', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5283
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000457)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000078)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000299)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5283 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3775) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000518)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3775 AND apply = 'boot' AND right_scripts.head_version_id = 5283) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Load (0.000443)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3775) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Create (0.000228)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5283, 3775, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000463)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000077)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000306)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5283 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3775) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000436)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3775 AND apply = 'operational' AND right_scripts.head_version_id = 5283) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Load (0.000324)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3775) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Create (0.000402)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5283, 3775, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000443)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000084)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000454)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5283 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3775) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000471)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3775 AND apply = 'decommission' AND right_scripts.head_version_id = 5283) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Load (0.000353)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3775) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateRightScript Create (0.000241)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5283, 3775, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000453)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: CloudAccount Load (0.000297)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2SecurityGroup Load (0.000412)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:56:51')) LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Cloud Load (0.000347)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:56:51') LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000075)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Deployment Load (0.000235)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Create (0.000246)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:51', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:51', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Update (0.000469)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14409
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Component Create (0.000374)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:56:51', 1, 'RightNet Test Server', 394, '2009-07-29 23:56:51', NULL, 14409, 71, 3775, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000460)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000135)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Create (0.000290)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:51', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:51', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000471)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000376)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'e4a8004649697e7bc8b2ec06f297484e' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Update (0.000260)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14410
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Instance Create (0.000696)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'eb8884e7abe241769f02af4b25137f17', '2009-07-29 23:56:51', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:56:51', NULL, '9db95e1d810b3f4aca4d7562fe0c2027', 14410, 71, NULL, 3775, 'sketchy1-1', NULL, 2, 'e4a8004649697e7bc8b2ec06f297484e', '1d071b1e9def7630fff09f959edf098e', 'd7f8b812b6355c5dc89b34cdf58f5e9f', 1, '643b6628396aee080fa5204a073d405c', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000521)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Load (0.000604)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3775) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:51') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000141)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Account Load (0.000474)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000389)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623154 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerIncarnation Create (0.000278)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:56:51', NULL, NULL, 394, 339666, 71, 623154, '2009-07-29 23:56:51', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Update (0.000314)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14409
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Component Update (0.000861)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:56:51', `active_server_incarnation_id` = 108239, `disabled_scripts` = NULL WHERE `id` = 623154
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000702)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Component Load (0.000391)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623154) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000356)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'e4a8004649697e7bc8b2ec06f297484e' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339666) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Update (0.000209)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14410
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Instance Update (0.000136)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339666
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000076)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Load (0.000236)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3775) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: FrozenRepository Load (0.000254)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3775 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Deployment Load (0.000275)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: FrozenRepository Load (0.000465)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: FrozenRepository Load (0.000375)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623154 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Account Load (0.000495)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerIncarnation Load (0.000418)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339666 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000081)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: InstanceApiToken Create (0.000256)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:56:51', 108239, '9db95e1d810b3f4aca4d7562fe0c2027', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NjUxWhcNMTkwNzI3MjM1\nNjUxWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCvsl6rXfp1A/h+D2zKNnFZ81aE65yZ\nOPwlhcpjPD1f2TARLY16Y4TyALiA7XArwA24euCbxNbVL6KAQSTnE40CZd0fuNvA\nSGfT1qyIkUVnUUMZilWc9FutNrP972SZb8kaS+jNmJBSrO7fUhkXr/nPp1QEuxcx\nmrnuvozYVWuMWXcScXE7lwQ/QgeniQifxmkH952ywNruUW8SEZhBBYnkAUjY/T17\nbkB5PB2XR4wtlAhAQXDoNtU4aiASKACPCIVIH7He5nPgegIzbwynfLAGYdI6L6RU\nzavmAHZ9cSs4Hy6gXsGGFWSR419KIYJyNvL5qlXzMktSYc0A21U8jW0XAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAI98Iyz2tz+o/JLi7Uk24DZXAmU0xl5NX9P9sZqP\nXL28rSbUqEE0ft6UiqEHnlaEOBBV7rzW1YinTrmcBO5UjDCj4aCXp3xeITR/Z2eN\nvC7l0tPRzea1Q5Lyp/mf1fTAtaCnw+ymNfpCHJg3+IX07Yq3cmSmP6Kz3cF7Owi7\nwASP4YcL5M6xkvWRbJLZSA7H2qBUarp+0FQjtrp3udFCaT01WswcpJFRGYj7kMiC\n6gKSjYtekUxQ9oDCRQ6BymKWbyAQugJhBMfFLkFqr4IWvLyDn8tcF14O9kiT3jf6\n/iMswl/XuwroyCKEbYRMc3pjxwjNDkzmLVhlVz/bUgh9xZw=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000484)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerIncarnation Load (0.000533)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339666 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Server Load (0.000322)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623154) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Load (0.000341)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3775) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Load (0.000644)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3775) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:51') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Instance Load (0.000470)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339666) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerIncarnation Load (0.033138)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339666 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Server Load (0.000390)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623154) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplate Load (0.000309)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3775) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateExecutable Load (0.000494)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3775) AND (apply = 'decommission') ORDER BY position, position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScript Load (0.000249)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5283) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Setting Load (0.000224)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14410) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: RightScriptAttachment Load (0.000349)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5283) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:51') ORDER BY position
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Account Load (0.000344)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Account Load (0.000304)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-29 23:56:51') LIMIT 1
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000253)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3775) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000078)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: InstanceApiToken Update (0.000273)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:56:51' WHERE (id = 55) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000525)  COMMIT
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000087)  BEGIN
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: FrozenRepository Load (0.000493)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339666 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: AuditEntry Delete all (0.000347)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339666) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: WorkUnit Delete all (0.000137)  DELETE FROM `work_units` WHERE ((instance_id = 339666) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: AlertSpec Load (0.007518)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339666 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: ServerAlert Load (0.000371)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339666 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:56:51') 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000317)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339666)) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: Ec2Instance Update (0.000373)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:56:51' WHERE (id = 339666) 
[Wed, 29 Jul 2009 23:56:51 +0000] DEBUG: SQL (0.000479)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Account Load (0.000470)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Deployment Load (0.000624)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:56:53') LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplate Load (0.003007)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:53') LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Server Load (0.002380)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:56:53') LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScript Load (0.007479)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:53') LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000113)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SharingGroupPublishable Load (0.000303)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3775 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerArray Load (0.000351)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3775) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: FrozenRepository Load (0.000220)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3775 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: AlertSpec Load (0.007209)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3775 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Load (0.000371)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3775) ORDER BY position
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Update (0.000216)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3775 AND position > 1) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Update (0.000187)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45833
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000173)   DELETE FROM `server_template_executables`
 WHERE `id` = 45833

[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Update (0.000205)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3775 AND position > 1) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Update (0.000165)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45834
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000175)   DELETE FROM `server_template_executables`
 WHERE `id` = 45834

[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Update (0.000207)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3775 AND position > 1) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Update (0.000194)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45835
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000146)   DELETE FROM `server_template_executables`
 WHERE `id` = 45835

[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Load (0.000337)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3775) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000268)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3775) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplate Update (0.000229)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:56:53' WHERE (id = 3775) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000588)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: AlertSpec Load (0.007367)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623154 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: FrozenRepository Load (0.000288)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623154 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ElasticLoadBalancer Load (0.000220)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623154)) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Component Update (0.000242)  UPDATE `servers` SET deleted_at = '2009-07-29 23:56:53' WHERE (id = 623154) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000697)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000096)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SharingGroupPublishable Load (0.000280)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5283 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScriptAttachment Load (0.000326)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5283) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:53') ORDER BY position
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Load (0.000228)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5283) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScript Update (0.000230)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:56:53' WHERE (id = 5283) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000690)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000096)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.001286)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:53')) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplate Create (0.000386)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:56:53', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplate Update (0.000317)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:56:53', `parameters` = '--- {}\n\n', `head_version_id` = 3776, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3776
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000625)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000109)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.001875)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:53')) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScript Create (0.000251)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:56:53', NULL, '--- {}\n\n', '2009-07-29 23:56:53', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScript Update (0.000275)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:56:53', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5284, `created_at` = '2009-07-29 23:56:53', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5284
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000596)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000276)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5284 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3776) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000379)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3776 AND apply = 'boot' AND right_scripts.head_version_id = 5284) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Load (0.000309)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3776) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Create (0.000196)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5284, 3776, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000609)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000263)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5284 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3776) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000478)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3776 AND apply = 'operational' AND right_scripts.head_version_id = 5284) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Load (0.000301)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3776) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Create (0.000579)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5284, 3776, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000563)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000396)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5284 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3776) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000413)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3776 AND apply = 'decommission' AND right_scripts.head_version_id = 5284) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateExecutable Load (0.000317)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3776) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplateRightScript Create (0.000242)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5284, 3776, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000663)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: CloudAccount Load (0.000305)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2SecurityGroup Load (0.000380)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:56:53')) LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Cloud Load (0.000262)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:56:53') LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000095)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Deployment Load (0.000211)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Setting Create (0.000240)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:53', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:53', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Setting Update (0.000193)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14411
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Component Create (0.000293)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:56:53', 1, 'RightNet Test Server', 394, '2009-07-29 23:56:53', NULL, 14411, 71, 3776, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000567)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Setting Create (0.000210)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:53', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:53', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000594)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000108)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000319)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'bfd1b03effe38726a5a8773516d221d7' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Setting Update (0.000197)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14412
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Instance Create (0.000261)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '1999fd1b6da550980d08bddafb944438', '2009-07-29 23:56:53', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:56:53', NULL, '7829302d9a665e662401311ee26e180d', 14412, 71, NULL, 3776, 'sketchy1-1', NULL, 2, 'bfd1b03effe38726a5a8773516d221d7', 'e6687d102b44911497e04463925ae137', 'f2a6649d9300e6cc31f073e85d5a8fd9', 1, 'bb1a36264eb50adb75c4227f4b024a1d', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000621)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScript Load (0.000551)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3776) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:53') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000106)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Account Load (0.000286)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000280)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623155 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerIncarnation Create (0.000223)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:56:53', NULL, NULL, 394, 339667, 71, 623155, '2009-07-29 23:56:53', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Setting Update (0.000240)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14411
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Component Update (0.000261)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:56:53', `active_server_incarnation_id` = 108240, `disabled_scripts` = NULL WHERE `id` = 623155
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000684)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Component Load (0.000267)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623155) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000300)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'bfd1b03effe38726a5a8773516d221d7' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339667) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Setting Update (0.000379)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14412
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Instance Update (0.000220)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339667
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000094)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplate Load (0.000263)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3776) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: FrozenRepository Load (0.000245)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3776 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Deployment Load (0.000356)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: FrozenRepository Load (0.000328)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: FrozenRepository Load (0.000375)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623155 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Account Load (0.000371)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerIncarnation Load (0.000564)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339667 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000258)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: InstanceApiToken Create (0.000275)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:56:53', 108240, '7829302d9a665e662401311ee26e180d', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NjUyWhcNMTkwNzI3MjM1\nNjUyWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCuSxUf2nEEDYDSEkOXxX2aEdyUUXbL\nrJ6aK0I9VrhgLswqHKjHn1bZXf/Eq/w0s4WYYfqza3iGVi4Y413+MP8LgQoLvUMc\nDFlCCPa4S8SewU7vTTVQ2f63yfQjqjo6JgY22wExojNxsDJkyD3hfZNXcG1MF0lT\nVG2OAkYIS0KDfagGyyq1lGU4AwJyJPVnWeIDHGHUtjEtUmtsTlWgIsZxRXWJFhJC\nwZbKmu9EIIkVQUb/w/zM8f4dWJWpVrvDy9haL2hIau+1MCMfoBmJTiNJuT59KxYS\nSCrxvoNxs3aoXRBRXBy3lrCud6OWCN+bNTOXC6YvWG+/EUbLlSE+ZHu1AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAJC/FJ7VRePZJ1gWjFlIRIRKWAVQsncdMnraZSFt\ny2hOj1TPCu2siUpYxuD0EFCnmwenqNOaw0flmQdITp9VMFeWTt3yPD846Bl1H4Ip\nLk9UkneECZuKz0+xpwZ6xOctwr1Omnbs7TKubCGhN519snWTD+5InQqAZuzyN5Tm\nt3EcwzzXBOZDBd04wdd/dcGmRDpZf1YUxEvW3RkV3V46jPAGJAw8yxL0aCiKJKoz\nQCUM4/JYOJ+lo0q7uILmZQupsiTPvfSHbxvoqJM/NqmQPGuVuE52ypkzkLGvs8sz\nc7QM1Q/5KN+VXQQijknvgFfjxA4i7/YQs/xxLtZxNs+dfeg=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.001221)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerIncarnation Load (0.000581)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339667 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Server Load (0.000313)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623155) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerTemplate Load (0.000335)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3776) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScript Load (0.000717)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3776) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:53') ORDER BY server_template_executables.position LIMIT 1
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Instance Load (0.000321)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339667) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Account Load (0.000234)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: RightScriptAttachment Load (0.000387)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5284) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:53') ORDER BY position
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000113)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: InstanceApiToken Update (0.000362)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:56:53' WHERE (id = 56) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000881)  COMMIT
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000279)  BEGIN
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: FrozenRepository Load (0.000364)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339667 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: AuditEntry Delete all (0.000259)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339667) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: WorkUnit Delete all (0.000222)  DELETE FROM `work_units` WHERE ((instance_id = 339667) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: AlertSpec Load (0.007987)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339667 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: ServerAlert Load (0.000526)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339667 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:56:53') 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000883)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339667)) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: Ec2Instance Update (0.000249)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:56:53' WHERE (id = 339667) 
[Wed, 29 Jul 2009 23:56:53 +0000] DEBUG: SQL (0.000604)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: Account Load (0.000471)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: Deployment Load (0.000590)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:56:58') LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplate Load (0.002978)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:58') LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: Server Load (0.002370)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:56:58') LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: RightScript Load (0.007731)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:58') LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SharingGroupPublishable Load (0.000329)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3776 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerArray Load (0.000293)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3776) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:56:58') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: FrozenRepository Load (0.000195)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3776 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:58') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: AlertSpec Load (0.007430)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3776 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:58') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000461)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3776) ORDER BY position
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000217)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3776 AND position > 1) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000246)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45836
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000325)   DELETE FROM `server_template_executables`
 WHERE `id` = 45836

[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000231)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3776 AND position > 1) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000167)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45837
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000159)   DELETE FROM `server_template_executables`
 WHERE `id` = 45837

[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000192)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3776 AND position > 1) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000155)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45838
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000167)   DELETE FROM `server_template_executables`
 WHERE `id` = 45838

[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Load (0.000319)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3776) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000259)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3776) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplate Update (0.000212)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:56:58' WHERE (id = 3776) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000675)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000096)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: AlertSpec Load (0.007167)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623155 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:56:58') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: FrozenRepository Load (0.000282)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623155 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:58') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ElasticLoadBalancer Load (0.000254)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623155)) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: Component Update (0.000245)  UPDATE `servers` SET deleted_at = '2009-07-29 23:56:58' WHERE (id = 623155) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000576)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000084)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SharingGroupPublishable Load (0.000248)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5284 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: RightScriptAttachment Load (0.000318)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5284) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:56:58') ORDER BY position
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Load (0.000237)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5284) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: RightScript Update (0.000235)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:56:58' WHERE (id = 5284) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000606)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000079)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.001248)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:56:58')) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplate Create (0.000274)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:56:58', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplate Update (0.000367)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:56:58', `parameters` = '--- {}\n\n', `head_version_id` = 3777, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3777
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000634)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000100)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.001825)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:58')) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: RightScript Create (0.000252)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:56:58', NULL, '--- {}\n\n', '2009-07-29 23:56:58', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: RightScript Update (0.000295)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:56:58', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5285, `created_at` = '2009-07-29 23:56:58', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5285
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000593)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000097)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000273)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5285 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3777) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000450)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3777 AND apply = 'boot' AND right_scripts.head_version_id = 5285) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000398)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3777) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000226)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5285, 3777, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000591)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000099)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000284)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5285 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3777) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000396)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3777 AND apply = 'operational' AND right_scripts.head_version_id = 5285) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000307)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3777) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000216)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5285, 3777, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000610)  COMMIT
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000098)  BEGIN
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: SQL (0.000392)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5285 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3777) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:56:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000432)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3777 AND apply = 'decommission' AND right_scripts.head_version_id = 5285) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: ServerTemplateExecutable Load (0.000307)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3777) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: ServerTemplateRightScript Create (0.000207)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5285, 3777, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000575)  COMMIT
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: CloudAccount Load (0.000330)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:56:59') 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2SecurityGroup Load (0.000381)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:56:59')) LIMIT 1
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Cloud Load (0.000233)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:56:59') LIMIT 1
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000094)  BEGIN
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Deployment Load (0.000207)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Setting Create (0.000239)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:59', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:59', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Setting Update (0.000200)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14413
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Component Create (0.000312)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:56:59', 1, 'RightNet Test Server', 394, '2009-07-29 23:56:59', NULL, 14413, 71, 3777, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000606)  COMMIT
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000092)  BEGIN
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Setting Create (0.000257)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:56:59', NULL, NULL, '--- {}\n\n', '2009-07-29 23:56:59', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000492)  COMMIT
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000110)  BEGIN
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000317)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'b2add7ce14693a979e6deebfa2e5791b' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Setting Update (0.000212)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14414
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Instance Create (0.000327)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '2eec5b9b404e9d954bdbe92d6260022b', '2009-07-29 23:56:59', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:56:59', NULL, '285efa16a7d8ce6706cd21597cb6dd64', 14414, 71, NULL, 3777, 'sketchy1-1', NULL, 2, 'b2add7ce14693a979e6deebfa2e5791b', '7dfcfda393a483f508c60c4fe673e2c8', '98734765b859805957665b68c650f2ee', 1, '96c4241d3353bd49f70f0b3afe8c151a', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000672)  COMMIT
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: RightScript Load (0.000561)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3777) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:56:59') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000103)  BEGIN
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Account Load (0.000288)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000215)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623156 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: ServerIncarnation Create (0.000205)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:56:59', NULL, NULL, 394, 339668, 71, 623156, '2009-07-29 23:56:59', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Setting Update (0.000281)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14413
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Component Update (0.000276)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:56:59', `active_server_incarnation_id` = 108241, `disabled_scripts` = NULL WHERE `id` = 623156
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000598)  COMMIT
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Component Load (0.000266)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623156) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000096)  BEGIN
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000298)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'b2add7ce14693a979e6deebfa2e5791b' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339668) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Setting Update (0.000253)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14414
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Ec2Instance Update (0.000161)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339668
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000099)  COMMIT
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: ServerTemplate Load (0.000239)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3777) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: FrozenRepository Load (0.000223)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3777 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:59') 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Deployment Load (0.000214)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: FrozenRepository Load (0.000196)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:59') 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: FrozenRepository Load (0.000236)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623156 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:56:59') 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: Account Load (0.000345)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: ServerIncarnation Load (0.000502)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339668 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000102)  BEGIN
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: InstanceApiToken Create (0.000241)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:56:59', 108241, '285efa16a7d8ce6706cd21597cb6dd64', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NjU4WhcNMTkwNzI3MjM1\nNjU4WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDRaCk2Urj6MnhqvbjqLVYCIIq39KJu\nvSlDnB0dhOmS1gTnuyvZPyOQ8+31TCXfKpw/qn9FaKELMoaELR0r/7i1HM1m4tPW\nRTYS88WTVmIyadmspyJpubkGuY5rmHVXZZvTd/nKRLrZDo020+HPFeQcxHV+NcS5\nQhJiOPymWg0WZMWtQJzI6BlVtaw4EzjYztx2EJrAaswBOLQrUMxTBT5ARMfJjDLq\n5vWQn3jsmRI1lsGRr4ZTjHOypTEnSnf/Jovb0LM11rpWQwtfFEpom21M0fAjNkJr\nqQRc8FX5iKH8pdoROl3RFc0WFOnF7VP7Uik3G5bjPL7RF5/r+m8wUoohAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAK1EG5pBIjz2g16sRYYi4Y4TRuxJJm1Igv2ameFh\nHROhMUuKSqzL/S8S9/42XIsf6hUybVk0OkYzk/GMoCrbZevGJhDXPqat55/E4fpL\nVknTA5UIba6NcqoG2XJ/t07v4oguVHUdyHQmgDnpI6MM08wi9ZMAEh+3O3lZZLG4\niCmXyAT/aSZuoOM79yoeDvEkiXNRylis62PhbQJ9AHL+tyM6ChtJqkLpONsvLqmi\nm23L0YQdn5S+Vc+wMyCozTutBDnD4fmCUkS6GkEm4NJGYThPIOYuqKbt5kbjFz9M\nzZRRV7AN9cskVgrDK1cvc9pAp8/gpSiRbaxJpTNAnWEv8wA=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:56:59 +0000] DEBUG: SQL (0.000626)  COMMIT
[Wed, 29 Jul 2009 23:57:08 +0000] DEBUG: AuditEntry Load (0.015477)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:08')) 
[Wed, 29 Jul 2009 23:57:08 +0000] DEBUG: AuditEntry Load (0.000353)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:08')) 
[Wed, 29 Jul 2009 23:57:09 +0000] DEBUG: AuditEntry Load (0.000490)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:08')) 
[Wed, 29 Jul 2009 23:57:09 +0000] DEBUG: AuditEntry Load (0.003150)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:09')) 
[Wed, 29 Jul 2009 23:57:09 +0000] DEBUG: AuditEntry Load (0.006681)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:09')) 
[Wed, 29 Jul 2009 23:57:09 +0000] DEBUG: AuditEntry Load (0.000917)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:09')) 
[Wed, 29 Jul 2009 23:57:10 +0000] DEBUG: AuditEntry Load (0.006623)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:10')) 
[Wed, 29 Jul 2009 23:57:10 +0000] DEBUG: AuditEntry Load (0.005831)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:10')) 
[Wed, 29 Jul 2009 23:57:10 +0000] DEBUG: AuditEntry Load (0.000673)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:10')) 
[Wed, 29 Jul 2009 23:57:10 +0000] DEBUG: AuditEntry Load (0.011602)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:10')) 
[Wed, 29 Jul 2009 23:57:11 +0000] DEBUG: AuditEntry Load (0.002034)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:11')) 
[Wed, 29 Jul 2009 23:57:11 +0000] DEBUG: AuditEntry Load (0.000400)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:11')) 
[Wed, 29 Jul 2009 23:57:11 +0000] DEBUG: AuditEntry Load (0.010855)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:11')) 
[Wed, 29 Jul 2009 23:57:12 +0000] DEBUG: AuditEntry Load (0.001455)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:12')) 
[Wed, 29 Jul 2009 23:57:12 +0000] DEBUG: AuditEntry Load (0.012075)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:12')) 
[Wed, 29 Jul 2009 23:57:12 +0000] DEBUG: AuditEntry Load (0.001332)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:12')) 
[Wed, 29 Jul 2009 23:57:13 +0000] DEBUG: AuditEntry Load (0.000598)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:13')) 
[Wed, 29 Jul 2009 23:57:13 +0000] DEBUG: AuditEntry Load (0.000574)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:13')) 
[Wed, 29 Jul 2009 23:57:13 +0000] DEBUG: AuditEntry Load (0.003231)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:13')) 
[Wed, 29 Jul 2009 23:57:13 +0000] DEBUG: AuditEntry Load (0.017301)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:13')) 
[Wed, 29 Jul 2009 23:57:14 +0000] DEBUG: AuditEntry Load (0.003406)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:14')) 
[Wed, 29 Jul 2009 23:57:14 +0000] DEBUG: AuditEntry Load (0.000368)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:14')) 
[Wed, 29 Jul 2009 23:57:14 +0000] DEBUG: AuditEntry Load (0.038975)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:14')) 
[Wed, 29 Jul 2009 23:57:14 +0000] DEBUG: AuditEntry Load (0.000943)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:14')) 
[Wed, 29 Jul 2009 23:57:15 +0000] DEBUG: AuditEntry Load (0.000740)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:15')) 
[Wed, 29 Jul 2009 23:57:15 +0000] DEBUG: AuditEntry Load (0.000350)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:15')) 
[Wed, 29 Jul 2009 23:57:15 +0000] DEBUG: AuditEntry Load (0.007746)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:15')) 
[Wed, 29 Jul 2009 23:57:16 +0000] DEBUG: AuditEntry Load (0.000510)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:16')) 
[Wed, 29 Jul 2009 23:57:16 +0000] DEBUG: AuditEntry Load (0.003256)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:16')) 
[Wed, 29 Jul 2009 23:57:16 +0000] DEBUG: AuditEntry Load (0.000465)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:16')) 
[Wed, 29 Jul 2009 23:57:16 +0000] DEBUG: AuditEntry Load (0.000446)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:16')) 
[Wed, 29 Jul 2009 23:57:17 +0000] DEBUG: AuditEntry Load (0.180108)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:17')) 
[Wed, 29 Jul 2009 23:57:17 +0000] DEBUG: AuditEntry Load (0.008278)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:17')) 
[Wed, 29 Jul 2009 23:57:17 +0000] DEBUG: AuditEntry Load (0.023575)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:17')) 
[Wed, 29 Jul 2009 23:57:18 +0000] DEBUG: AuditEntry Load (0.000338)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:18')) 
[Wed, 29 Jul 2009 23:57:18 +0000] DEBUG: AuditEntry Load (0.000419)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:18')) 
[Wed, 29 Jul 2009 23:57:18 +0000] DEBUG: AuditEntry Load (0.000380)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:18')) 
[Wed, 29 Jul 2009 23:57:19 +0000] DEBUG: AuditEntry Load (0.026210)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:18')) 
[Wed, 29 Jul 2009 23:57:19 +0000] DEBUG: AuditEntry Load (0.003137)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:19')) 
[Wed, 29 Jul 2009 23:57:19 +0000] DEBUG: AuditEntry Load (0.097416)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:19')) 
[Wed, 29 Jul 2009 23:57:19 +0000] DEBUG: AuditEntry Load (0.001084)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:19')) 
[Wed, 29 Jul 2009 23:57:20 +0000] DEBUG: AuditEntry Load (0.002170)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:20')) 
[Wed, 29 Jul 2009 23:57:20 +0000] DEBUG: AuditEntry Load (0.001583)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:20')) 
[Wed, 29 Jul 2009 23:57:20 +0000] DEBUG: AuditEntry Load (0.000414)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:20')) 
[Wed, 29 Jul 2009 23:57:21 +0000] DEBUG: AuditEntry Load (0.000443)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:21')) 
[Wed, 29 Jul 2009 23:57:21 +0000] DEBUG: AuditEntry Load (0.000561)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:21')) 
[Wed, 29 Jul 2009 23:57:21 +0000] DEBUG: AuditEntry Load (0.003426)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:21')) 
[Wed, 29 Jul 2009 23:57:22 +0000] DEBUG: AuditEntry Load (0.143019)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:21')) 
[Wed, 29 Jul 2009 23:57:22 +0000] DEBUG: AuditEntry Load (0.035875)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:22')) 
[Wed, 29 Jul 2009 23:57:22 +0000] DEBUG: AuditEntry Load (0.011104)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:22')) 
[Wed, 29 Jul 2009 23:57:22 +0000] DEBUG: AuditEntry Load (0.010270)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:22')) 
[Wed, 29 Jul 2009 23:57:23 +0000] DEBUG: AuditEntry Load (0.003363)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:23')) 
[Wed, 29 Jul 2009 23:57:23 +0000] DEBUG: AuditEntry Load (0.030954)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:23')) 
[Wed, 29 Jul 2009 23:57:23 +0000] DEBUG: AuditEntry Load (0.000377)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:23')) 
[Wed, 29 Jul 2009 23:57:24 +0000] DEBUG: AuditEntry Load (0.000556)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:24')) 
[Wed, 29 Jul 2009 23:57:24 +0000] DEBUG: AuditEntry Load (0.000443)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:24')) 
[Wed, 29 Jul 2009 23:57:24 +0000] DEBUG: AuditEntry Load (0.000737)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:24')) 
[Wed, 29 Jul 2009 23:57:24 +0000] DEBUG: AuditEntry Load (0.029569)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:24')) 
[Wed, 29 Jul 2009 23:57:25 +0000] DEBUG: AuditEntry Load (0.000381)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339668) AND (updated_at >= '2009-05-29 23:57:25')) 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: SQL (0.001285)  BEGIN
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: InstanceApiToken Update (0.000334)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:57:27' WHERE (id = 57) 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: SQL (0.000494)  COMMIT
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: SQL (0.000093)  BEGIN
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: FrozenRepository Load (0.000376)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339668 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:27') 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: AuditEntry Delete all (0.000592)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339668) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: WorkUnit Delete all (0.000407)  DELETE FROM `work_units` WHERE ((instance_id = 339668) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: AlertSpec Load (0.009592)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339668 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:57:27') 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: ServerAlert Load (0.000769)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339668 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:57:27') 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000478)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339668)) 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: Ec2Instance Update (0.000909)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:57:27' WHERE (id = 339668) 
[Wed, 29 Jul 2009 23:57:27 +0000] DEBUG: SQL (0.001149)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Account Load (0.000512)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Deployment Load (0.000589)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-29 23:57:30') LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplate Load (0.003593)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:57:30') LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Server Load (0.002446)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-29 23:57:30') LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: RightScript Load (0.007518)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:57:30') LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000111)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SharingGroupPublishable Load (0.000728)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3777 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerArray Load (0.000338)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3777) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: FrozenRepository Load (0.000203)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3777 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: AlertSpec Load (0.007306)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3777 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Load (0.000382)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3777) ORDER BY position
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Update (0.000203)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3777 AND position > 1) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Update (0.000190)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45839
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000174)   DELETE FROM `server_template_executables`
 WHERE `id` = 45839

[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Update (0.000231)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3777 AND position > 1) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Update (0.000204)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45840
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000230)   DELETE FROM `server_template_executables`
 WHERE `id` = 45840

[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Update (0.000249)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3777 AND position > 1) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Update (0.000169)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45841
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000164)   DELETE FROM `server_template_executables`
 WHERE `id` = 45841

[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Load (0.000328)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3777) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000270)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3777) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplate Update (0.000233)  UPDATE `server_templates` SET deleted_at = '2009-07-29 23:57:30' WHERE (id = 3777) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000620)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000136)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: AlertSpec Load (0.007539)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623156 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: FrozenRepository Load (0.000324)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623156 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ElasticLoadBalancer Load (0.000305)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623156)) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Component Update (0.000358)  UPDATE `servers` SET deleted_at = '2009-07-29 23:57:30' WHERE (id = 623156) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000646)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000076)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SharingGroupPublishable Load (0.000258)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5285 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: RightScriptAttachment Load (0.000331)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5285) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-29 23:57:30') ORDER BY position
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Load (0.000274)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5285) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: RightScript Update (0.000225)  UPDATE `right_scripts` SET deleted_at = '2009-07-29 23:57:30' WHERE (id = 5285) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000576)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000080)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.001809)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-29 23:57:30')) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplate Create (0.000281)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-29 23:57:30', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplate Update (0.000391)  UPDATE `server_templates` SET `updated_at` = '2009-07-29 23:57:30', `parameters` = '--- {}\n\n', `head_version_id` = 3778, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3778
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000585)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000079)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.002528)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:57:30')) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: RightScript Create (0.000439)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-29 23:57:30', NULL, '--- {}\n\n', '2009-07-29 23:57:30', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: RightScript Update (0.000462)  UPDATE `right_scripts` SET `updated_at` = '2009-07-29 23:57:30', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5286, `created_at` = '2009-07-29 23:57:30', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5286
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000652)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000417)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5286 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3778) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000690)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3778 AND apply = 'boot' AND right_scripts.head_version_id = 5286) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Load (0.000503)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3778) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Create (0.000379)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5286, 3778, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000555)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000156)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000366)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5286 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3778) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000450)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3778 AND apply = 'operational' AND right_scripts.head_version_id = 5286) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Load (0.000345)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3778) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Create (0.000197)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5286, 3778, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000684)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000083)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000521)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5286 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3778) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000618)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3778 AND apply = 'decommission' AND right_scripts.head_version_id = 5286) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateExecutable Load (0.000453)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3778) ORDER BY position DESC LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplateRightScript Create (0.000325)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5286, 3778, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000585)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: CloudAccount Load (0.000298)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2SecurityGroup Load (0.000635)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-29 23:57:30')) LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Cloud Load (0.000289)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-29 23:57:30') LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000247)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Deployment Load (0.000321)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Setting Create (0.000339)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:57:30', NULL, NULL, '--- {}\n\n', '2009-07-29 23:57:30', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Setting Update (0.000271)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14415
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Component Create (0.000553)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-29 23:57:30', 1, 'RightNet Test Server', 394, '2009-07-29 23:57:30', NULL, 14415, 71, 3778, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000582)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000105)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Setting Create (0.000556)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-29 23:57:30', NULL, NULL, '--- {}\n\n', '2009-07-29 23:57:30', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000806)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.002488)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000357)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '81a90e3bfb6d7759955122732baa66c4' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Setting Update (0.001068)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14416
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Instance Create (0.000587)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '34522285cc9ebd7b292965daf33ca2e5', '2009-07-29 23:57:30', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-29 23:57:30', NULL, 'fff05cd847b62952316a919aa458a1e3', 14416, 71, NULL, 3778, 'sketchy1-1', NULL, 2, '81a90e3bfb6d7759955122732baa66c4', '65990ef18f5ed3034dfb5024e5eaeb21', '656641a2bc0e904886ed46a87ec07bbb', 1, '9596251a05f63323da1f5452d2e4fce5', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.001263)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: RightScript Load (0.000709)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3778) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-29 23:57:30') ORDER BY server_template_executables.position
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000205)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Account Load (0.000864)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000425)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623157 AND `server_incarnations`.incarnator_type = 'Server') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerIncarnation Create (0.000320)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-29 23:57:30', NULL, NULL, 394, 339669, 71, 623157, '2009-07-29 23:57:30', 'Ec2Instance', 'Server')
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Setting Update (0.000443)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14415
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Component Update (0.000856)  UPDATE `servers` SET `updated_at` = '2009-07-29 23:57:30', `active_server_incarnation_id` = 108242, `disabled_scripts` = NULL WHERE `id` = 623157
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000711)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Component Load (0.000308)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623157) AND ( (`servers`.`type` = 'Component' ) ) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000113)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000436)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '81a90e3bfb6d7759955122732baa66c4' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339669) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Setting Update (0.000329)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14416
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Ec2Instance Update (0.000334)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339669
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000156)  COMMIT
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerTemplate Load (0.000331)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3778) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: FrozenRepository Load (0.000290)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3778 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Deployment Load (0.000320)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: FrozenRepository Load (0.000679)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: FrozenRepository Load (0.000427)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623157 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:30') 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: Account Load (0.000295)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: ServerIncarnation Load (0.000394)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339669 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000090)  BEGIN
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: InstanceApiToken Create (0.000668)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-29 23:57:30', 108242, 'fff05cd847b62952316a919aa458a1e3', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzI5MjM1NzMwWhcNMTkwNzI3MjM1\nNzMwWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCsS+I4oAQar4suAlvu5bNXJBsYpsSe\nKNAKOawa4OMklMd7XlcN0wlaVJHu5isBp8DMYGFLjZEvlxH7NNwYEQhHgufRwVZu\nJQ5XabGVwyvA4ksN9hz6SUP8ZVBb1/FsFrUsMZLxStPIeq0vacLHp23dnMlPk3k1\nsYv/oxyeU6dDzCjVL2K3LEILubQVYjBIpBwPOt9OJySJg5hGnwATMRc5emdc2SFX\nG9gso15Knanmc/O1L23wzd1D7SDgBkwoiQTuLwGjHzrOlLZjQbFEEhCA7V1hLm0u\nz2d3Vb8h4cvGH/Iw9LOb1hhXaHrULKCz4z15cyRDzPzr5tzhmTYp2vs3AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAGAH1HcM3y6wxtGXT/GcG7QDmxMQK0bCLpV/bIdc\nvyK2XJmHacMhrgIN8TXhBnAK5IVk0iAeqpdFJuzYP5A3IALLe0vbwjZ0grNpemo6\nIX+srM/sQfi9umUkj1/Pyd2Lwgqf2xdTf24HcJuSdLSeHjpxYgc0Lpfg3oogJCKo\n/Tnh8qVw5VS5Ry+XfRaQD9YQt55q1RzPCf3wRZ0NJu/+XTxmEEM1WJTrx2K0c1EI\nNJ4G44F6A+0w/V2iLNP6yuXVNUq500Lq7q+4pM2kVZmoleNMM/fnxP2Kyzs83mYx\n1+HKiYyWsUAg/omBI8U6hvPO1v6VXpYe7cdOstgAv9lNbbs=\n-----END CERTIFICATE-----\n', 71, NULL)
[Wed, 29 Jul 2009 23:57:30 +0000] DEBUG: SQL (0.000612)  COMMIT
[Wed, 29 Jul 2009 23:57:38 +0000] DEBUG: AuditEntry Load (0.000547)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:38')) 
[Wed, 29 Jul 2009 23:57:38 +0000] DEBUG: AuditEntry Load (0.000420)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:38')) 
[Wed, 29 Jul 2009 23:57:39 +0000] DEBUG: AuditEntry Load (0.000409)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:39')) 
[Wed, 29 Jul 2009 23:57:39 +0000] DEBUG: AuditEntry Load (0.000355)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:39')) 
[Wed, 29 Jul 2009 23:57:39 +0000] DEBUG: AuditEntry Load (0.000361)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:39')) 
[Wed, 29 Jul 2009 23:57:39 +0000] DEBUG: AuditEntry Load (0.000342)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:39')) 
[Wed, 29 Jul 2009 23:57:40 +0000] DEBUG: AuditEntry Load (0.000326)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:40')) 
[Wed, 29 Jul 2009 23:57:40 +0000] DEBUG: AuditEntry Load (0.001811)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:40')) 
[Wed, 29 Jul 2009 23:57:40 +0000] DEBUG: AuditEntry Load (0.009490)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:40')) 
[Wed, 29 Jul 2009 23:57:40 +0000] DEBUG: AuditEntry Load (0.000410)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:40')) 
[Wed, 29 Jul 2009 23:57:41 +0000] DEBUG: AuditEntry Load (0.007266)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:41')) 
[Wed, 29 Jul 2009 23:57:41 +0000] DEBUG: AuditEntry Load (0.005974)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:41')) 
[Wed, 29 Jul 2009 23:57:41 +0000] DEBUG: AuditEntry Load (0.000360)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:41')) 
[Wed, 29 Jul 2009 23:57:42 +0000] DEBUG: AuditEntry Load (0.000364)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:42')) 
[Wed, 29 Jul 2009 23:57:42 +0000] DEBUG: AuditEntry Load (0.000354)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:42')) 
[Wed, 29 Jul 2009 23:57:42 +0000] DEBUG: AuditEntry Load (0.001785)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:42')) 
[Wed, 29 Jul 2009 23:57:43 +0000] DEBUG: AuditEntry Load (0.000369)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:43')) 
[Wed, 29 Jul 2009 23:57:43 +0000] DEBUG: AuditEntry Load (0.000403)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:43')) 
[Wed, 29 Jul 2009 23:57:43 +0000] DEBUG: AuditEntry Load (0.006344)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:43')) 
[Wed, 29 Jul 2009 23:57:44 +0000] DEBUG: AuditEntry Load (0.007343)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:44')) 
[Wed, 29 Jul 2009 23:57:44 +0000] DEBUG: AuditEntry Load (0.002499)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:44')) 
[Wed, 29 Jul 2009 23:57:44 +0000] DEBUG: AuditEntry Load (0.000375)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:44')) 
[Wed, 29 Jul 2009 23:57:44 +0000] DEBUG: AuditEntry Load (0.000500)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:44')) 
[Wed, 29 Jul 2009 23:57:45 +0000] DEBUG: AuditEntry Load (0.000533)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:45')) 
[Wed, 29 Jul 2009 23:57:45 +0000] DEBUG: AuditEntry Load (0.000412)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:45')) 
[Wed, 29 Jul 2009 23:57:45 +0000] DEBUG: AuditEntry Load (0.000343)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:45')) 
[Wed, 29 Jul 2009 23:57:45 +0000] DEBUG: AuditEntry Load (0.000369)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:45')) 
[Wed, 29 Jul 2009 23:57:46 +0000] DEBUG: AuditEntry Load (0.000922)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:46')) 
[Wed, 29 Jul 2009 23:57:46 +0000] DEBUG: AuditEntry Load (0.000553)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:46')) 
[Wed, 29 Jul 2009 23:57:46 +0000] DEBUG: AuditEntry Load (0.000370)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:46')) 
[Wed, 29 Jul 2009 23:57:47 +0000] DEBUG: AuditEntry Load (0.000375)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:47')) 
[Wed, 29 Jul 2009 23:57:47 +0000] DEBUG: AuditEntry Load (0.232288)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:47')) 
[Wed, 29 Jul 2009 23:57:47 +0000] DEBUG: AuditEntry Load (0.073278)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:47')) 
[Wed, 29 Jul 2009 23:57:48 +0000] DEBUG: AuditEntry Load (0.000367)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:48')) 
[Wed, 29 Jul 2009 23:57:48 +0000] DEBUG: AuditEntry Load (0.007497)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:48')) 
[Wed, 29 Jul 2009 23:57:48 +0000] DEBUG: AuditEntry Load (0.002961)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:48')) 
[Wed, 29 Jul 2009 23:57:48 +0000] DEBUG: AuditEntry Load (0.000559)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:48')) 
[Wed, 29 Jul 2009 23:57:49 +0000] DEBUG: AuditEntry Load (0.000538)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:49')) 
[Wed, 29 Jul 2009 23:57:49 +0000] DEBUG: AuditEntry Load (0.000405)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:49')) 
[Wed, 29 Jul 2009 23:57:49 +0000] DEBUG: AuditEntry Load (0.004146)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:49')) 
[Wed, 29 Jul 2009 23:57:50 +0000] DEBUG: AuditEntry Load (0.083665)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339669) AND (updated_at >= '2009-05-29 23:57:50')) 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: SQL (0.000432)  BEGIN
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: InstanceApiToken Update (0.000514)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-29 23:57:52' WHERE (id = 58) 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: SQL (0.000757)  COMMIT
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: SQL (0.000197)  BEGIN
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: FrozenRepository Load (0.000521)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339669 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-29 23:57:52') 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: AuditEntry Delete all (0.000524)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339669) AND (auditee_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: WorkUnit Delete all (0.000259)  DELETE FROM `work_units` WHERE ((instance_id = 339669) AND (instance_type = 'Ec2Instance')) 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: AlertSpec Load (0.007832)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339669 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-29 23:57:52') 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: ServerAlert Load (0.000571)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339669 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-29 23:57:52') 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000379)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339669)) 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: Ec2Instance Update (0.000369)  UPDATE `ec2_instances` SET deleted_at = '2009-07-29 23:57:52' WHERE (id = 339669) 
[Wed, 29 Jul 2009 23:57:52 +0000] DEBUG: SQL (0.003989)  COMMIT
[Thu, 30 Jul 2009 00:05:13 +0000] DEBUG: SQL (0.000180)  SET SQL_AUTO_IS_NULL=0
[Thu, 30 Jul 2009 00:05:13 +0000] DEBUG: SQL (0.001080)  SHOW TABLES
[Thu, 30 Jul 2009 00:05:14 +0000] DEBUG: ServerTemplate Columns (0.001880)  SHOW FIELDS FROM `server_templates`
[Thu, 30 Jul 2009 00:05:14 +0000] DEBUG: RightScript Columns (0.001972)  SHOW FIELDS FROM `right_scripts`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Account Columns (0.002334)  SHOW FIELDS FROM `accounts`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Account Load (0.001098)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Deployment Columns (0.001513)  SHOW FIELDS FROM `deployments`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Deployment Load (0.000663)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:18') LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplate Load (0.003379)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:18') LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Server Columns (0.001915)  SHOW FIELDS FROM `servers`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Server Load (0.002519)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:18') LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: RightScript Load (0.008066)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:18') LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000241)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SharingGroupPublishable Load (0.000403)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3778 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerArray Load (0.000486)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3778) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: FrozenRepository Load (0.000249)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3778 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: AlertSpec Load (0.007303)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3778 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Load (0.000370)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3778) ORDER BY position
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Columns (0.001519)  SHOW FIELDS FROM `server_template_executables`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Columns (0.001327)  SHOW FIELDS FROM `server_template_executables`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Update (0.000273)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3778 AND position > 1) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Update (0.000189)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45842
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000173)   DELETE FROM `server_template_executables`
 WHERE `id` = 45842

[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Update (0.000232)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3778 AND position > 1) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Update (0.000163)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45843
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000269)   DELETE FROM `server_template_executables`
 WHERE `id` = 45843

[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Update (0.000222)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3778 AND position > 1) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Update (0.000157)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45844
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000158)   DELETE FROM `server_template_executables`
 WHERE `id` = 45844

[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Load (0.000312)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3778) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateChefRecipe Columns (0.001453)  SHOW FIELDS FROM `server_template_executables`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000304)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3778) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplate Update (0.000296)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:18' WHERE (id = 3778) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000581)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Component Columns (0.001810)  SHOW FIELDS FROM `servers`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: AlertSpec Load (0.007546)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623157 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: FrozenRepository Load (0.000288)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623157 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ElasticLoadBalancer Load (0.000758)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623157)) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Component Update (0.000457)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:18' WHERE (id = 623157) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000680)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SharingGroupPublishable Load (0.000268)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5286 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: RightScriptAttachment Load (0.000367)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5286) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:18') ORDER BY position
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Load (0.000223)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5286) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: RightScript Update (0.000250)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:18' WHERE (id = 5286) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000579)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000154)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SharingGroupPublishable Columns (0.001603)  SHOW FIELDS FROM `sharing_group_publishables`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.001223)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:18')) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplate Create (0.000252)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:18', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplate Update (0.000285)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:18', `parameters` = '--- {}\n\n', `head_version_id` = 3779, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3779
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.001666)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000122)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.001933)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:18')) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: RightScript Create (0.000278)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:18', NULL, '--- {}\n\n', '2009-07-30 00:05:18', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: RightScript Update (0.000454)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:18', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5287, `created_at` = '2009-07-30 00:05:18', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5287
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000709)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000107)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000315)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5287 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3779) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000418)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3779 AND apply = 'boot' AND right_scripts.head_version_id = 5287) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Load (0.000297)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3779) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Create (0.000221)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5287, 3779, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000621)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000084)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000282)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5287 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3779) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000408)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3779 AND apply = 'operational' AND right_scripts.head_version_id = 5287) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Load (0.000297)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3779) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Create (0.000197)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5287, 3779, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000584)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000099)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000357)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5287 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3779) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000446)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3779 AND apply = 'decommission' AND right_scripts.head_version_id = 5287) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateExecutable Load (0.000318)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3779) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplateRightScript Create (0.000191)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5287, 3779, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000646)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Columns (0.001863)  SHOW FIELDS FROM `ec2_settings`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: CloudAccount Load (0.000332)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: CloudAccount Columns (0.001453)  SHOW FIELDS FROM `cloud_accounts`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2SecurityGroup Columns (0.001667)  SHOW FIELDS FROM `ec2_security_groups`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2SecurityGroup Load (0.000454)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:18')) LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Cloud Load (0.000330)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:18') LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Cloud Columns (0.001766)  SHOW FIELDS FROM `clouds`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Deployment Load (0.000260)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Create (0.000281)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:18', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:18', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Update (0.000215)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14417
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Component Create (0.000315)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:18', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:18', NULL, 14417, 71, 3779, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000606)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Create (0.000252)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:18', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:18', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000551)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Instance Columns (0.002245)  SHOW FIELDS FROM `ec2_instances`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000135)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000387)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '870ba6c3e9c13668acb70fc3c97189b2' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Update (0.000224)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14418
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Instance Create (0.000275)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'ae20f3c3dcfc8d44ffe5f5750134798a', '2009-07-30 00:05:18', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:18', NULL, '2f7ee20c53f1d5af39a69c5111a8d3a3', 14418, 71, NULL, 3779, 'sketchy1-1', NULL, 2, '870ba6c3e9c13668acb70fc3c97189b2', '7570b838501ed7c2ef9a6d8e7b30680b', '4ead66d82ea10cf866d2379b05f65e8d', 1, '426a0c6e636a84fff3b2159426713d48', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000585)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: RightScript Load (0.000567)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3779) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:18') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000100)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerIncarnation Columns (0.001768)  SHOW FIELDS FROM `server_incarnations`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Account Load (0.000338)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000242)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623158 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerIncarnation Create (0.000325)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:18', NULL, NULL, 394, 339670, 71, 623158, '2009-07-30 00:05:18', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Update (0.000273)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14417
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Component Update (0.000226)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:18', `active_server_incarnation_id` = 108243, `disabled_scripts` = NULL WHERE `id` = 623158
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000692)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Component Load (0.000269)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623158) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000316)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '870ba6c3e9c13668acb70fc3c97189b2' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339670) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Setting Update (0.000178)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14418
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Ec2Instance Update (0.000611)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339670
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000109)  COMMIT
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerTemplate Load (0.000274)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3779) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: FrozenRepository Load (0.000247)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3779 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Deployment Load (0.000204)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: FrozenRepository Load (0.000197)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: FrozenRepository Load (0.000230)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623158 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:18') 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: Account Load (0.000249)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: ServerIncarnation Load (0.000392)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339670 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: InstanceApiToken Columns (0.001516)  SHOW FIELDS FROM `instance_api_tokens`
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000117)  BEGIN
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: InstanceApiToken Create (0.000255)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:18', 108243, '2f7ee20c53f1d5af39a69c5111a8d3a3', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTE4WhcNMTkwNzI4MDAw\nNTE4WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCZ9lQRmp/XNea7ELnhUcNzrGMA5qhR\nVyD4v8v5spVz1FF+4k9NWy1ZsITxoQYKXRVkg76fjaFyNbjvpNRcNaKnVbRLEpg5\nOSfaPuXk+4B0NqYsj1rtlVdbjY7YIPKvOYLTP/ddzU1p2cBLHgDaNHCljyUx6ClD\nRcIpx9E9eMOO+LjaC6kPmzdGHx57PuCATBDj2fsN48VX6J58t+Fk1yROnKGn34XB\nasNROgJhibLdBjgvkwnlZ6moniWjtg1lHqI6GQcxw08bEHOTzb1WDN8+YBQyODp3\nfeImeLVwTGPkhqsDgrlw0K4Eg66s+GWrBxOAsbto6ciQfnR+oNBRrTnLAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAG2+evbWk9kNxB7401o633jB+P+UwkzjpPuhfnJ/\n/blfc76M7KTgDP8GwDDto4HjSOlDLd/0KJUAc4QTLdWXIy4m67wNfj2mumpm+mct\nQeE32vuPrqHXKVnLLjgZMzOqGRij6HmLB3+/9fHwOvmpuJlgQlFnzAgxRU2EFKbM\n315IrjXNY1LKEdRk97LTSvIu+/Sq2CTIgDvD0RY4MLGre7hZbxn9FVRgsD/ilFwG\nW4PEk/ylEBD9oT1VKYC9O/oTZeYPEtNY3CjpFGUVKZPuaJa5sZJd/q1gygZHbt5t\nDLF9j2BOQB5Ish5RMzyLssOxA2QoBbmsfcZF/kQA5EVbKzU=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:18 +0000] DEBUG: SQL (0.000697)  COMMIT
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: InstanceApiToken Load (0.000371)  SELECT * FROM `instance_api_tokens` WHERE (`instance_api_tokens`.`id` = 59) AND (instance_api_tokens.deleted_at IS NULL OR instance_api_tokens.deleted_at > '2009-07-30 00:05:19') LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerIncarnation Load (0.000268)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.`id` = 108243) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2Instance Load (0.002232)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339670) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000133)  BEGIN
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2Setting Load (0.000276)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14418) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000309)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '870ba6c3e9c13668acb70fc3c97189b2' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339670) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2Setting Update (0.000214)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14418
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2Instance Update (0.000164)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339670
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000096)  COMMIT
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2Instance Load (0.000356)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339670) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Account Load (0.000298)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Columns (0.001544)  SHOW FIELDS FROM `audit_entries`
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntryDetail Columns (0.001487)  SHOW FIELDS FROM `audit_entry_details`
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000163)  BEGIN
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntryDetail Create (0.000249)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Create (0.000246)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339670, 80, '2009-07-30 00:05:19', 71, NULL, '', 0, 'Ec2Instance')
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000457)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000216)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000785)  COMMIT
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Repository Load (0.000328)  SELECT * FROM `repositories` WHERE (repositories.deleted_at IS NULL OR repositories.deleted_at > '2009-07-30 00:05:19') 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Repository Columns (0.001504)  SHOW FIELDS FROM `repositories`
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Cloud Load (0.000340)  SELECT * FROM `clouds` WHERE (`clouds`.`id` = 1) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000184)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 1) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Columns (0.001685)  SHOW FIELDS FROM `repository_configurations`
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000533)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 2) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000468)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 3) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000360)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 4) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000236)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 5) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000323)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 6) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000218)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 7) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RepositoryConfiguration Load (0.000222)  SELECT * FROM `repository_configurations` WHERE (`repository_configurations`.repository_id = 8) AND (cloud_id = 1) LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: FrozenRepository Load (0.000264)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339670 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:19') 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000279)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000123)  BEGIN
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntryDetail Create (0.000256)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Create (0.000235)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339670, 81, '2009-07-30 00:05:19', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000323)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000280)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000678)  COMMIT
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerIncarnation Load (0.000425)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339670 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Server Load (0.000257)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623158) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerTemplate Load (0.000220)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3779) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerTemplateExecutable Load (0.000324)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3779) AND (apply = 'boot') ORDER BY position, position
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RightScript Load (0.000229)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5287) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RightScriptAttachment Load (0.000395)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5287) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:19') ORDER BY position
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Account Load (0.000323)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-30 00:05:19') LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000187)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3779) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000211)  SELECT * FROM `audit_entries` WHERE (`audit_entries`.`id` = -1) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000100)  BEGIN
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntryDetail Create (0.000184)  INSERT INTO `audit_entry_details` (`account_id`, `detail`) VALUES(71, '')
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Create (0.000239)  INSERT INTO `audit_entries` (`auditee_id`, `detail_id`, `updated_at`, `account_id`, `user_id`, `summary`, `overall_detail_size`, `auditee_type`) VALUES(339670, 82, '2009-07-30 00:05:19', 71, NULL, 'Calculating bundle', 0, 'Ec2Instance')
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000263)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Load (0.000210)  SELECT * FROM `audit_entries` WHERE (account_id = 71) ORDER BY updated_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000688)  COMMIT
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerIncarnation Load (0.001713)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339670 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Server Load (0.000485)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623158) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerTemplateExecutable Load (0.000756)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3779) AND (apply = 'decommission') ORDER BY position, position
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RightScript Load (0.000348)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5287) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: RightScriptAttachment Load (0.000415)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5287) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:19') ORDER BY position
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Account Load (0.000312)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-30 00:05:19') LIMIT 1
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000426)  BEGIN
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: InstanceApiToken Update (0.000309)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:05:19' WHERE (id = 59) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000708)  COMMIT
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: FrozenRepository Load (0.000297)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339670 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:19') 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AuditEntry Delete all (0.000258)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339670) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: WorkUnit Delete all (0.000183)  DELETE FROM `work_units` WHERE ((instance_id = 339670) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: AlertSpec Load (0.007267)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339670 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:19') 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: ServerAlert Load (0.000337)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339670 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:05:19') 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000220)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339670)) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: Ec2Instance Update (0.000288)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:05:19' WHERE (id = 339670) 
[Thu, 30 Jul 2009 00:05:19 +0000] DEBUG: SQL (0.000601)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Account Load (0.000405)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Deployment Load (0.000647)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:21') LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplate Load (0.006181)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:21') LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Server Load (0.002522)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:21') LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScript Load (0.009888)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:21') LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000094)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SharingGroupPublishable Load (0.000302)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3779 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerArray Load (0.000333)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3779) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: FrozenRepository Load (0.000318)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3779 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: AlertSpec Load (0.007857)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3779 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Load (0.000421)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3779) ORDER BY position
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Update (0.000253)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3779 AND position > 1) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Update (0.000200)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45845
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000184)   DELETE FROM `server_template_executables`
 WHERE `id` = 45845

[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Update (0.000353)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3779 AND position > 1) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Update (0.000198)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45846
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000167)   DELETE FROM `server_template_executables`
 WHERE `id` = 45846

[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Update (0.000215)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3779 AND position > 1) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Update (0.000145)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45847
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000146)   DELETE FROM `server_template_executables`
 WHERE `id` = 45847

[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Load (0.000382)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3779) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000282)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3779) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplate Update (0.000212)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:21' WHERE (id = 3779) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000430)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000068)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: AlertSpec Load (0.007477)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623158 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: FrozenRepository Load (0.000278)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623158 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ElasticLoadBalancer Load (0.000224)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623158)) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Component Update (0.000253)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:21' WHERE (id = 623158) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000475)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000076)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SharingGroupPublishable Load (0.000525)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5287 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScriptAttachment Load (0.000337)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5287) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:21') ORDER BY position
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Load (0.000210)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5287) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScript Update (0.000218)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:21' WHERE (id = 5287) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000489)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000079)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.001204)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:21')) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplate Create (0.000250)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:21', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplate Update (0.000338)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:21', `parameters` = '--- {}\n\n', `head_version_id` = 3780, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3780
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000999)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000080)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.001881)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:21')) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScript Create (0.000316)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:21', NULL, '--- {}\n\n', '2009-07-30 00:05:21', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScript Update (0.000283)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:21', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5288, `created_at` = '2009-07-30 00:05:21', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5288
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000725)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000081)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000344)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5288 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3780) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.001144)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3780 AND apply = 'boot' AND right_scripts.head_version_id = 5288) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Load (0.000354)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3780) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Create (0.000202)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5288, 3780, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000435)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000072)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000301)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5288 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3780) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000485)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3780 AND apply = 'operational' AND right_scripts.head_version_id = 5288) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Load (0.000326)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3780) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Create (0.000277)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5288, 3780, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.001112)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000411)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5288 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3780) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000459)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3780 AND apply = 'decommission' AND right_scripts.head_version_id = 5288) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateExecutable Load (0.000356)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3780) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplateRightScript Create (0.000195)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5288, 3780, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000577)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: CloudAccount Load (0.000295)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2SecurityGroup Load (0.005458)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:21')) LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Cloud Load (0.000389)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:21') LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000077)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Deployment Load (0.000228)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Setting Create (0.000236)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:21', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:21', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Setting Update (0.000279)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14419
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Component Create (0.000231)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:21', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:21', NULL, 14419, 71, 3780, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000509)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000082)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Setting Create (0.000359)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:21', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:21', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.001512)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.001100)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000333)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '80fceeace1c462e427375166832c6344' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Setting Update (0.000198)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14420
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Instance Create (0.000287)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '5e6481ee85a23ac7603252a478ee8f97', '2009-07-30 00:05:21', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:21', NULL, 'b74b7f62b0a94ccdd9303f9df1ad9eac', 14420, 71, NULL, 3780, 'sketchy1-1', NULL, 2, '80fceeace1c462e427375166832c6344', '72861e4ef4a36245a91ee63a13d7b117', 'f9f7ef9e107973fe02833d9a5f0b2185', 1, '0a2741c2592b75bb6f337f795211bd35', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000538)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScript Load (0.000556)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3780) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:21') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000102)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Account Load (0.000363)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000325)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623159 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerIncarnation Create (0.000281)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:21', NULL, NULL, 394, 339671, 71, 623159, '2009-07-30 00:05:21', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Setting Update (0.000252)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14419
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Component Update (0.000226)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:21', `active_server_incarnation_id` = 108244, `disabled_scripts` = NULL WHERE `id` = 623159
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000475)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Component Load (0.000292)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623159) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000081)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000350)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '80fceeace1c462e427375166832c6344' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339671) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Setting Update (0.000209)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14420
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Instance Update (0.000153)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339671
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000095)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplate Load (0.000273)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3780) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: FrozenRepository Load (0.000411)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3780 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Deployment Load (0.000239)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: FrozenRepository Load (0.000221)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: FrozenRepository Load (0.000188)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623159 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Account Load (0.000335)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerIncarnation Load (0.000421)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339671 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000094)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: InstanceApiToken Create (0.000237)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:21', 108244, 'b74b7f62b0a94ccdd9303f9df1ad9eac', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTIxWhcNMTkwNzI4MDAw\nNTIxWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDT2vQkC7a5QMeHinxonpBUeQbXg4Il\nyP3zxsY+ZDQy1Em5BtFl4aD0lrIt3osjH/ewSAhvAHYLmZ5+ew5S1NgoARVa3Lr/\nJCX2d36pCRpYHfdIty1iBxPA4qOH3RyuR6GrBfZId7zVFdXLlyk60Z+d2TXMK0Ep\nm3Lw/l6Xcn7Aw7m71D/0GUaDVE9TpdarGeiM85eGZSUt9cCbEkGEdR4HnTvTqReo\nN2QQN+R1jee7ddTyLPjWaw0udZxu55NTXfU6HsAwtLfnv+Y9FamNdndv+bbkvEVB\n4NJ46AjJDeJXbv1LIhj4+MYwGL+DYTTF2RkmvW3yjf5ZyKRv0jgAdiftAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBACMugPbF8zoqWVfZUIJqd/dW5tkOuQ43i4K9Y4Dd\nD91CVXulsQMW53AUHW08Jfxg3zyDpu2021nWiWNr5jOuYL4Eas/oE4a3YYwPyis/\nEACfkXTi8Dj886Jm3WRqmCE8l9POyQOzvuYoro5aLM1NwH+szdKHFSCIhNWK6YrU\n45d8UvvwGNJutW++fmIluYFsjdzdmWLeQqujC6MSQ/Y/bZNdmUX7KIDPCq62ViAc\nIu15UbjiX2M9ybO5gSpbDvwVfSxOCQh+gIXgA1UY6nT8LOhQzblpbv5ganW20vj+\nBVuJ5zHB1Zp8W4LhdMXen9xl2MgEtX/iu+Fk0oynDCoHhbo=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000449)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerIncarnation Load (0.000467)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339671 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Server Load (0.000234)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623159) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerTemplate Load (0.000284)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3780) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScript Load (0.000533)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3780) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:21') ORDER BY server_template_executables.position LIMIT 1
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Instance Load (0.000444)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339671) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: RightScriptAttachment Load (0.000388)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5288) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:21') ORDER BY position
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000080)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: InstanceApiToken Update (0.000744)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:05:21' WHERE (id = 60) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000538)  COMMIT
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000075)  BEGIN
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: FrozenRepository Load (0.000286)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339671 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: AuditEntry Delete all (0.000146)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339671) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: WorkUnit Delete all (0.000131)  DELETE FROM `work_units` WHERE ((instance_id = 339671) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: AlertSpec Load (0.007302)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339671 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: ServerAlert Load (0.000348)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339671 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:05:21') 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000209)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339671)) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: Ec2Instance Update (0.000180)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:05:21' WHERE (id = 339671) 
[Thu, 30 Jul 2009 00:05:21 +0000] DEBUG: SQL (0.000504)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Account Load (0.000435)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Deployment Load (0.000599)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:26') LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Load (0.003043)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:26') LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Server Load (0.002352)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:26') LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScript Load (0.007417)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:26') LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000111)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SharingGroupPublishable Load (0.000287)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3780 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerArray Load (0.000300)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3780) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: FrozenRepository Load (0.000217)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3780 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: AlertSpec Load (0.007201)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3780 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Load (0.000340)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3780) ORDER BY position
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Update (0.000202)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3780 AND position > 1) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Update (0.000221)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45848
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000167)   DELETE FROM `server_template_executables`
 WHERE `id` = 45848

[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Update (0.000213)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3780 AND position > 1) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Update (0.000160)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45849
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000158)   DELETE FROM `server_template_executables`
 WHERE `id` = 45849

[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Update (0.000185)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3780 AND position > 1) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Update (0.000161)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45850
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000285)   DELETE FROM `server_template_executables`
 WHERE `id` = 45850

[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Load (0.000421)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3780) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000395)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3780) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Update (0.000285)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:26' WHERE (id = 3780) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000579)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: AlertSpec Load (0.007226)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623159 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: FrozenRepository Load (0.000263)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623159 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ElasticLoadBalancer Load (0.000215)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623159)) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Component Update (0.000280)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:26' WHERE (id = 623159) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000587)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SharingGroupPublishable Load (0.000307)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5288 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScriptAttachment Load (0.000342)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5288) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:26') ORDER BY position
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Load (0.000212)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5288) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScript Update (0.000214)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:26' WHERE (id = 5288) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000630)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.001180)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:26')) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Create (0.000232)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:26', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Update (0.000275)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:26', `parameters` = '--- {}\n\n', `head_version_id` = 3781, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3781
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000630)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.001774)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:26')) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScript Create (0.000287)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:26', NULL, '--- {}\n\n', '2009-07-30 00:05:26', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScript Update (0.000272)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:26', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5289, `created_at` = '2009-07-30 00:05:26', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5289
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000680)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000271)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5289 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3781) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000377)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3781 AND apply = 'boot' AND right_scripts.head_version_id = 5289) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Load (0.000324)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3781) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Create (0.000204)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5289, 3781, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000571)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000274)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5289 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3781) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000414)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3781 AND apply = 'operational' AND right_scripts.head_version_id = 5289) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Load (0.000335)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3781) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Create (0.000189)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5289, 3781, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000560)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000387)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5289 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3781) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000405)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3781 AND apply = 'decommission' AND right_scripts.head_version_id = 5289) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateExecutable Load (0.000297)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3781) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateRightScript Create (0.000193)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5289, 3781, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000588)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: CloudAccount Load (0.000252)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2SecurityGroup Load (0.000364)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:26')) LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Cloud Load (0.000258)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:26') LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Deployment Load (0.000206)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Setting Create (0.000233)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:26', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:26', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Setting Update (0.000183)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14421
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Component Create (0.000228)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:26', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:26', NULL, 14421, 71, 3781, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000658)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000094)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Setting Create (0.000191)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:26', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:26', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000570)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000102)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000295)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '4c46c07a198fed8c118281b46b5eb31b' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Setting Update (0.000178)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14422
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Instance Create (0.000249)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'eb06cba84f095b157612fb9fdb23536d', '2009-07-30 00:05:26', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:26', NULL, 'b70e9232498676a857233fa729b98fc3', 14422, 71, NULL, 3781, 'sketchy1-1', NULL, 2, '4c46c07a198fed8c118281b46b5eb31b', '1b2dc28fc9ebcdcf318dae526ec77222', 'db388e1a8e1e5b9918d9979282561ad3', 1, '27413e171a7e7401f4598e120c25f0b6', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000900)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScript Load (0.000511)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3781) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:26') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000099)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Account Load (0.000316)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000215)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623160 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerIncarnation Create (0.000258)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:26', NULL, NULL, 394, 339672, 71, 623160, '2009-07-30 00:05:26', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Setting Update (0.000219)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14421
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Component Update (0.000215)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:26', `active_server_incarnation_id` = 108245, `disabled_scripts` = NULL WHERE `id` = 623160
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000626)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Component Load (0.000262)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623160) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000301)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '4c46c07a198fed8c118281b46b5eb31b' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339672) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Setting Update (0.000174)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14422
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Instance Update (0.000152)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339672
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000097)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Load (0.000246)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3781) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: FrozenRepository Load (0.000226)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3781 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Deployment Load (0.000206)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: FrozenRepository Load (0.000192)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: FrozenRepository Load (0.000192)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623160 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Account Load (0.000263)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerIncarnation Load (0.000347)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339672 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000099)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: InstanceApiToken Create (0.000291)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:26', 108245, 'b70e9232498676a857233fa729b98fc3', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTI2WhcNMTkwNzI4MDAw\nNTI2WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC6KnrT4xqCGFvXj2L5zh46kFWn12Wo\nnWJfgUlGLNIM8fpaUFMenIsk1e4fTYGidWyamjhUHaQi1UuP0XimG3Cj5zDfMKOR\n7sCSF0yDWQcfMhuFW2gA7o1qecKoFE9mqHZ2yjAfyOpPWqqJ9k2AXR7qYhq39VLD\ntt1lUUq+4gqNuSsplM/OWNOKhHQNiWJwB02fxiv6fbXUf012WHyt/ZHXOc2kJBvn\neqCAiZIlG3op1+pPaPBskwbLp0aJQCe8SzWVdXgCsJ0fPUDzld85MMkaXwckn/rb\nc5fQx3sBUYuN7brEmf4rPOYWKqOMJys0FwdL2jdAZaDbwB0pLkxwt2/7AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAIylvMfVgtDsd4TbXJWl8J2oF/5TXa6fXXwRZcgT\n4d2jnzsAAjSuWWWe59oicZFIaU9vyzIfhWKhLl5IIo2xJu72WBcaiaXKE1kBQ+MA\n2kSbfUbraddv6vcBugV0WzanIcEH+ibddzYorFq35ytCoSYIh6HrDxetr5okgzZ0\npbb8+6uVXl741CLuz2jetYYstjFj2dW1Z2vqhsiwCN/7dTdmu/cS9RYxg6QxRkms\n4aE+XlpQTgSSLezXiMCh0G9d1Bn5BWfdWA1vxiqFjc6l5Zx5zMmrfgtfbIOXH5Qd\nbduWMCnbHatscTgMMPtw292maMIrsbJs86XeQO6IbsWC7yY=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000584)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerIncarnation Load (0.000401)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339672 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Server Load (0.000223)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623160) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Load (0.000229)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3781) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: RightScript Load (0.000444)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3781) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:26') ORDER BY server_template_executables.position LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Instance Load (0.000285)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339672) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplate Load (0.000217)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3781) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Account Load (0.000243)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Account Load (0.000297)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-30 00:05:26') LIMIT 1
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000192)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3781) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000109)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: InstanceApiToken Update (0.000269)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:05:26' WHERE (id = 61) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000710)  COMMIT
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000094)  BEGIN
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: FrozenRepository Load (0.000263)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339672 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: AuditEntry Delete all (0.000165)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339672) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: WorkUnit Delete all (0.000150)  DELETE FROM `work_units` WHERE ((instance_id = 339672) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: AlertSpec Load (0.007109)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339672 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: ServerAlert Load (0.000274)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339672 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:05:26') 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000213)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339672)) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: Ec2Instance Update (0.000235)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:05:26' WHERE (id = 339672) 
[Thu, 30 Jul 2009 00:05:26 +0000] DEBUG: SQL (0.000702)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Account Load (0.000417)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Deployment Load (0.000597)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:28') LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Load (0.003026)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:28') LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Server Load (0.002458)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:28') LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Load (0.007438)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:28') LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000112)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SharingGroupPublishable Load (0.000312)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3781 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerArray Load (0.000318)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3781) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: FrozenRepository Load (0.000201)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3781 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: AlertSpec Load (0.007157)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3781 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Load (0.000349)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3781) ORDER BY position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Update (0.000204)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3781 AND position > 1) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Update (0.000175)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45851
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000169)   DELETE FROM `server_template_executables`
 WHERE `id` = 45851

[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Update (0.000201)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3781 AND position > 1) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Update (0.000155)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45852
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000147)   DELETE FROM `server_template_executables`
 WHERE `id` = 45852

[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Update (0.000190)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3781 AND position > 1) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Update (0.000140)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45853
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000150)   DELETE FROM `server_template_executables`
 WHERE `id` = 45853

[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Load (0.000303)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3781) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000266)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3781) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Update (0.000211)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:28' WHERE (id = 3781) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000576)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: AlertSpec Load (0.007161)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623160 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: FrozenRepository Load (0.000232)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623160 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ElasticLoadBalancer Load (0.000210)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623160)) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Component Update (0.000238)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:28' WHERE (id = 623160) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000615)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000091)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SharingGroupPublishable Load (0.000231)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5289 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScriptAttachment Load (0.000352)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5289) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:28') ORDER BY position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Load (0.000237)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5289) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Update (0.000215)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:28' WHERE (id = 5289) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000607)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.001156)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:28')) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Create (0.000247)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:28', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Update (0.000259)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:28', `parameters` = '--- {}\n\n', `head_version_id` = 3782, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3782
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000642)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000100)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.001818)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:28')) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Create (0.000236)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:28', NULL, '--- {}\n\n', '2009-07-30 00:05:28', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Update (0.000274)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:28', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5290, `created_at` = '2009-07-30 00:05:28', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5290
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000670)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000292)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5290 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3782) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000522)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3782 AND apply = 'boot' AND right_scripts.head_version_id = 5290) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Load (0.000289)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3782) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Create (0.000218)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5290, 3782, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000658)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000493)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5290 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3782) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.001110)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3782 AND apply = 'operational' AND right_scripts.head_version_id = 5290) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Load (0.000399)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3782) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Create (0.000207)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5290, 3782, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000617)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000099)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000367)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5290 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3782) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000436)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3782 AND apply = 'decommission' AND right_scripts.head_version_id = 5290) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Load (0.000309)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3782) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateRightScript Create (0.000229)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5290, 3782, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000672)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: CloudAccount Load (0.000313)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2SecurityGroup Load (0.000393)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:28')) LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Cloud Load (0.000231)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:28') LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Deployment Load (0.000215)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Create (0.000220)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:28', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:28', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Update (0.000413)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14423
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Component Create (0.002466)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:28', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:28', NULL, 14423, 71, 3782, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000624)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Create (0.000256)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:28', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:28', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000569)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000103)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000336)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '811a8bdcecff5128eecda6b397ac8daf' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Update (0.000201)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14424
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Instance Create (0.000269)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '18dd2dc3b4ce3ba68e7217f23b734011', '2009-07-30 00:05:28', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:28', NULL, '1fbe0b88446b912f226746f0dedfc226', 14424, 71, NULL, 3782, 'sketchy1-1', NULL, 2, '811a8bdcecff5128eecda6b397ac8daf', '0e86038dad891861df00ae47c7c53486', '9255187614eaab35c45648b46469df58', 1, 'e9c48be7fe0e5916d297b1871f005dac', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000561)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Load (0.000686)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3782) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:28') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000108)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Account Load (0.000296)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000224)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623161 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerIncarnation Create (0.000238)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:28', NULL, NULL, 394, 339673, 71, 623161, '2009-07-30 00:05:28', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Update (0.000233)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14423
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Component Update (0.000236)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:28', `active_server_incarnation_id` = 108246, `disabled_scripts` = NULL WHERE `id` = 623161
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000679)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Component Load (0.000318)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623161) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000104)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000385)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '811a8bdcecff5128eecda6b397ac8daf' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339673) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Update (0.000192)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14424
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Instance Update (0.000155)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339673
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000102)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Load (0.000285)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3782) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: FrozenRepository Load (0.000224)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3782 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Deployment Load (0.000281)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: FrozenRepository Load (0.000229)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: FrozenRepository Load (0.000228)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623161 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Account Load (0.000254)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerIncarnation Load (0.000378)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339673 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000100)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: InstanceApiToken Create (0.000231)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:28', 108246, '1fbe0b88446b912f226746f0dedfc226', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTI3WhcNMTkwNzI4MDAw\nNTI3WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC91K+3Gxu3bdD+bvSYlQkBGGTH5uUC\nHJ+mc4ljhuztRV9Qe8yYUWs9lRGq2mCgFdR5T5BsAZaDYamH/QwstHUcu2SSjrto\n82HJ9pVSkKf2hUsRKwV6fyXl8EEX6aBaG9L9N+q8YqGrZQwD1dhacF+EPAqbvCuj\nAPuBLtUznuwJYnMguuucPOezm8srumRLCW7A/2QvBm+/4CyEC79yHOc6BFC4JQv9\nITk7Ps1Ij5AYUIgnJK39SzTwV2i0dU2Q/zfODLyJcXBeMb5CoJiwM1zLZ0V1OdNW\nfBFgmvEV56JSlJNSr1jSF0Yar7Gud47acY4BSqKEaG++DXqUyczXUou5AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAGF+7cVaxsgEVJ8pZKwgEZiOgcM+PsTZzpiTuE1Y\nCUt3Gp28whBRzGVkJnYPHXS1LaPDXBwYc3ZKZ2PcwWvyp6dfanRzU4iwHBGglaja\nrFgsxpbpKS55UsCYEBmr2CUXxl1qop3NCtHSRJs2JJvQeXb66A57ibIsvM0iEzeA\nOC7uBFZUuTPmrmR1Lrka3bUjWkzqq+ebUeAIKlQfnNnfO2QptJ5AoY3jg8P9p/Vc\nRBXIFvg/PPFo8ShTPxci0oqlIKJoQr+w4CEJSSFox+gOppppVIkHYy9VaauHdH4K\nOUDK8YMTa3iqgvbHGuaor9cGTe5n1Mivn/4dkCXSSCTetDk=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000478)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerIncarnation Load (0.000417)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339673 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Server Load (0.000223)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623161) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Load (0.000246)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3782) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Load (0.000475)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3782) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:28') ORDER BY server_template_executables.position LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Instance Load (0.000354)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339673) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerIncarnation Load (0.000364)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339673 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Server Load (0.000223)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623161) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplate Load (0.000219)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3782) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateExecutable Load (0.000418)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3782) AND (apply = 'decommission') ORDER BY position, position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScript Load (0.000251)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`id` = 5290) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Setting Load (0.000245)  SELECT * FROM `ec2_settings` WHERE (`ec2_settings`.`id` = 14424) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: RightScriptAttachment Load (0.000392)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5290) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:28') ORDER BY position
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Account Load (0.000253)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Account Load (0.000310)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) AND (accounts.deleted_at IS NULL OR accounts.deleted_at > '2009-07-30 00:05:28') LIMIT 1
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerTemplateCookbookRepo Load (0.000185)  SELECT * FROM `server_template_cookbook_repos` WHERE (`server_template_cookbook_repos`.server_template_id = 3782) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000101)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: InstanceApiToken Update (0.000249)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:05:28' WHERE (id = 62) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000678)  COMMIT
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: FrozenRepository Load (0.000246)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339673 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: AuditEntry Delete all (0.000163)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339673) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: WorkUnit Delete all (0.000150)  DELETE FROM `work_units` WHERE ((instance_id = 339673) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: AlertSpec Load (0.007169)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339673 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: ServerAlert Load (0.000294)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339673 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:05:28') 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000218)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339673)) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: Ec2Instance Update (0.000192)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:05:28' WHERE (id = 339673) 
[Thu, 30 Jul 2009 00:05:28 +0000] DEBUG: SQL (0.000659)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Account Load (0.000444)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Deployment Load (0.000808)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:29') LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplate Load (0.003069)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:29') LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Server Load (0.002407)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:29') LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScript Load (0.007490)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:29') LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000112)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SharingGroupPublishable Load (0.000297)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3782 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerArray Load (0.000302)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3782) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: FrozenRepository Load (0.000210)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3782 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: AlertSpec Load (0.007218)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3782 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Load (0.000359)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3782) ORDER BY position
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Update (0.000210)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3782 AND position > 1) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Update (0.000218)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45854
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000191)   DELETE FROM `server_template_executables`
 WHERE `id` = 45854

[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Update (0.000210)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3782 AND position > 1) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Update (0.000159)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45855
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000159)   DELETE FROM `server_template_executables`
 WHERE `id` = 45855

[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Update (0.000198)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3782 AND position > 1) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Update (0.000155)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45856
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000164)   DELETE FROM `server_template_executables`
 WHERE `id` = 45856

[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Load (0.000318)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3782) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000262)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3782) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplate Update (0.000237)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:29' WHERE (id = 3782) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000695)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: AlertSpec Load (0.007188)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623161 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: FrozenRepository Load (0.000251)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623161 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ElasticLoadBalancer Load (0.000258)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623161)) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Component Update (0.000240)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:29' WHERE (id = 623161) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000923)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SharingGroupPublishable Load (0.000263)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5290 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScriptAttachment Load (0.000377)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5290) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:29') ORDER BY position
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Load (0.000218)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5290) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScript Update (0.001789)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:29' WHERE (id = 5290) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000675)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000113)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.001234)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:29')) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplate Create (0.000234)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:29', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplate Update (0.000309)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:29', `parameters` = '--- {}\n\n', `head_version_id` = 3783, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3783
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000628)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000076)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.001798)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:29')) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScript Create (0.000234)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:29', NULL, '--- {}\n\n', '2009-07-30 00:05:29', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScript Update (0.000284)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:29', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5291, `created_at` = '2009-07-30 00:05:29', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5291
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000640)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000118)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000321)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5291 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3783) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000370)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3783 AND apply = 'boot' AND right_scripts.head_version_id = 5291) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Load (0.000305)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3783) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Create (0.000198)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5291, 3783, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000650)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000094)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000309)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5291 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3783) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000380)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3783 AND apply = 'operational' AND right_scripts.head_version_id = 5291) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Load (0.000285)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3783) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Create (0.000190)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5291, 3783, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000602)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000329)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5291 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3783) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000411)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3783 AND apply = 'decommission' AND right_scripts.head_version_id = 5291) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateExecutable Load (0.000306)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3783) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplateRightScript Create (0.000273)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5291, 3783, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000550)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: CloudAccount Load (0.000260)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2SecurityGroup Load (0.000463)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:29')) LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Cloud Load (0.000439)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:29') LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Deployment Load (0.000219)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Setting Create (0.000234)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:29', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:29', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Setting Update (0.000189)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14425
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Component Create (0.000210)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:29', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:29', NULL, 14425, 71, 3783, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000613)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Setting Create (0.000212)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:29', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:29', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000611)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000102)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000300)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '12845d488e01b720d22c1f8bdf417ad4' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Setting Update (0.000183)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14426
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Instance Create (0.000260)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'f9cc52fb5ff78591158dcbad1a573ff4', '2009-07-30 00:05:29', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:29', NULL, 'bd6b19b6186c3f3ad76e91cbecc37f40', 14426, 71, NULL, 3783, 'sketchy1-1', NULL, 2, '12845d488e01b720d22c1f8bdf417ad4', 'bdee248f0d77c39acc4c450099f005fa', '0d3e5da9c27ed42b84d1cf5c4620845c', 1, '392db097d221953c11a5b03762f886d2', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.001021)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScript Load (0.000527)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3783) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:29') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000100)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Account Load (0.000286)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000210)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623162 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerIncarnation Create (0.000220)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:29', NULL, NULL, 394, 339674, 71, 623162, '2009-07-30 00:05:29', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Setting Update (0.000209)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14425
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Component Update (0.000222)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:29', `active_server_incarnation_id` = 108247, `disabled_scripts` = NULL WHERE `id` = 623162
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000600)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Component Load (0.000258)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623162) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000341)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '12845d488e01b720d22c1f8bdf417ad4' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339674) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Setting Update (0.000179)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14426
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Instance Update (0.000144)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339674
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000096)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplate Load (0.000287)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3783) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: FrozenRepository Load (0.000221)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3783 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Deployment Load (0.000198)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: FrozenRepository Load (0.000248)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: FrozenRepository Load (0.000198)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623162 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Account Load (0.000278)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerIncarnation Load (0.000383)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339674 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000100)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: InstanceApiToken Create (0.000257)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:29', 108247, 'bd6b19b6186c3f3ad76e91cbecc37f40', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTI5WhcNMTkwNzI4MDAw\nNTI5WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDg0/cFJrM9Tcf/fHtsQSUEkb9k0INO\n2ny39KsRhbujlsEiEwb3ft+3c3pbaoZmdLRFeWg/nwo1CAGuAVKvUbC2mVPPwbf2\nvObXsgznlBSu5bEl3JXuIf0m98TUQzZekaiG4BvhGZT7WTleAkUYDUiP8mgBkazH\nJLig9ENNTxTXGWjkKK/xO51CXYLkObxOBCd2eKPtWElXqunf+umS7pA5kOiiKJSI\n8XdCgUb2cBcJu/zCPb6SJIpD+wZHK+koxUneGe3Z97iAkJZNqaZkVs2zbMZRTysv\no4dEEZTWZomvjrFMstZE9bGQdYMgg5MF8a9xlu58TmrLWBWPBz5rnro9AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAF0cM5ldxsR12R6NLYG3rCroxnTK+YhNzrvWgJjH\ntFtGN83a6Sf3NDag9FE9olq1vxJJqIX4xHFyncNl1GZRYQqVks1sbKJQC7MMqYNs\nUprriQO7Ytq0mGTr0bOadnCIcG3rvb8Ri2UT4tpUHCg394dtSjH1dKkEpJyHOZ1U\n6Pw7tgxrlrnBePKSwaVDb1LY27SVqd09kpoY29kI77qNK3gciPazRq4QPFxMSLgl\nKah79UVUx/N7BqsTRZhyBEU2tUvr6pmUg+0TPDCzNxLfR3iwkRN8tRTLtZ/7uho4\nI9xeOHcoJnzIVuAE0Jo/90nTuMdadEYNc4LMmWB9T/WFy0A=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000608)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerIncarnation Load (0.000392)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339674 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Server Load (0.000236)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623162) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerTemplate Load (0.000217)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3783) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScript Load (0.000446)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3783) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:29') ORDER BY server_template_executables.position LIMIT 1
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Instance Load (0.000313)  SELECT * FROM `ec2_instances` WHERE (`ec2_instances`.`id` = 339674) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Account Load (0.000255)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: RightScriptAttachment Load (0.000351)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5291) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:29') ORDER BY position
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000081)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: InstanceApiToken Update (0.000232)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:05:29' WHERE (id = 63) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000718)  COMMIT
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: FrozenRepository Load (0.000249)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339674 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: AuditEntry Delete all (0.000158)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339674) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: WorkUnit Delete all (0.000148)  DELETE FROM `work_units` WHERE ((instance_id = 339674) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: AlertSpec Load (0.007319)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339674 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: ServerAlert Load (0.000335)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339674 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:05:29') 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000218)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339674)) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: Ec2Instance Update (0.000259)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:05:29' WHERE (id = 339674) 
[Thu, 30 Jul 2009 00:05:29 +0000] DEBUG: SQL (0.000720)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Account Load (0.000498)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Deployment Load (0.000594)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:32') LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplate Load (0.003093)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:32') LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Server Load (0.002371)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:32') LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: RightScript Load (0.007545)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:32') LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000103)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SharingGroupPublishable Load (0.000291)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3783 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerArray Load (0.000327)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3783) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: FrozenRepository Load (0.000197)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3783 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: AlertSpec Load (0.007426)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3783 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Load (0.000382)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3783) ORDER BY position
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Update (0.000207)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3783 AND position > 1) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Update (0.000180)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45857
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000165)   DELETE FROM `server_template_executables`
 WHERE `id` = 45857

[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Update (0.000197)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3783 AND position > 1) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Update (0.000152)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45858
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000164)   DELETE FROM `server_template_executables`
 WHERE `id` = 45858

[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Update (0.000193)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3783 AND position > 1) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Update (0.000166)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45859
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000160)   DELETE FROM `server_template_executables`
 WHERE `id` = 45859

[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Load (0.000307)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3783) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000264)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3783) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplate Update (0.000221)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:32' WHERE (id = 3783) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000579)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000092)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: AlertSpec Load (0.007072)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623162 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: FrozenRepository Load (0.000216)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623162 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ElasticLoadBalancer Load (0.000259)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623162)) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Component Update (0.000295)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:32' WHERE (id = 623162) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000674)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SharingGroupPublishable Load (0.000246)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5291 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: RightScriptAttachment Load (0.000320)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5291) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:32') ORDER BY position
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Load (0.000211)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5291) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: RightScript Update (0.000213)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:32' WHERE (id = 5291) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000534)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.001214)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:32')) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplate Create (0.000275)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:32', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplate Update (0.000267)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:32', `parameters` = '--- {}\n\n', `head_version_id` = 3784, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3784
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000636)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000110)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.001811)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:32')) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: RightScript Create (0.000240)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:32', NULL, '--- {}\n\n', '2009-07-30 00:05:32', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: RightScript Update (0.000281)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:32', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5292, `created_at` = '2009-07-30 00:05:32', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5292
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000631)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000098)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000270)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5292 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3784) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000438)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3784 AND apply = 'boot' AND right_scripts.head_version_id = 5292) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Load (0.000297)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3784) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Create (0.000209)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5292, 3784, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000682)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000264)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5292 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3784) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000401)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3784 AND apply = 'operational' AND right_scripts.head_version_id = 5292) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Load (0.000316)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3784) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Create (0.000336)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5292, 3784, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000698)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000354)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5292 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3784) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000402)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3784 AND apply = 'decommission' AND right_scripts.head_version_id = 5292) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateExecutable Load (0.000295)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3784) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplateRightScript Create (0.000182)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5292, 3784, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000587)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: CloudAccount Load (0.000264)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2SecurityGroup Load (0.000366)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:32')) LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Cloud Load (0.000243)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:32') LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Deployment Load (0.000207)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Setting Create (0.000220)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:32', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:32', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Setting Update (0.000179)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14427
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Component Create (0.000204)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:32', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:32', NULL, 14427, 71, 3784, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000592)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Setting Create (0.000233)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:32', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:32', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000646)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000099)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000284)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'f2677a472158fe08b012dbf71a057b71' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Setting Update (0.000188)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14428
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Instance Create (0.000260)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, 'a6296ef2117e8f75eefc1f805488cbcd', '2009-07-30 00:05:32', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:32', NULL, 'a34419710159f7ef33df695624ab78ce', 14428, 71, NULL, 3784, 'sketchy1-1', NULL, 2, 'f2677a472158fe08b012dbf71a057b71', 'cd20f52697af6261f924417b2cfa1e8a', 'ad462fa412d1911eb8023d5bf223b777', 1, 'ece44b7be38240689bb0030242873ab0', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000613)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: RightScript Load (0.000525)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3784) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:32') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000104)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Account Load (0.000293)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000216)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623163 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerIncarnation Create (0.000207)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:32', NULL, NULL, 394, 339675, 71, 623163, '2009-07-30 00:05:32', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Setting Update (0.000227)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14427
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Component Update (0.000221)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:32', `active_server_incarnation_id` = 108248, `disabled_scripts` = NULL WHERE `id` = 623163
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000616)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Component Load (0.000259)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623163) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000314)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = 'f2677a472158fe08b012dbf71a057b71' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339675) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Setting Update (0.000182)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14428
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Ec2Instance Update (0.000149)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339675
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000097)  COMMIT
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerTemplate Load (0.000235)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3784) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: FrozenRepository Load (0.000278)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3784 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Deployment Load (0.000201)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: FrozenRepository Load (0.000192)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: FrozenRepository Load (0.000186)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623163 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:32') 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: Account Load (0.000261)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: ServerIncarnation Load (0.000355)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339675 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: InstanceApiToken Create (0.000233)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:32', 108248, 'a34419710159f7ef33df695624ab78ce', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTMyWhcNMTkwNzI4MDAw\nNTMyWjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDbkzB2R3BM6c49aJI6+/h1AB+vGwjS\nMlqihiVIiC3ql08swX3sLZ0A6QXWqp82ejX+csOco3tSfInpI280sJUh74BQ5/FT\n4k3cKwrOMAlduoLyMMGSytRX/iwKypElf2vFEYmav0oHpMdXWcq+0/y07KxKTfAC\ndnT7zzpWkQCGheUibl+l80CkVFUaFQoewrii4n/1LFnoOGU4V74pitgxU4szRLP7\nULeNHs1OjtjYcYxR97CFr44IBDu0xjNpLowTxP2AKy8nKCmxHGBFbpYCniIfV0pK\nthZEuM/B3ej4Xvzsd7qF4V+884QAG+XGNphC/NLQ3GmavLEY9Ja7nYnjAgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAKA3wb1iuUqpYCZiXmxCkNhCoHFmYE0BLesVnmJK\nzlkKFJI5gG+cyWCt1Z2hQ4M/owVESh+i7O1/Y8Xiqz+nzXECTol1fPxaAo+WERSr\nAhD+5EILcJuJd0JGOEXSewCf5noIuWbThs/KdNSo7PhPtdKfkFOKiZOQmjanoNN0\nG6zh9S8OR0Mz3SvfhgqI3/thI4Ms0iaLSdnxzvo9baF8VD9WetrfJR3eES1NemrX\n3V/6+w4Hb2quMW1TaNQVvZhtequw0WfENlSRQwxH3aPpO0o6NJm7k9eTvdh1Uj5t\nr8tlKffRgXrDUmtzrJQXM0MAJ9r88MBFE0ko1S98olyQlhg=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:32 +0000] DEBUG: SQL (0.000672)  COMMIT
[Thu, 30 Jul 2009 00:05:40 +0000] DEBUG: AuditEntry Load (0.001857)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:40')) 
[Thu, 30 Jul 2009 00:05:40 +0000] DEBUG: AuditEntry Load (0.000468)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:40')) 
[Thu, 30 Jul 2009 00:05:40 +0000] DEBUG: AuditEntry Load (0.000406)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:40')) 
[Thu, 30 Jul 2009 00:05:40 +0000] DEBUG: AuditEntry Load (0.000399)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:40')) 
[Thu, 30 Jul 2009 00:05:41 +0000] DEBUG: AuditEntry Load (0.000364)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:41')) 
[Thu, 30 Jul 2009 00:05:41 +0000] DEBUG: AuditEntry Load (0.000341)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:41')) 
[Thu, 30 Jul 2009 00:05:41 +0000] DEBUG: AuditEntry Load (0.092684)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:41')) 
[Thu, 30 Jul 2009 00:05:42 +0000] DEBUG: AuditEntry Load (0.000364)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:42')) 
[Thu, 30 Jul 2009 00:05:42 +0000] DEBUG: AuditEntry Load (0.002854)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:42')) 
[Thu, 30 Jul 2009 00:05:42 +0000] DEBUG: AuditEntry Load (0.000375)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:42')) 
[Thu, 30 Jul 2009 00:05:43 +0000] DEBUG: AuditEntry Load (0.002829)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:43')) 
[Thu, 30 Jul 2009 00:05:43 +0000] DEBUG: AuditEntry Load (0.000409)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:43')) 
[Thu, 30 Jul 2009 00:05:43 +0000] DEBUG: AuditEntry Load (0.017096)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:43')) 
[Thu, 30 Jul 2009 00:05:43 +0000] DEBUG: AuditEntry Load (0.000394)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:43')) 
[Thu, 30 Jul 2009 00:05:44 +0000] DEBUG: AuditEntry Load (0.000391)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:44')) 
[Thu, 30 Jul 2009 00:05:44 +0000] DEBUG: AuditEntry Load (0.006323)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:44')) 
[Thu, 30 Jul 2009 00:05:44 +0000] DEBUG: AuditEntry Load (0.000387)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:44')) 
[Thu, 30 Jul 2009 00:05:44 +0000] DEBUG: AuditEntry Load (0.000373)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:44')) 
[Thu, 30 Jul 2009 00:05:45 +0000] DEBUG: AuditEntry Load (0.000407)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:45')) 
[Thu, 30 Jul 2009 00:05:45 +0000] DEBUG: AuditEntry Load (0.000462)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:45')) 
[Thu, 30 Jul 2009 00:05:45 +0000] DEBUG: AuditEntry Load (0.000385)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:45')) 
[Thu, 30 Jul 2009 00:05:46 +0000] DEBUG: AuditEntry Load (0.000384)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:46')) 
[Thu, 30 Jul 2009 00:05:46 +0000] DEBUG: AuditEntry Load (0.000432)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:46')) 
[Thu, 30 Jul 2009 00:05:46 +0000] DEBUG: AuditEntry Load (0.000518)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:46')) 
[Thu, 30 Jul 2009 00:05:46 +0000] DEBUG: AuditEntry Load (0.000640)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:46')) 
[Thu, 30 Jul 2009 00:05:47 +0000] DEBUG: AuditEntry Load (0.100415)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:47')) 
[Thu, 30 Jul 2009 00:05:47 +0000] DEBUG: AuditEntry Load (0.000337)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:47')) 
[Thu, 30 Jul 2009 00:05:47 +0000] DEBUG: AuditEntry Load (0.000354)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:47')) 
[Thu, 30 Jul 2009 00:05:48 +0000] DEBUG: AuditEntry Load (0.001496)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:48')) 
[Thu, 30 Jul 2009 00:05:48 +0000] DEBUG: AuditEntry Load (0.000376)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:48')) 
[Thu, 30 Jul 2009 00:05:48 +0000] DEBUG: AuditEntry Load (0.000423)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:48')) 
[Thu, 30 Jul 2009 00:05:48 +0000] DEBUG: AuditEntry Load (0.000384)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:48')) 
[Thu, 30 Jul 2009 00:05:49 +0000] DEBUG: AuditEntry Load (0.076405)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:49')) 
[Thu, 30 Jul 2009 00:05:49 +0000] DEBUG: AuditEntry Load (0.027239)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:49')) 
[Thu, 30 Jul 2009 00:05:49 +0000] DEBUG: AuditEntry Load (0.000750)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:49')) 
[Thu, 30 Jul 2009 00:05:50 +0000] DEBUG: AuditEntry Load (0.008600)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:50')) 
[Thu, 30 Jul 2009 00:05:50 +0000] DEBUG: AuditEntry Load (0.007509)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:50')) 
[Thu, 30 Jul 2009 00:05:50 +0000] DEBUG: AuditEntry Load (0.064149)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:50')) 
[Thu, 30 Jul 2009 00:05:50 +0000] DEBUG: AuditEntry Load (0.000642)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:50')) 
[Thu, 30 Jul 2009 00:05:51 +0000] DEBUG: AuditEntry Load (0.000540)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:51')) 
[Thu, 30 Jul 2009 00:05:51 +0000] DEBUG: AuditEntry Load (0.012029)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:51')) 
[Thu, 30 Jul 2009 00:05:51 +0000] DEBUG: AuditEntry Load (0.010638)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:51')) 
[Thu, 30 Jul 2009 00:05:52 +0000] DEBUG: AuditEntry Load (0.000382)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:52')) 
[Thu, 30 Jul 2009 00:05:52 +0000] DEBUG: AuditEntry Load (0.096036)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:52')) 
[Thu, 30 Jul 2009 00:05:52 +0000] DEBUG: AuditEntry Load (0.010933)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:52')) 
[Thu, 30 Jul 2009 00:05:53 +0000] DEBUG: AuditEntry Load (0.033080)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:52')) 
[Thu, 30 Jul 2009 00:05:53 +0000] DEBUG: AuditEntry Load (0.001752)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:53')) 
[Thu, 30 Jul 2009 00:05:53 +0000] DEBUG: AuditEntry Load (0.015950)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:53')) 
[Thu, 30 Jul 2009 00:05:53 +0000] DEBUG: AuditEntry Load (0.011775)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:53')) 
[Thu, 30 Jul 2009 00:05:54 +0000] DEBUG: AuditEntry Load (0.076006)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339675) AND (updated_at >= '2009-05-30 00:05:54')) 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: SQL (0.002183)  BEGIN
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: InstanceApiToken Update (0.000698)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:05:56' WHERE (id = 64) 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: SQL (0.001646)  COMMIT
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: SQL (0.000192)  BEGIN
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: FrozenRepository Load (0.000424)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339675 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:56') 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: AuditEntry Delete all (0.000445)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339675) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: WorkUnit Delete all (0.000221)  DELETE FROM `work_units` WHERE ((instance_id = 339675) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: AlertSpec Load (0.011793)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339675 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:56') 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: ServerAlert Load (0.000400)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339675 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:05:56') 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000217)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339675)) 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: Ec2Instance Update (0.000183)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:05:56' WHERE (id = 339675) 
[Thu, 30 Jul 2009 00:05:56 +0000] DEBUG: SQL (0.000531)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Account Load (0.000499)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Deployment Load (0.000631)  SELECT * FROM `deployments` WHERE (`deployments`.`nickname` = 'Default') AND (deployments.deleted_at IS NULL OR deployments.deleted_at > '2009-07-30 00:05:58') LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplate Load (0.002995)  SELECT * FROM `server_templates` WHERE (`server_templates`.`nickname` = 'RightNet Test Template') AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:58') LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Server Load (0.002408)  SELECT * FROM `servers` WHERE (`servers`.`nickname` = 'RightNet Test Server') AND (servers.deleted_at IS NULL OR servers.deleted_at > '2009-07-30 00:05:58') LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: RightScript Load (0.007620)  SELECT * FROM `right_scripts` WHERE (`right_scripts`.`name` = 'RightNet Test Script') AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:58') LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000109)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SharingGroupPublishable Load (0.000280)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 3784 AND `sharing_group_publishables`.publishable_type = 'ServerTemplate') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerArray Load (0.000296)  SELECT * FROM `server_arrays` WHERE (`server_arrays`.server_template_id = 3784) AND (server_arrays.deleted_at IS NULL OR server_arrays.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: FrozenRepository Load (0.000196)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3784 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: AlertSpec Load (0.007449)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 3784 AND `alert_specs`.subject_type = 'ServerTemplate') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000414)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3784) ORDER BY position
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000209)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'boot' and server_template_id = 3784 AND position > 1) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000216)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45860
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000167)   DELETE FROM `server_template_executables`
 WHERE `id` = 45860

[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000198)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'operational' and server_template_id = 3784 AND position > 1) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000155)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45861
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000155)   DELETE FROM `server_template_executables`
 WHERE `id` = 45861

[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Update (0.000194)  UPDATE `server_template_executables` SET position = (position - 1) WHERE (apply = 'decommission' and server_template_id = 3784 AND position > 1) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Update (0.000183)  UPDATE `server_template_executables` SET `position` = NULL WHERE `id` = 45862
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Destroy (0.000164)   DELETE FROM `server_template_executables`
 WHERE `id` = 45862

[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Load (0.000313)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3784) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateChefRecipe Load (0.000275)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.server_template_id = 3784) AND ( (`server_template_executables`.`type` = 'ServerTemplateChefRecipe' ) ) ORDER BY position
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplate Update (0.000217)  UPDATE `server_templates` SET deleted_at = '2009-07-30 00:05:58' WHERE (id = 3784) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000679)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: AlertSpec Load (0.007217)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 623163 AND `alert_specs`.subject_type = 'Server') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: FrozenRepository Load (0.000257)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623163 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ElasticLoadBalancer Load (0.000213)  SELECT `elastic_load_balancers`.* FROM `elastic_load_balancers` INNER JOIN component_elastic_load_balancers ON elastic_load_balancers.id = component_elastic_load_balancers.elastic_load_balancer_id WHERE ((`component_elastic_load_balancers`.component_id = 623163)) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Component Update (0.000235)  UPDATE `servers` SET deleted_at = '2009-07-30 00:05:58' WHERE (id = 623163) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000694)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000093)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SharingGroupPublishable Load (0.000236)  SELECT * FROM `sharing_group_publishables` WHERE (`sharing_group_publishables`.publishable_id = 5292 AND `sharing_group_publishables`.publishable_type = 'RightScript') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: RightScriptAttachment Load (0.000326)  SELECT * FROM `right_script_attachments` WHERE (`right_script_attachments`.right_script_id = 5292) AND (right_script_attachments.deleted_at IS NULL OR right_script_attachments.deleted_at > '2009-07-30 00:05:58') ORDER BY position
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Load (0.000218)  SELECT * FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5292) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: RightScript Update (0.000212)  UPDATE `right_scripts` SET deleted_at = '2009-07-30 00:05:58' WHERE (id = 5292) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000563)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.001190)  SELECT count(*) AS count_all FROM `server_templates` WHERE (`server_templates`.account_id = 71 AND (nickname = 'RightNet Test Template')) AND ((server_templates.head_version_id = server_templates.id) AND (server_templates.deleted_at IS NULL OR server_templates.deleted_at > '2009-07-30 00:05:58')) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplate Create (0.000264)  INSERT INTO `server_templates` (`commit_message`, `deprecated__sharing_group_id`, `nickname`, `updated_at`, `deleted_at`, `head_version_id`, `parameters`, `account_id`, `deprecated_by`, `monitored_apps`, `cloned_from_id`, `version`, `updated_by`, `chef_attributes`, `description`, `contact_email`, `predecessor_id`) VALUES(NULL, NULL, 'RightNet Test Template', '2009-07-30 00:05:58', NULL, NULL, '--- {}\n\n', 71, NULL, NULL, NULL, 1, 'tve@rightscale.com', NULL, 'RightNet Test Template', NULL, NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplate Update (0.000265)  UPDATE `server_templates` SET `updated_at` = '2009-07-30 00:05:58', `parameters` = '--- {}\n\n', `head_version_id` = 3785, `version` = 1, `commit_message` = NULL, `updated_by` = 'tve@rightscale.com', `nickname` = 'RightNet Test Template', `description` = 'RightNet Test Template', `account_id` = 71 WHERE `id` = 3785
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000689)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.001905)  SELECT count(*) AS count_all FROM `right_scripts` WHERE (`right_scripts`.account_id = 71 AND (name = 'RightNet Test Script')) AND ((right_scripts.head_version_id = right_scripts.id) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:58')) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: RightScript Create (0.000255)  INSERT INTO `right_scripts` (`name`, `script`, `commit_message`, `created_at`, `deprecated__sharing_group_id`, `inputs`, `updated_at`, `deleted_at`, `head_version_id`, `account_id`, `packages`, `deprecated_by`, `cloned_from_id`, `version`, `description`, `predecessor_id`) VALUES('RightNet Test Script', '#!/usr/bin/env ruby\nputs \'Running script...\'', NULL, '2009-07-30 00:05:58', NULL, '--- {}\n\n', '2009-07-30 00:05:58', NULL, NULL, 71, NULL, NULL, NULL, 1, 'RightNet Test Script', NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: RightScript Update (0.000308)  UPDATE `right_scripts` SET `updated_at` = '2009-07-30 00:05:58', `script` = '#!/usr/bin/env ruby\nputs \'Running script...\'', `name` = 'RightNet Test Script', `head_version_id` = 5293, `created_at` = '2009-07-30 00:05:58', `version` = 1, `inputs` = '--- {}\n\n', `commit_message` = NULL, `description` = 'RightNet Test Script', `account_id` = 71 WHERE `id` = 5293
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.001349)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000113)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000353)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5293 AND `server_template_executables`.apply = 'boot' AND `server_template_executables`.server_template_id = 3785) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000422)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3785 AND apply = 'boot' AND right_scripts.head_version_id = 5293) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000289)  SELECT * FROM `server_template_executables` WHERE (apply = 'boot' and server_template_id = 3785) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000201)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5293, 3785, 71, 'boot', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000693)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000095)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.002179)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5293 AND `server_template_executables`.apply = 'operational' AND `server_template_executables`.server_template_id = 3785) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000469)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3785 AND apply = 'operational' AND right_scripts.head_version_id = 5293) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000301)  SELECT * FROM `server_template_executables` WHERE (apply = 'operational' and server_template_id = 3785) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000202)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5293, 3785, 71, 'operational', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000660)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000097)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000353)  SELECT `right_script_id` FROM `server_template_executables` WHERE (`server_template_executables`.right_script_id = 5293 AND `server_template_executables`.apply = 'decommission' AND `server_template_executables`.server_template_id = 3785) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Load Including Associations (0.000554)  SELECT `server_template_executables`.`id` AS t0_r0, `server_template_executables`.`server_template_id` AS t0_r1, `server_template_executables`.`right_script_id` AS t0_r2, `server_template_executables`.`position` AS t0_r3, `server_template_executables`.`apply` AS t0_r4, `server_template_executables`.`recipe` AS t0_r5, `server_template_executables`.`type` AS t0_r6, `server_template_executables`.`account_id` AS t0_r7, `right_scripts`.`id` AS t1_r0, `right_scripts`.`name` AS t1_r1, `right_scripts`.`description` AS t1_r2, `right_scripts`.`account_id` AS t1_r3, `right_scripts`.`created_at` AS t1_r4, `right_scripts`.`updated_at` AS t1_r5, `right_scripts`.`deleted_at` AS t1_r6, `right_scripts`.`script` AS t1_r7, `right_scripts`.`packages` AS t1_r8, `right_scripts`.`inputs` AS t1_r9, `right_scripts`.`cloned_from_id` AS t1_r10, `right_scripts`.`version` AS t1_r11, `right_scripts`.`commit_message` AS t1_r12, `right_scripts`.`head_version_id` AS t1_r13, `right_scripts`.`predecessor_id` AS t1_r14, `right_scripts`.`deprecated_by` AS t1_r15, `right_scripts`.`deprecated__sharing_group_id` AS t1_r16 FROM `server_template_executables` LEFT OUTER JOIN `right_scripts` ON `right_scripts`.id = `server_template_executables`.right_script_id WHERE (server_template_id = 3785 AND apply = 'decommission' AND right_scripts.head_version_id = 5293) AND ( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ) LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateExecutable Load (0.000325)  SELECT * FROM `server_template_executables` WHERE (apply = 'decommission' and server_template_id = 3785) ORDER BY position DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplateRightScript Create (0.000252)  INSERT INTO `server_template_executables` (`position`, `right_script_id`, `server_template_id`, `account_id`, `apply`, `type`, `recipe`) VALUES(1, 5293, 3785, 71, 'decommission', 'ServerTemplateRightScript', NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000513)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: CloudAccount Load (0.000318)  SELECT * FROM `cloud_accounts` WHERE (`cloud_accounts`.account_id = 71) AND (cloud_accounts.deleted_at IS NULL OR cloud_accounts.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2SecurityGroup Load (0.000370)  SELECT * FROM `ec2_security_groups` WHERE (`ec2_security_groups`.`aws_group_name` = 'default') AND ((`ec2_security_groups`.`account_id` = 71 AND `ec2_security_groups`.`cloud_id` = 1) AND (ec2_security_groups.deleted_at IS NULL OR ec2_security_groups.deleted_at > '2009-07-30 00:05:58')) LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Cloud Load (0.000228)  SELECT * FROM `clouds` WHERE (clouds.deleted_at IS NULL OR clouds.deleted_at > '2009-07-30 00:05:58') LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000099)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Deployment Load (0.000224)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Setting Create (0.000233)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:58', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:58', 71, NULL, '--- \n- 159\n', NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Setting Update (0.000183)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14429
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Component Create (0.000244)  INSERT INTO `servers` (`created_at`, `associate_eip_at_launch`, `nickname`, `deployment_id`, `updated_at`, `deleted_at`, `ec2_setting_id`, `account_id`, `server_template_id`, `cloned_from_id`, `type`, `flexiscale_setting_id`, `cloud_id`, `should_reincarnate`, `disabled_scripts`, `active_server_incarnation_id`, `gogrid_setting_id`, `active`) VALUES('2009-07-30 00:05:58', 1, 'RightNet Test Server', 394, '2009-07-30 00:05:58', NULL, 14429, 71, 3785, NULL, 'Component', NULL, 1, 1, NULL, NULL, NULL, 1)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000613)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Setting Create (0.000197)  INSERT INTO `ec2_settings` (`aki_image_id`, `created_at`, `aws_platform`, `aws_initial_password`, `parameters`, `updated_at`, `account_id`, `aws_instance_type`, `ec2_security_group_ids`, `ari_image_id`, `cloud_id`, `ec2_elastic_ip_id`, `ec2_ssh_key_id`, `ec2_availability_zone_id`, `ec2_image_id`, `ec2_user_data`, `id_in_working_table`) VALUES(NULL, '2009-07-30 00:05:58', NULL, NULL, '--- {}\n\n', '2009-07-30 00:05:58', 71, NULL, NULL, NULL, 1, NULL, NULL, NULL, NULL, NULL, NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000548)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: WARNING: Can't mass-assign these protected attributes: created_at
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000101)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000298)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '37b6ea36d519216d7885323e4223f9f7' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Setting Update (0.000176)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14430
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Instance Create (0.000268)  INSERT INTO `ec2_instances` (`is_locked`, `r_s_version`, `dns_name`, `created_at`, `operational_at`, `boot_at`, `stranded_at`, `nickname`, `updated_at`, `deleted_at`, `token`, `ec2_setting_id`, `account_id`, `terminated_at`, `server_template_id`, `sketchy`, `configure_at`, `user_id`, `aws_id`, `aws_reservation_id`, `private_dns_name`, `cloud_id`, `aws_owner`, `shutdown_at`, `decommission_at`, `lock_user_id`, `aws_product_codes`, `kill_at`, `lumberjack`) VALUES(0, 5, '2e0e3ceecb887a7c17cfc828c52d7954', '2009-07-30 00:05:58', NULL, NULL, NULL, 'Generated by RightNet Integration Test', '2009-07-30 00:05:58', NULL, 'd4209da56e7acd15a0cc4083e2aa1670', 14430, 71, NULL, 3785, 'sketchy1-1', NULL, 2, '37b6ea36d519216d7885323e4223f9f7', '4709cf7d70317e7f143f4fec83598a14', 'b03350f96084543fc4057c26c6e31cd9', 1, 'b7c8c79e874b17244898db521681a4f4', NULL, NULL, NULL, NULL, NULL, 'syslog1-1')
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000582)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: RightScript Load (0.000527)  SELECT `right_scripts`.* FROM `right_scripts` INNER JOIN server_template_executables ON right_scripts.id = server_template_executables.right_script_id WHERE ((`server_template_executables`.server_template_id = 3785) AND (( (`server_template_executables`.`type` = 'ServerTemplateRightScript' ) ))) AND (right_scripts.deleted_at IS NULL OR right_scripts.deleted_at > '2009-07-30 00:05:58') ORDER BY server_template_executables.position
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000102)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Account Load (0.000271)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000239)  SELECT `detached_at` FROM `server_incarnations` WHERE (`server_incarnations`.detached_at IS NULL AND `server_incarnations`.incarnator_id = 623164 AND `server_incarnations`.incarnator_type = 'Server') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerIncarnation Create (0.000213)  INSERT INTO `server_incarnations` (`created_at`, `detached_at`, `deleted_at`, `deployment_id`, `instantiable_id`, `account_id`, `incarnator_id`, `attached_at`, `instantiable_type`, `incarnator_type`) VALUES('2009-07-30 00:05:58', NULL, NULL, 394, 339676, 71, 623164, '2009-07-30 00:05:58', 'Ec2Instance', 'Server')
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Setting Update (0.000216)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = '--- \n- 159\n' WHERE `id` = 14429
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Component Update (0.000217)  UPDATE `servers` SET `updated_at` = '2009-07-30 00:05:58', `active_server_incarnation_id` = 108249, `disabled_scripts` = NULL WHERE `id` = 623164
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000611)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Component Load (0.000261)  SELECT * FROM `servers` WHERE (`servers`.`id` = 623164) AND ( (`servers`.`type` = 'Component' ) ) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000096)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000322)  SELECT `aws_id` FROM `ec2_instances` WHERE (`ec2_instances`.aws_id = '37b6ea36d519216d7885323e4223f9f7' AND `ec2_instances`.account_id = 71 AND `ec2_instances`.cloud_id = 1 AND `ec2_instances`.deleted_at IS NULL AND `ec2_instances`.id <> 339676) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Setting Update (0.000163)  UPDATE `ec2_settings` SET `parameters` = '--- {}\n\n', `ec2_security_group_ids` = NULL WHERE `id` = 14430
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Ec2Instance Update (0.000134)  UPDATE `ec2_instances` SET `aws_product_codes` = NULL WHERE `id` = 339676
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000076)  COMMIT
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerTemplate Load (0.000255)  SELECT * FROM `server_templates` WHERE (`server_templates`.`id` = 3785) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: FrozenRepository Load (0.000215)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 3785 AND `frozen_repositories`.owner_type = 'ServerTemplate') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Deployment Load (0.000233)  SELECT * FROM `deployments` WHERE (`deployments`.`id` = 394) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: FrozenRepository Load (0.000215)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 394 AND `frozen_repositories`.owner_type = 'Deployment') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: FrozenRepository Load (0.000213)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 623164 AND `frozen_repositories`.owner_type = 'Server') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:05:58') 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: Account Load (0.000260)  SELECT * FROM `accounts` WHERE (`accounts`.`id` = 71) 
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: ServerIncarnation Load (0.000427)  SELECT * FROM `server_incarnations` WHERE (`server_incarnations`.instantiable_id = 339676 AND `server_incarnations`.instantiable_type = 'Ec2Instance' AND (attached_at is not null and detached_at is null)) ORDER BY attached_at DESC LIMIT 1
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000104)  BEGIN
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: InstanceApiToken Create (0.000479)  INSERT INTO `instance_api_tokens` (`created_at`, `server_incarnation_id`, `token`, `deleted_at`, `certificate`, `account_id`, `src_ip`) VALUES('2009-07-30 00:05:58', 108249, 'd4209da56e7acd15a0cc4083e2aa1670', NULL, '-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBATANBgkqhkiG9w0BAQUFADCBgjEUMBIGA1UEAwwLTmFu\naXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJhcmJhcmExEzARBgNVBAgMCkNhbGlm\nb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZOYW5pdGUxHzAdBgNVBAsMFkNl\ncnRpZmljYXRpb24gU2VydmljZXMwHhcNMDkwNzMwMDAwNTU4WhcNMTkwNzI4MDAw\nNTU4WjCBgjEUMBIGA1UEAwwLTmFuaXRlIHRlc3QxFjAUBgNVBAcMDVNhbnRhIEJh\ncmJhcmExEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMQ8wDQYDVQQK\nDAZOYW5pdGUxHzAdBgNVBAsMFkNlcnRpZmljYXRpb24gU2VydmljZXMwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAi9jmrQHUOr2PwlfKckPKap5lk4KH\nb3EYf6WZeCbtH7lmu2jt5UNik2yekKRX8sIeY/K6qS8MrVEohw9RHlfhkzV0fCJe\nUurf9OsJZUsDcE7sl7x61weTP2VPhF21d3NBipVX4Cx6vmbGNiH+4MHxDZvsuxaJ\nob3s2kDIo/AkDiuWzwQ2eb+3BDvx49xzvymUjZfagB1iS7CGMG18ISK7pwZHs8Fg\nHXmAEueeVx+cuP0EQf7JOQ93kPZ884ELYyBwodt2VzVIOKvud2ToLj0HXIYZupG2\niRMg7OuyJp7w0GQaRn8x+DP7Qvoh4CofIYUDeE5bvS0tgMV0EpnKJ+i5AgMBAAEw\nDQYJKoZIhvcNAQEFBQADggEBAAMAWcccsqcVm8d/UiPTctsdlFI1OjTr7myl67+q\nHgaM9aava/XZsbSHTXXA59P/gUqFJmSzP0Foi9XeqSiy4WKhRZzd3EFFb/EgcK7I\nRopxOMThsGnKZUf8dubSnyjOfmp+3NJJEo5ZM78J47CIxElBn7tn1I3Dn0pc4R85\nabfrDIgNGVvEr/9PBVfwG8KhqvelZdPXAkEFxiSwM9dDdjV8rL5Ho178VxtEz/ii\nLFc695uSy+d/ylmSljJtCSIn5UdkdAeOc31Cqqobqu88MFeijBpyEPeTM2YWtm1W\nqsDbZXyJrfmR/OzZwv6kB/QeCikxJV7/ayvjDpKHzcymTFI=\n-----END CERTIFICATE-----\n', 71, NULL)
[Thu, 30 Jul 2009 00:05:58 +0000] DEBUG: SQL (0.000634)  COMMIT
[Thu, 30 Jul 2009 00:06:06 +0000] DEBUG: AuditEntry Load (0.000489)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:06')) 
[Thu, 30 Jul 2009 00:06:06 +0000] DEBUG: AuditEntry Load (0.000383)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:06')) 
[Thu, 30 Jul 2009 00:06:06 +0000] DEBUG: AuditEntry Load (0.001264)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:06')) 
[Thu, 30 Jul 2009 00:06:06 +0000] DEBUG: AuditEntry Load (0.000362)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:06')) 
[Thu, 30 Jul 2009 00:06:07 +0000] DEBUG: AuditEntry Load (0.000366)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:07')) 
[Thu, 30 Jul 2009 00:06:07 +0000] DEBUG: AuditEntry Load (0.000402)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:07')) 
[Thu, 30 Jul 2009 00:06:07 +0000] DEBUG: AuditEntry Load (0.014666)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:07')) 
[Thu, 30 Jul 2009 00:06:08 +0000] DEBUG: AuditEntry Load (0.003746)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:08')) 
[Thu, 30 Jul 2009 00:06:08 +0000] DEBUG: AuditEntry Load (0.002932)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:08')) 
[Thu, 30 Jul 2009 00:06:08 +0000] DEBUG: AuditEntry Load (0.000398)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:08')) 
[Thu, 30 Jul 2009 00:06:08 +0000] DEBUG: AuditEntry Load (0.000399)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:08')) 
[Thu, 30 Jul 2009 00:06:09 +0000] DEBUG: AuditEntry Load (0.004875)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:09')) 
[Thu, 30 Jul 2009 00:06:09 +0000] DEBUG: AuditEntry Load (0.008446)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:09')) 
[Thu, 30 Jul 2009 00:06:09 +0000] DEBUG: AuditEntry Load (0.000397)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:09')) 
[Thu, 30 Jul 2009 00:06:10 +0000] DEBUG: AuditEntry Load (0.000374)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:10')) 
[Thu, 30 Jul 2009 00:06:10 +0000] DEBUG: AuditEntry Load (0.000391)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:10')) 
[Thu, 30 Jul 2009 00:06:10 +0000] DEBUG: AuditEntry Load (0.000370)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:10')) 
[Thu, 30 Jul 2009 00:06:10 +0000] DEBUG: AuditEntry Load (0.000572)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:10')) 
[Thu, 30 Jul 2009 00:06:11 +0000] DEBUG: AuditEntry Load (0.028935)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:11')) 
[Thu, 30 Jul 2009 00:06:11 +0000] DEBUG: AuditEntry Load (0.091012)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:11')) 
[Thu, 30 Jul 2009 00:06:11 +0000] DEBUG: AuditEntry Load (0.018643)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:11')) 
[Thu, 30 Jul 2009 00:06:12 +0000] DEBUG: AuditEntry Load (0.015954)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:12')) 
[Thu, 30 Jul 2009 00:06:12 +0000] DEBUG: AuditEntry Load (0.000462)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:12')) 
[Thu, 30 Jul 2009 00:06:12 +0000] DEBUG: AuditEntry Load (0.000385)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:12')) 
[Thu, 30 Jul 2009 00:06:13 +0000] DEBUG: AuditEntry Load (0.000460)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:13')) 
[Thu, 30 Jul 2009 00:06:13 +0000] DEBUG: AuditEntry Load (0.000398)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:13')) 
[Thu, 30 Jul 2009 00:06:13 +0000] DEBUG: AuditEntry Load (0.036031)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:13')) 
[Thu, 30 Jul 2009 00:06:13 +0000] DEBUG: AuditEntry Load (0.000368)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:13')) 
[Thu, 30 Jul 2009 00:06:14 +0000] DEBUG: AuditEntry Load (0.002454)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:14')) 
[Thu, 30 Jul 2009 00:06:14 +0000] DEBUG: AuditEntry Load (0.003084)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:14')) 
[Thu, 30 Jul 2009 00:06:14 +0000] DEBUG: AuditEntry Load (0.000383)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:14')) 
[Thu, 30 Jul 2009 00:06:15 +0000] DEBUG: AuditEntry Load (0.016059)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:15')) 
[Thu, 30 Jul 2009 00:06:15 +0000] DEBUG: AuditEntry Load (0.000448)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:15')) 
[Thu, 30 Jul 2009 00:06:15 +0000] DEBUG: AuditEntry Load (0.000496)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:15')) 
[Thu, 30 Jul 2009 00:06:15 +0000] DEBUG: AuditEntry Load (0.000711)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:15')) 
[Thu, 30 Jul 2009 00:06:16 +0000] DEBUG: AuditEntry Load (0.013160)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:16')) 
[Thu, 30 Jul 2009 00:06:16 +0000] DEBUG: AuditEntry Load (0.000377)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:16')) 
[Thu, 30 Jul 2009 00:06:16 +0000] DEBUG: AuditEntry Load (0.000435)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:16')) 
[Thu, 30 Jul 2009 00:06:16 +0000] DEBUG: AuditEntry Load (0.000395)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:16')) 
[Thu, 30 Jul 2009 00:06:17 +0000] DEBUG: AuditEntry Load (0.033762)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:17')) 
[Thu, 30 Jul 2009 00:06:17 +0000] DEBUG: AuditEntry Load (0.152600)  SELECT * FROM `audit_entries` WHERE ((auditee_id = 339676) AND (updated_at >= '2009-05-30 00:06:17')) 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: SQL (0.001635)  BEGIN
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: InstanceApiToken Update (0.000685)  UPDATE `instance_api_tokens` SET deleted_at = '2009-07-30 00:06:20' WHERE (id = 65) 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: SQL (0.000571)  COMMIT
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: SQL (0.000174)  BEGIN
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: FrozenRepository Load (0.001038)  SELECT * FROM `frozen_repositories` WHERE (`frozen_repositories`.owner_id = 339676 AND `frozen_repositories`.owner_type = 'Ec2Instance') AND (frozen_repositories.deleted_at IS NULL OR frozen_repositories.deleted_at > '2009-07-30 00:06:20') 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: AuditEntry Delete all (0.000497)  DELETE FROM `audit_entries` WHERE ((auditee_id = 339676) AND (auditee_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: WorkUnit Delete all (0.000289)  DELETE FROM `work_units` WHERE ((instance_id = 339676) AND (instance_type = 'Ec2Instance')) 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: AlertSpec Load (0.008052)  SELECT * FROM `alert_specs` WHERE (`alert_specs`.subject_id = 339676 AND `alert_specs`.subject_type = 'Ec2Instance') AND (alert_specs.deleted_at IS NULL OR alert_specs.deleted_at > '2009-07-30 00:06:20') 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: ServerAlert Load (0.000662)  SELECT * FROM `server_alerts` WHERE (`server_alerts`.instantiable_id = 339676 AND `server_alerts`.instantiable_type = 'Ec2Instance') AND (server_alerts.deleted_at IS NULL OR server_alerts.deleted_at > '2009-07-30 00:06:20') 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: Ec2InstancesGroup Delete all (0.000442)  DELETE FROM `ec2_instances_groups` WHERE ((ec2_instance_id = 339676)) 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: Ec2Instance Update (0.000392)  UPDATE `ec2_instances` SET deleted_at = '2009-07-30 00:06:20' WHERE (id = 339676) 
[Thu, 30 Jul 2009 00:06:20 +0000] DEBUG: SQL (0.001148)  COMMIT
